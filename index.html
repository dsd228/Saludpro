
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Plataforma Educativa Médica Avanzada - Curaciones, Especialidades Clínicas y Simulaciones">
    <title>EduMed · Plataforma Avanzada de Educación Clínica</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Paleta de verdes claros */
            --bg: linear-gradient(135deg, #f0f9ff, #e0f2f1, #d0f0c0);
            --glass: rgba(255, 255, 255, 0.95);
            --glass-2: rgba(240, 249, 255, 0.8);
            --accent: #059669;
            --accent-2: #047857;
            --accent-3: #065f46;
            --primary-green: #059669;
            --primary-green-darker: #047857;
            --primary-green-lighter: rgba(5, 150, 105, 0.1);
            --success-green: #10b981;
            --warning-yellow: #ca8a04;
            --alert-red: #dc2626;
            --text-light: #0f172a;
            --text-dark: #0f172a;
            --muted: #64748b;
            --danger: #ef4444;
            --card-radius: 24px;
            --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-sm: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 35px 60px -15px rgba(0, 0, 0, 0.2);
            --shadow-inset: inset 0 1px 2px rgba(255, 255, 255, 0.1);
            --tap: 48px;
            --font: 'Inter', 'Roboto', system-ui, -apple-system, "Segoe UI", sans-serif;
            --font-heading: 'Inter', 'Open Sans', system-ui, sans-serif;
            --maxwidth: 1600px;
            --border: rgba(100, 116, 139, 0.3);
            --border-light: rgba(100, 116, 139, 0.2);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.15s ease;
            --z-header: 100;
            --z-sidebar: 90;
            --z-modal: 200;
            --gradient-primary: linear-gradient(135deg, #059669, #047857);
            --gradient-secondary: linear-gradient(135deg, #10b981, #059669);
            --gradient-success: linear-gradient(135deg, #10b981, #059669);
            --gradient-warning: linear-gradient(135deg, #f59e0b, #d97706);
            --gradient-danger: linear-gradient(135deg, #ef4444, #dc2626);
            --gradient-info: linear-gradient(135deg, #06b6d4, #0891b2);
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            transition: var(--transition);
        }
        html, body {
            height: 100%;
            margin: 0;
            font-family: var(--font);
            background: var(--bg);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            display: flex;
            justify-content: center;
            padding: 16px;
            color: var(--text-dark);
            overflow-x: hidden;
        }
        .app {
            width: 100%;
            max-width: var(--maxwidth);
            height: calc(100vh - 32px);
            display: flex;
            flex-direction: column;
            background: var(--glass);
            backdrop-filter: blur(24px);
            border-radius: var(--card-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            border: 1px solid var(--border);
            border-bottom-width: 2px;
        }
        /* Estructura principal */
        header {
            padding: 24px 32px;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: var(--z-header);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.18);
        }
        header h1 {
            font-size: 1.9rem;
            font-weight: 700;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 16px;
            letter-spacing: -0.8px;
            text-shadow: 0 2px 4px rgba(5, 150, 105, 0.3);
        }
        .brand-icon {
            font-size: 2.2rem;
            color: var(--accent);
            text-shadow: 0 0 12px rgba(5, 150, 105, 0.4);
        }
        .controls {
            display: flex;
            align-items: center;
            gap: 18px;
        }
        .theme-toggle {
            background: var(--glass-2);
            border: none;
            font-size: 1.6rem;
            cursor: pointer;
            color: var(--text-light);
            padding: 14px;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
            transform: scale(1);
        }
        .theme-toggle:hover {
            background: var(--accent-2);
            transform: translateY(-3px) rotate(10deg);
            box-shadow: var(--shadow-md);
        }
        .theme-toggle:active {
            transform: translateY(-1px);
        }
        .mobile-menu-btn {
            display: none;
            background: var(--glass-2);
            border: none;
            font-size: 1.6rem;
            cursor: pointer;
            color: var(--text-light);
            padding: 14px;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            border: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
        }
        .mobile-menu-btn:hover {
            background: var(--accent-2);
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        .sidebar {
            width: 340px;
            background: var(--glass);
            border-right: 1px solid var(--border);
            padding: 24px;
            overflow-y: auto;
            transition: var(--transition);
            position: relative;
            z-index: var(--z-sidebar);
            box-shadow: var(--shadow-sm);
            border-right-width: 2px;
        }
        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 18px 0;
            margin-bottom: 28px;
            border-bottom: 1px solid var(--border-light);
            color: var(--accent);
        }
        .sidebar-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
            letter-spacing: 0.8px;
        }
        .cat-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }
        .cat-btn {
            padding: 20px 24px;
            border: none;
            border-radius: 18px;
            background: var(--glass-2);
            color: var(--text-light);
            font-weight: 500;
            cursor: pointer;
            text-align: left;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 18px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
            position: relative;
            overflow: hidden;
            font-size: 1.05rem;
            font-family: var(--font);
        }
        .cat-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: transparent;
            transition: var(--transition);
        }
        .cat-btn:hover {
            background: var(--accent-2);
            color: white;
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }
        .cat-btn:hover::before {
            background: var(--accent);
        }
        .cat-btn.active {
            background: var(--accent-2);
            color: white;
            box-shadow: var(--shadow-md);
            font-weight: 600;
            transform: translateY(-2px);
        }
        .cat-btn.active::before {
            background: var(--accent);
        }
        .cat-btn i {
            font-size: 1.7rem;
            width: 32px;
            text-align: center;
            transition: var(--transition);
        }
        .cat-btn[data-cat="higiene"] i { color: #4ade80; }
        .cat-btn[data-cat="curaciones"] i { color: #059669; }
        .cat-btn[data-cat="farmaco"] i { color: #8b5cf6; }
        .cat-btn[data-cat="emergencias"] i { color: #dc2626; }
        .cat-btn[data-cat="movilizacion"] i { color: #ca8a04; }
        .cat-btn[data-cat="rcp"] i { color: #06b6d4; }
        .cat-btn[data-cat="pae"] i { color: #10b981; }
        .cat-btn[data-cat="recursos"] i { color: #64748b; }
        main {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
            background: var(--glass);
        }
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-light);
        }
        .page-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 24px;
            font-weight: 500;
            color: var(--text-light);
        }
        .page-title i {
            color: var(--accent);
        }
        .action-buttons {
            display: flex;
            gap: 12px;
        }
        .btn {
            padding: 18px 24px;
            border: none;
            border-radius: 18px;
            cursor: pointer;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            font-family: var(--font);
            font-weight: 500;
            box-shadow: var(--shadow-sm);
            font-size: 1.1rem;
            transition: var(--transition);
        }
        .btn.primary {
            background: var(--gradient-primary);
            color: white;
            border: 1px solid rgba(5, 150, 105, 0.3);
        }
        .btn.primary:hover {
            background: var(--gradient-secondary);
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        .btn.primary:active {
            transform: translateY(-2px);
        }
        .btn.secondary {
            background: var(--gradient-secondary);
            color: white;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        .btn.secondary:hover {
            background: var(--primary-green-darker);
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        .btn.success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        .btn.warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        .btn.danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        .search-container {
            position: relative;
            width: 100%;
            max-width: 500px;
        }
        .input {
            width: 100%;
            padding: 18px 24px;
            padding-left: 52px;
            border: 1px solid var(--border-light);
            border-radius: 18px;
            font-family: var(--font);
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.08);
            color: var(--text-light);
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-light);
        }
        .input::placeholder {
            color: rgba(15, 23, 42, 0.7);
        }
        .input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(5, 150, 105, 0.2);
            background: rgba(255, 255, 255, 0.12);
        }
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--muted);
            font-size: 1.2rem;
        }
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--glass);
            border: 1px solid var(--border-light);
            border-top: none;
            border-radius: 0 0 18px 18px;
            box-shadow: var(--shadow-md);
            z-index: 100;
            max-height: 300px;
            overflow-y: auto;
        }
        .suggestion-item {
            padding: 16px 24px;
            cursor: pointer;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-light);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .suggestion-item:hover {
            background: var(--accent-2);
            color: white;
        }
        .suggestion-item:last-child {
            border-bottom: none;
        }
        .suggestion-item i {
            color: var(--muted);
            font-size: 1.1rem;
        }
        .category-card {
            background: var(--glass-2);
            border-radius: 24px;
            padding: 32px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
            margin-top: 28px;
            transition: var(--transition);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-light);
        }
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }
        .category-card h2 {
            color: var(--accent);
            margin-bottom: 24px;
            font-size: 1.7rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 14px;
            letter-spacing: -0.8px;
        }
        .category-card h2 i {
            font-size: 1.8rem;
        }
        .category-card h3 {
            color: var(--accent-2);
            margin: 24px 0 14px 0;
            font-size: 1.4rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: -0.5px;
        }
        .category-card h4 {
            color: var(--primary-green);
            margin: 14px 0 10px 0;
            font-size: 1.2rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .procedure {
            margin-bottom: 28px;
            padding-bottom: 28px;
            border-bottom: 1px solid var(--border-light);
            transition: var(--transition);
            position: relative;
        }
        .procedure::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: var(--transition);
        }
        .procedure:hover::after {
            width: 100%;
        }
        .procedure:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .procedure h3 {
            color: var(--accent-2);
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .procedure h3 i {
            font-size: 1.4rem;
            color: var(--accent);
        }
        .procedure p {
            margin: 8px 0;
            color: var(--text-light);
            line-height: 1.7;
            font-size: 1.05rem;
        }
        .procedure .summary {
            font-style: italic;
            color: var(--muted);
            margin-bottom: 14px;
            padding: 20px;
            background: var(--primary-green-lighter);
            border-radius: 14px;
            border-left: 5px solid var(--primary-green);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .procedure .summary i {
            color: var(--primary-green);
            margin-right: 10px;
        }
        .materials, .steps, .notes {
            margin: 14px 0;
        }
        .materials ul, .steps ol {
            margin: 12px 0;
            padding-left: 32px;
        }
        .materials li, .steps li {
            margin: 8px 0;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        .materials li::before, .steps li::before {
            content: "•";
            color: var(--accent);
            font-weight: bold;
            margin-top: 6px;
            font-size: 1.3rem;
        }
        .steps li::before {
            content: counter(step);
            counter-increment: step;
            background: var(--accent);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            margin-top: 4px;
        }
        .notes {
            background: var(--primary-green-lighter);
            padding: 22px 26px;
            border-radius: 16px;
            border-left: 5px solid var(--primary-green);
            margin: 16px 0;
            font-size: 1.02rem;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .notes i {
            color: var(--primary-green);
            margin-right: 12px;
        }
        .source-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(5, 150, 105, 0.15);
            color: var(--accent);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-left: 8px;
            border: 1px solid rgba(5, 150, 105, 0.3);
        }
        .source-badge i {
            font-size: 0.9rem;
        }
        .source-badge.wiki {
            background: rgba(234, 234, 234, 0.2);
            color: #000000;
            border-color: rgba(234, 234, 234, 0.4);
        }
        .source-badge.fda {
            background: rgba(220, 38, 38, 0.15);
            color: var(--alert-red);
            border-color: rgba(220, 38, 38, 0.3);
        }
        .source-badge.who {
            background: rgba(0, 153, 255, 0.15);
            color: #0099ff;
            border-color: rgba(0, 153, 255, 0.3);
        }
        .source-reference {
            font-size: 0.9rem;
            color: var(--muted);
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-style: italic;
        }
        .source-reference a {
            color: var(--accent);
            text-decoration: none;
        }
        .source-reference a:hover {
            text-decoration: underline;
        }
        .resource-panel {
            background: var(--glass-2);
            border-radius: 24px;
            padding: 32px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
            margin-top: 28px;
            transition: var(--transition);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-light);
        }
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }
        .resource-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 24px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }
        .resource-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-md);
        }
        .resource-card h3 {
            color: var(--accent);
            margin-bottom: 16px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .resource-card h3 i {
            font-size: 1.5rem;
        }
        .resource-card p {
            margin: 6px 0;
            font-size: 1.02rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .resource-card p i {
            color: var(--muted);
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }
        .resource-card a {
            display: inline-block;
            margin-top: 16px;
            padding: 12px 18px;
            background: var(--gradient-secondary);
            color: white;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            border: 1px solid rgba(16, 185, 129, 0.3);
            font-size: 1.02rem;
        }
        .resource-card a:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-sm);
        }
        @media (max-width: 1200px) {
            .app {
                border-radius: 18px;
            }
            .category-card, .resource-panel {
                border-radius: 18px;
                padding: 28px;
            }
        }
        @media (max-width: 1024px) {
            .app {
                border-radius: 16px;
            }
            .category-card, .resource-panel {
                border-radius: 16px;
                padding: 24px;
            }
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                max-height: 320px;
                border-right: none;
                border-bottom: 1px solid var(--border);
                position: relative;
                z-index: 60;
            }
            .mobile-menu-btn {
                display: flex;
            }
            .sidebar.hidden-mobile {
                display: none;
            }
        }
        @media (max-width: 480px) {
            .app {
                border-radius: 14px;
            }
            .category-card, .resource-panel {
                border-radius: 14px;
                padding: 18px;
            }
            .cat-btn {
                padding: 16px 20px;
                font-size: 1rem;
            }
        }
        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-60px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }
        .notification {
            padding: 20px 24px;
            border-radius: 16px;
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 16px;
            animation: fadeIn 0.4s ease;
            border: 1px solid var(--border);
        }
        .notification-success {
            background: rgba(16, 185, 129, 0.22);
            border-color: rgba(16, 185, 129, 0.38);
            color: var(--success-green);
        }
        .notification-error {
            background: rgba(239, 68, 68, 0.22);
            border-color: rgba(239, 68, 68, 0.38);
            color: var(--alert-red);
        }
        .notification-info {
            background: rgba(5, 150, 105, 0.22);
            border-color: rgba(5, 150, 105, 0.38);
            color: var(--accent);
        }
        .notification-icon {
            font-size: 1.5rem;
        }
        .notification-content {
            flex: 1;
        }
        .close-notification {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--muted);
            padding: 4px;
        }
        .close-notification:hover {
            color: white;
        }
        /* Estados de carga */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* Perfil de usuario */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 16px;
            border-radius: 12px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        .user-info {
            color: var(--text-light);
            font-size: 14px;
        }
        .user-name {
            font-weight: 600;
        }
        .user-role {
            font-size: 12px;
            color: var(--muted);
        }
        /* Contenido visual */
        .visual-content {
            margin: 20px 0;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .visual-content img {
            width: 100%;
            height: auto;
            display: block;
        }
        .visual-caption {
            padding: 16px;
            background: var(--glass-2);
            border-top: 1px solid var(--border-light);
            color: var(--muted);
            font-size: 0.95rem;
        }
        .external-links {
            margin: 20px 0;
            padding: 16px;
            background: var(--primary-green-lighter);
            border-radius: 16px;
            border: 1px solid var(--border-light);
        }
        .external-links h4 {
            color: var(--primary-green);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .external-links ul {
            list-style: none;
            padding: 0;
        }
        .external-links li {
            margin: 8px 0;
        }
        .external-links a {
            color: var(--accent);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: var(--transition);
        }
        .external-links a:hover {
            background: var(--accent-2);
            color: white;
        }
        .external-links i {
            font-size: 1.1rem;
        }
        /* Advertencias de interacción de medicamentos */
        .interaction-warning {
            margin: 16px 0;
            padding: 16px;
            border-radius: 16px;
            font-size: 1.05rem;
            border: 1px solid;
            box-shadow: var(--shadow-sm);
        }
        .interaction-warning.severe {
            background: rgba(220, 38, 38, 0.15);
            border-color: rgba(220, 38, 38, 0.3);
            color: var(--alert-red);
        }
        .interaction-warning.moderate {
            background: rgba(202, 138, 4, 0.15);
            border-color: rgba(202, 138, 4, 0.3);
            color: var(--warning-yellow);
        }
        .interaction-warning.mild {
            background: rgba(16, 185, 129, 0.15);
            border-color: rgba(16, 185, 129, 0.3);
            color: var(--success-green);
        }
        .interaction-warning i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        /* Estilos de calculadoras */
        .calculator {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 24px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .calculator h4 {
            color: var(--accent-2);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .calculator-input {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            align-items: center;
        }
        .calculator-input label {
            flex: 1;
            color: var(--text-light);
            font-weight: 500;
        }
        .calculator-input input {
            flex: 2;
            padding: 12px 16px;
            border: 1px solid var(--border-light);
            border-radius: 12px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.08);
            color: var(--text-light);
        }
        .calculator-result {
            margin-top: 16px;
            padding: 16px;
            background: var(--primary-green-lighter);
            border-radius: 12px;
            border-left: 5px solid var(--primary-green);
            font-size: 1.1rem;
            color: var(--accent-2);
            font-weight: 500;
        }
        /* Modal de inicio de sesión */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: modalFadeIn 0.4s ease;
        }
        .login-content {
            background: var(--glass);
            border-radius: 24px;
            padding: 40px;
            width: 100%;
            max-width: 500px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
        }
        .login-header {
            text-align: center;
            margin-bottom: 32px;
        }
        .login-header h2 {
            color: var(--accent);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }
        .login-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .login-form label {
            color: var(--text-light);
            font-weight: 500;
        }
        .login-form input {
            padding: 16px 20px;
            border: 1px solid var(--border-light);
            border-radius: 16px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.08);
            color: var(--text-light);
        }
        .login-form button {
            margin-top: 8px;
            padding: 16px 24px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            box-shadow: var(--shadow-md);
        }
        .login-form button:hover {
            background: var(--gradient-secondary);
            transform: translateY(-2px);
        }
        /* Pestañas */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-light);
            margin-bottom: 24px;
        }
        .tab {
            padding: 16px 24px;
            cursor: pointer;
            color: var(--muted);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }
        .tab.active {
            color: var(--accent);
            border-bottom: 3px solid var(--accent);
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        /* Nuevos estilos para mejoras */
        .simulator-container {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 24px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .simulator-header {
            color: var(--accent);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .vital-signs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }
        .vital-card {
            background: var(--glass);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .vital-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin: 8px 0;
        }
        .vital-label {
            font-size: 0.9rem;
            color: var(--muted);
        }
        .simulator-controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 450px;
            background: var(--glass);
            border-radius: 18px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            z-index: 100;
            overflow: hidden;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        .chatbot-container.open {
            transform: translateY(0);
        }
        .chatbot-header {
            padding: 16px;
            background: var(--accent);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chatbot-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 0.95rem;
        }
        .message.bot {
            background: var(--glass-2);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        .message.user {
            background: var(--accent);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        .chatbot-input {
            display: flex;
            padding: 12px;
            border-top: 1px solid var(--border-light);
        }
        .chatbot-input input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid var(--border-light);
            border-radius: 18px;
            font-size: 0.95rem;
        }
        .chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 99;
        }
        .progress-container {
            margin: 20px 0;
        }
        .progress-bar {
            height: 8px;
            background: var(--glass-2);
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 4px;
            width: 0%;
            transition: width 1s ease;
        }
        .quiz-container {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 24px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
        }
        .quiz-question {
            font-size: 1.1rem;
            margin-bottom: 16px;
            font-weight: 500;
        }
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .quiz-option {
            padding: 16px;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            cursor: pointer;
            transition: var(--transition);
        }
        .quiz-option:hover {
            background: var(--primary-green-lighter);
        }
        .quiz-option.selected {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .ar-viewer {
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 12px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        .ar-controls {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }
        .ar-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }
        .image-generator {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 24px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
        }
        .generator-controls {
            display: flex;
            gap: 12px;
            margin: 16px 0;
        }
        .generated-image {
            width: 100%;
            border-radius: 12px;
            margin-top: 16px;
            display: none;
        }
        /* Estilos para imágenes y recursos visuales */
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        .image-item {
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }
        .image-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        .image-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }
        .image-caption {
            padding: 12px;
            background: var(--glass-2);
            border-top: 1px solid var(--border-light);
            font-size: 0.95rem;
            color: var(--muted);
        }
        /* Estilos para enlaces externos */
        .external-resources {
            margin: 20px 0;
            padding: 20px;
            background: var(--primary-green-lighter);
            border-radius: 16px;
            border: 1px solid var(--border-light);
        }
        .external-resources h4 {
            color: var(--primary-green);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .resource-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }
        .resource-link {
            padding: 16px;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text-light);
            transition: var(--transition);
        }
        .resource-link:hover {
            background: var(--accent-2);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        .resource-link i {
            font-size: 1.5rem;
            color: var(--accent);
        }
        .resource-link-text {
            flex: 1;
        }
        .resource-link-title {
            font-weight: 500;
            margin-bottom: 4px;
        }
        .resource-link-org {
            font-size: 0.85rem;
            color: var(--muted);
        }
        /* Estilos para medicamentos */
        .medication-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .medication-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .medication-name {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .medication-class {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(5, 150, 105, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .medication-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .info-item {
            padding: 12px;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }
        .info-label {
            font-size: 0.85rem;
            color: var(--muted);
            margin-bottom: 4px;
        }
        .info-value {
            font-weight: 500;
        }
        .contraindications {
            margin: 16px 0;
            padding: 16px;
            background: rgba(220, 38, 38, 0.1);
            border-left: 4px solid var(--alert-red);
            border-radius: 8px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }
        .interactions {
            margin: 16px 0;
            padding: 16px;
            background: rgba(202, 138, 4, 0.1);
            border-left: 4px solid var(--warning-yellow);
            border-radius: 8px;
            border: 1px solid rgba(202, 138, 4, 0.2);
        }
        .dosage-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        .dosage-table th, .dosage-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }
        .dosage-table th {
            background: var(--glass-2);
            font-weight: 500;
        }
        .dosage-table tr:last-child td {
            border-bottom: none;
        }
        /* Estilos para protocolos */
        .protocol-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .protocol-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        .protocol-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .protocol-level {
            font-size: 0.8rem;
            padding: 4px 8px;
            border-radius: 6px;
            font-weight: 500;
        }
        .protocol-level-1 {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success-green);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        .protocol-level-2 {
            background: rgba(202, 138, 4, 0.15);
            color: var(--warning-yellow);
            border: 1px solid rgba(202, 138, 4, 0.3);
        }
        .protocol-level-3 {
            background: rgba(220, 38, 38, 0.15);
            color: var(--alert-red);
            border: 1px solid rgba(220, 38, 38, 0.3);
        }
        .protocol-steps {
            counter-reset: step;
            margin: 16px 0;
        }
        .protocol-step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            padding-left: 24px;
            position: relative;
        }
        .protocol-step::before {
            content: counter(step);
            counter-increment: step;
            position: absolute;
            left: 0;
            top: 0;
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: bold;
        }
        .protocol-step:last-child {
            margin-bottom: 0;
        }
        .protocol-evidence {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .evidence-item {
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }
        .evidence-item:last-child {
            margin-bottom: 0;
        }
        .evidence-item i {
            color: var(--accent);
            margin-top: 4px;
            font-size: 0.9rem;
        }
        /* Estilos para enfermedades */
        .disease-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .disease-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .disease-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .disease-prevalence {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(5, 150, 105, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .disease-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .disease-characteristics {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .disease-treatment {
            margin: 16px 0;
            padding: 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        .disease-prognosis {
            margin: 16px 0;
            padding: 16px;
            background: rgba(220, 38, 38, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }
        .disease-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
        }
        /* Estilos para procedimientos */
        .procedure-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .procedure-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .procedure-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .procedure-specialty {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(5, 150, 105, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .procedure-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .procedure-steps {
            counter-reset: step;
            margin: 16px 0;
        }
        .procedure-step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            padding-left: 24px;
            position: relative;
        }
        .procedure-step::before {
            content: counter(step);
            counter-increment: step;
            position: absolute;
            left: 0;
            top: 0;
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: bold;
        }
        .procedure-step:last-child {
            margin-bottom: 0;
        }
        .procedure-visuals {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .procedure-visuals h4 {
            color: var(--accent);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .procedure-visuals img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 8px 0;
        }
        /* Estilos para nutrición */
        .nutrition-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .nutrition-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .nutrition-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .nutrition-type {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(16, 185, 129, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        .nutrition-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .nutrition-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        .nutrition-table th, .nutrition-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }
        .nutrition-table th {
            background: var(--glass-2);
            font-weight: 500;
        }
        .nutrition-table tr:last-child td {
            border-bottom: none;
        }
        /* Estilos para movilización */
        .mobility-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .mobility-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .mobility-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .mobility-risk {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(202, 138, 4, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(202, 138, 4, 0.2);
        }
        .mobility-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .mobility-steps {
            counter-reset: step;
            margin: 16px 0;
        }
        .mobility-step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            padding-left: 24px;
            position: relative;
        }
        .mobility-step::before {
            content: counter(step);
            counter-increment: step;
            position: absolute;
            left: 0;
            top: 0;
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: bold;
        }
        .mobility-step:last-child {
            margin-bottom: 0;
        }
        .mobility-visuals {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .mobility-visuals h4 {
            color: var(--accent);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .mobility-visuals img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 8px 0;
        }
        /* Estilos para RCP */
        .rcp-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .rcp-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .rcp-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .rcp-level {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(220, 38, 38, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }
        .rcp-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .rcp-steps {
            counter-reset: step;
            margin: 16px 0;
        }
        .rcp-step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            padding-left: 24px;
            position: relative;
        }
        .rcp-step::before {
            content: counter(step);
            counter-increment: step;
            position: absolute;
            left: 0;
            top: 0;
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: bold;
        }
        .rcp-step:last-child {
            margin-bottom: 0;
        }
        .rcp-visuals {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .rcp-visuals h4 {
            color: var(--accent);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .rcp-visuals img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 8px 0;
        }
        /* Estilos para infecciones */
        .infection-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .infection-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .infection-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .infection-type {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(220, 38, 38, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }
        .infection-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .infection-transmission {
            margin: 16px 0;
            padding: 16px;
            background: rgba(202, 138, 4, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(202, 138, 4, 0.2);
        }
        .infection-control {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        /* Estilos para oncológicos */
        .oncology-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .oncology-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .oncology-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .oncology-stage {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(220, 38, 38, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }
        .oncology-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .oncology-treatment {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .oncology-prognosis {
            margin: 16px 0;
            padding: 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        /* Estilos para reumatología */
        .rheumatology-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }
        .rheumatology-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .rheumatology-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }
        .rheumatology-type {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(202, 138, 4, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            border: 1px solid rgba(202, 138, 4, 0.2);
        }
        .rheumatology-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }
        .rheumatology-diagnosis {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }
        .rheumatology-treatment {
            margin: 16px 0;
            padding: 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div id="loginModal" class="login-modal">
        <div class="login-content">
            <div class="login-header">
                <h2>
                    <i class="fas fa-user-md"></i>
                    Inicio de Sesión
                </h2>
                <p style="color: var(--muted);">Acceda con su correo institucional</p>
            </div>
            <form id="loginForm" class="login-form">
                <div>
                    <label for="email">Correo Electrónico</label>
                    <input type="email" id="email" placeholder="nombre@institucion.edu" required>
                </div>
                <div>
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" placeholder="••••••••" required>
                </div>
                <button type="submit">
                    <i class="fas fa-sign-in-alt"></i>
                    Iniciar Sesión
                </button>
            </form>
        </div>
    </div>
    <div class="app" style="display: none;">
        <header>
            <h1>
                <i class="fas fa-heartbeat brand-icon"></i>
                EduMed
            </h1>
            <div class="controls">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" class="input" placeholder="Buscar procedimientos, medicamentos, enfermedades, protocolos...">
                    <div id="searchSuggestions" class="search-suggestions" style="display: none;">
                        <!-- Las sugerencias se agregarán aquí mediante JavaScript -->
                    </div>
                </div>
                <div class="user-profile">
                    <div class="user-avatar">JD</div>
                    <div class="user-info">
                        <div class="user-name">Dr. Juan Díaz</div>
                        <div class="user-role">Médico Residente</div>
                    </div>
                </div>
                <button id="themeToggle" class="theme-toggle">
                    <i class="fas fa-palette"></i>
                </button>
                <button id="mobileMenuBtn" class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </header>
        <div class="container">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <i class="fas fa-th-large"></i>
                    <h3>Funcionalidades</h3>
                </div>
                <div class="cat-grid" role="navigation">
                    <button class="cat-btn active" data-cat="curaciones">
                        <i class="fas fa-band-aid"></i>
                        <span>Curaciones Avanzadas</span>
                    </button>
                    <button class="cat-btn" data-cat="cardiologia">
                        <i class="fas fa-heart"></i>
                        <span>Cardiología</span>
                    </button>
                    <button class="cat-btn" data-cat="neumologia">
                        <i class="fas fa-lungs"></i>
                        <span>Neumología</span>
                    </button>
                    <button class="cat-btn" data-cat="endocrinologia">
                        <i class="fas fa-brain"></i>
                        <span>Endocrinología</span>
                    </button>
                    <button class="cat-btn" data-cat="neurologia">
                        <i class="fas fa-head-side-brain"></i>
                        <span>Neurología</span>
                    </button>
                    <button class="cat-btn" data-cat="oncologia">
                        <i class="fas fa-dna"></i>
                        <span>Oncología</span>
                    </button>
                    <button class="cat-btn" data-cat="nephrologia">
                        <i class="fas fa-kidneys"></i>
                        <span>Nefrología</span>
                    </button>
                    <button class="cat-btn" data-cat="gastroenterologia">
                        <i class="fas fa-stomach"></i>
                        <span>Gastroenterología</span>
                    </button>
                    <button class="cat-btn" data-cat="reumatologia">
                        <i class="fas fa-bone"></i>
                        <span>Reumatología</span>
                    </button>
                    <button class="cat-btn" data-cat="emergencias">
                        <i class="fas fa-ambulance"></i>
                        <span>Emergencias Médicas</span>
                    </button>
                    <button class="cat-btn" data-cat="farmacologia">
                        <i class="fas fa-pills"></i>
                        <span>Farmacología</span>
                    </button>
                    <button class="cat-btn" data-cat="nutricion">
                        <i class="fas fa-apple-alt"></i>
                        <span>Nutrición Clínica</span>
                    </button>
                    <button class="cat-btn" data-cat="infecciones">
                        <i class="fas fa-virus"></i>
                        <span>Control de Infecciones</span>
                    </button>
                    <button class="cat-btn" data-cat="movilizacion">
                        <i class="fas fa-wheelchair"></i>
                        <span>Movilización Pacientes</span>
                    </button>
                    <button class="cat-btn" data-cat="rcp">
                        <i class="fas fa-heartbeat"></i>
                        <span>RCP Integral</span>
                    </button>
                    <button class="cat-btn" data-cat="recursos">
                        <i class="fas fa-book-open"></i>
                        <span>Recursos Educativos</span>
                    </button>
                    <button class="cat-btn" data-cat="simulador">
                        <i class="fas fa-heartbeat"></i>
                        <span>Simulador de Signos Vitales</span>
                    </button>
                    <button class="cat-btn" data-cat="evaluacion">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Evaluación y Progreso</span>
                    </button>
                </div>
            </aside>
            <main id="mainContent">
                <!-- El contenido se cargará dinámicamente -->
            </main>
        </div>
    </div>
    <div class="notification-container" id="notificationContainer">
        <!-- Las notificaciones se agregarán aquí mediante JavaScript -->
    </div>
    <!-- Chatbot médico -->
    <div class="chatbot-toggle" id="chatbotToggle">
        <i class="fas fa-robot"></i>
    </div>
    <div class="chatbot-container" id="chatbot">
        <div class="chatbot-header">
            <h3>Asistente Médico Virtual</h3>
            <button id="closeChatbot" class="close-notification">&times;</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                ¡Hola! Soy tu asistente médico virtual. ¿En qué puedo ayudarte hoy?
            </div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Escribe tu pregunta...">
            <button class="btn primary" style="padding: 8px 16px;">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
    <script>
        // Datos médicos almacenados en localStorage
        function getStoredData() {
            const data = localStorage.getItem('edumed_data');
            if (!data) {
                return {
                    curaciones: [],
                    cardiologia: [],
                    neumologia: [],
                    endocrinologia: [],
                    neurologia: [],
                    oncologia: [],
                    nephrologia: [],
                    gastroenterologia: [],
                    reumatologia: [],
                    emergencias: [],
                    farmacologia: [],
                    nutricion: [],
                    infecciones: [],
                    movilizacion: [],
                    rcp: [],
                    recursos: [],
                    simulador: [],
                    evaluacion: []
                };
            }
            return JSON.parse(data);
        }

        function saveData(data) {
            localStorage.setItem('edumed_data', JSON.stringify(data));
        }

        // Datos médicos completos con imágenes, enlaces y recursos
        const medicalData = {
            curaciones: {
                title: "Curaciones Avanzadas",
                icon: "fa-band-aid",
                description: "Técnicas estandarizadas para el cuidado de heridas y lesiones",
                procedures: [
                    {
                        id: "herida_quirurgica",
                        title: "Curación de Herida Quirúrgica",
                        icon: "fa-cut",
                        summary: "Procedimiento estandarizado para el cuidado post-operatorio de heridas quirúrgicas, siguiendo las guías de la Organización Mundial de la Salud.",
                        materials: [
                            "Guantes estériles",
                            "Solución salina fisiológica",
                            "Gasas estériles",
                            "Pinzas quirúrgicas",
                            "Tijeras estériles",
                            "Apósito secundario",
                            "Cinta adhesiva médica"
                        ],
                        steps: [
                            "Lavado de manos y colocación de guantes estériles",
                            "Retirar el apósito anterior con pinzas estériles",
                            "Evaluar características de la herida (color, secreción, olor)",
                            "Limpiar la herida con solución salina fisiológica",
                            "Secar la piel circundante con gasas estériles",
                            "Aplicar nuevo apósito estéril",
                            "Fijar con cinta adhesiva médica",
                            "Documentar hallazgos y procedimiento realizado"
                        ],
                        notes: "Las curaciones deben realizarse con técnica estéril. Evaluar signos de infección en cada cambio de apósito. Cambiar apósitos según indicaciones médicas o cuando estén húmedos o contaminados.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/f/f2/Mit_Einzelkopfnaht_gen%C3%A4hnte_Schnitt-_und_OP-Wunde_am_Daumen.jpg",
                                title: "Herida Quirúrgica Post-Operatoria",
                                description: "Aspecto típico de una herida quirúrgica en proceso de cicatrización"
                            },
                            {
                                url: "https://i.pinimg.com/736x/99/de/2d/99de2df3b290a01c2399ce424f1f1acd.jpg",
                                title: "Técnica Estéril para Curaciones",
                                description: "Demonstración de la técnica estéril en el manejo de heridas"
                            }
                        ],
                        source: {
                            name: "OMS",
                            type: "who",
                            description: "Guías de Práctica Clínica para el Cuidado de Heridas",
                            url: "https://www.who.int/guidelines/clinical-care-wound-management"
                        },
                        lastUpdated: "2023-12-15"
                    },
                    {
                        id: "ulcera_presion",
                        title: "Manejo de Úlceras por Presión",
                        icon: "fa-bed",
                        summary: "Protocolo completo para la prevención y tratamiento de úlceras por presión en pacientes hospitalizados.",
                        materials: [
                            "Colchón antiescaras",
                            "Almohadillas protectoras",
                            "Productos para la piel",
                            "Vendajes especiales",
                            "Espumas de curación",
                            "Hidrocoloides"
                        ],
                        steps: [
                            "Evaluación del estadio de la úlcera según clasificación de la NPUAP",
                            "Limpieza de la herida con solución adecuada",
                            "Desbridamiento selectivo si es necesario",
                            "Aplicación de apósitos específicos según el estadio",
                            "Reposicionamiento del paciente cada 2 horas",
                            "Uso de dispositivos de descarga de presión",
                            "Monitoreo diario de la evolución"
                        ],
                        notes: "La prevención es clave. Evaluar el riesgo con escalas validadas (Escala de Braden). Mantener la piel seca y libre de humedad. Nutrición adecuada es esencial para la cicatrización.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Bedsore_ulcer_IMG-20190219-WA0003.jpg/640px-Bedsore_ulcer_IMG-20190219-WA0003.jpg",
                                title: "Clasificación de Úlceras por Presión",
                                description: "Estadios I a IV de úlceras por presión"
                            },
                            {
                                url: "https://i.pinimg.com/736x/67/fb/d0/67fbd07cd716e560e7088308905f1bb1.jpg",
                                title: "Dispositivos de Prevención",
                                description: "Tipos de colchones antiescaras y almohadillas protectoras"
                            }
                        ],
                        source: {
                            name: "NPUAP",
                            type: "fda",
                            description: "National Pressure Ulcer Advisory Panel Guidelines",
                            url: "https://npuap.org/resources/pressure-injury-staging/"
                        },
                        lastUpdated: "2023-11-20"
                    }
                ]
            },
            cardiologia: {
                title: "Cardiología",
                icon: "fa-heart",
                description: "Diagnóstico y tratamiento de enfermedades cardiovasculares",
                procedures: [
                    {
                        id: "iam",
                        title: "Infarto Agudo de Miocardio",
                        icon: "fa-heart-pulse",
                        summary: "Protocolo de manejo del infarto agudo de miocardio con elevación del segmento ST (IAMCEST).",
                        materials: [
                            "Monitor cardíaco",
                            "Desfibrilador",
                            "Medicamentos antiagregantes",
                            "Anticoagulantes",
                            "Analgesia",
                            "Oxígeno"
                        ],
                        steps: [
                            "Confirmación diagnóstica con ECG de 12 derivaciones",
                            "Establecer acceso venoso periférico",
                            "Administrar aspirina 162-325 mg masticable",
                            "Administrar clopidogrel 600 mg o ticagrelor 180 mg",
                            "Administrar heparina no fraccionada",
                            "Administrar analgesia (morfina)",
                            "Oxigenoterapia si saturación <90%",
                            "Activación del código infarto",
                            "Intervención coronaria percutánea de urgencia"
                        ],
                        notes: "El tiempo es músculo. El objetivo es puerta-balón <90 minutos. Monitoreo continuo de signos vitales y arritmias. Manejo agresivo de factores de riesgo cardiovascular.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/STEMI_ECG.jpg/800px-STEMI_ECG.jpg",
                                title: "ECG de Infarto Agudo de Miocardio",
                                description: "Patrón típico de elevación del ST en derivaciones precordiales"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Coronary_anatomy.svg/800px-Coronary_anatomy.svg.png",
                                title: "Anatomía Coronaria",
                                description: "Distribución de las arterias coronarias y áreas que irrigan"
                            }
                        ],
                        source: {
                            name: "AHA",
                            type: "who",
                            description: "American Heart Association Guidelines for STEMI Management",
                            url: "https://www.heart.org/en/professional/get-with-the-guidelines/heart-failure-guidelines"
                        },
                        lastUpdated: "2023-10-05"
                    },
                    {
                        id: "insuficiencia_cardiaca",
                        title: "Insuficiencia Cardiaca Aguda",
                        icon: "fa-procedures",
                        summary: "Manejo de la descompensación aguda de insuficiencia cardíaca.",
                        materials: [
                            "Diuréticos intravenosos",
                            "Vasodilatadores",
                            "Inotrópicos",
                            "Monitor cardíaco",
                            "Oxígeno",
                            "Dieta baja en sodio"
                        ],
                        steps: [
                            "Evaluación inicial de la vía aérea, respiración y circulación",
                            "Oxigenoterapia según necesidad",
                            "Acceso venoso periférico",
                            "Administración de diuréticos intravenosos (furosemida)",
                            "Uso de vasodilatadores (nitroglicerina) si presión arterial adecuada",
                            "Monitorización de signos vitales y diuresis",
                            "Evaluación ecocardiográfica",
                            "Optimización del tratamiento farmacológico"
                        ],
                        notes: "Evaluar causa desencadenante. Controlar ingesta y egreso de líquidos. Educación al paciente sobre adherencia terapéutica y signos de descompensación.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Pulmonary_edema_chest_x_ray.jpg/800px-Pulmonary_edema_chest_x_ray.jpg",
                                title: "Manifestaciones de Insuficiencia Cardiaca",
                                description: "Signos clínicos de congestión pulmonar y sistémica"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Echocardiogram_of_a_normal_heart_-_apical_four_chamber_view.gif/480px-Echocardiogram_of_a_normal_heart_-_apical_four_chamber_view.gif",
                                title: "Ecocardiograma Doppler",
                                description: "Evaluación de la fracción de eyección y función diastólica"
                            }
                        ],
                        source: {
                            name: "ACC",
                            type: "fda",
                            description: "American College of Cardiology Heart Failure Guidelines",
                            url: "https://www.acc.org/latest-in-cardiology/clinical-trials/2021/11/14/13/51/president-hf"
                        },
                        lastUpdated: "2023-09-15"
                    }
                ],
                medications: [
                    {
                        name: "Atorvastatina",
                        class: "Estatinas",
                        indications: "Dislipidemia, prevención cardiovascular",
                        dosage: "10-80 mg/día",
                        contraindications: "Hipersensibilidad, enfermedad hepática activa",
                        interactions: ["Itraconazol", "Eritromicina", "Ciclosporina"],
                        sideEffects: ["Mialgia", "Elevación de transaminasas", "Diabetes"],
                        source: "FDA"
                    },
                    {
                        name: "Metoprolol",
                        class: "Betabloqueantes",
                        indications: "HTA, insuficiencia cardíaca, angina",
                        dosage: "25-200 mg/día",
                        contraindications: "Bloqueo AV grado 2-3, shock cardiogénico",
                        interactions: ["Verapamilo", "Diltiazem", "Insulina"],
                        sideEffects: ["Bradicardia", "Fatiga", "Depresión"],
                        source: "FDA"
                    }
                ],
                protocols: [
                    {
                        name: "Manejo de la TA en IAM",
                        level: 1,
                        steps: [
                            "Si TA >140 mmHg, iniciar nitroglicerina sublingual",
                            "Si persiste TA >140 mmHg, iniciar infusión de nitroglicerina",
                            "Objetivo TA: 140 mmHg sin hipotensión",
                            "Evitar hipotensión (TA <90 mmHg)"
                        ],
                        evidence: [
                            "AHA Guidelines 2023",
                            "ESC Revascularization Guidelines 2022"
                        ]
                    }
                ]
            },
            neumologia: {
                title: "Neumología",
                icon: "fa-lungs",
                description: "Diagnóstico y tratamiento de enfermedades respiratorias",
                procedures: [
                    {
                        id: "asma",
                        title: "Manejo de Asma Aguda",
                        icon: "fa-lungs-virus",
                        summary: "Protocolo para el manejo del asma aguda en el servicio de urgencias.",
                        materials: [
                            "Broncodilatadores de acción rápida",
                            "Corticosteroides sistémicos",
                            "Oxígeno terapia",
                            "Monitorización de saturación de oxígeno",
                            "Esquema de escala de asma"
                        ],
                        steps: [
                            "Evaluación inicial de la severidad del ataque",
                            "Administrar broncodilatadores de acción rápida (salbutamol) por nebulización",
                            "Administrar corticosteroides sistémicos (prednisona)",
                            "Oxigenoterapia para mantener saturación >90%",
                            "Monitoreo continuo de signos vitales y respuesta al tratamiento",
                            "Evaluación de necesidad de hospitalización"
                        ],
                        notes: "Clasificar la severidad según los parámetros clínicos. Evitar el uso de sedantes. Monitorear función pulmonar si es posible. Educar al paciente sobre desencadenantes y uso correcto de inhaladores.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Asthma_attack_on_a_child.jpg/800px-Asthma_attack_on_a_child.jpg",
                                title: "Ataque de Asma",
                                description: "Manifestaciones clínicas de un ataque de asma"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Pulmonary_function_test.jpg/800px-Pulmonary_function_test.jpg",
                                title: "Prueba de Función Pulmonar",
                                description: "Realización de espirometría para evaluación de asma"
                            }
                        ],
                        source: {
                            name: "GINA",
                            type: "who",
                            description: "Global Initiative for Asthma Guidelines",
                            url: "https://ginasthma.org"
                        },
                        lastUpdated: "2023-11-10"
                    },
                    {
                        id: "copd",
                        title: "Exacerbación de EPOC",
                        icon: "fa-lungs",
                        summary: "Manejo de la exacerbación aguda de la enfermedad pulmonar obstructiva crónica.",
                        materials: [
                            "Broncodilatadores",
                            "Corticosteroides",
                            "Antibióticos",
                            "Oxígeno terapia",
                            "Terapia no invasiva"
                        ],
                        steps: [
                            "Confirmar diagnóstico de exacerbación",
                            "Administrar broncodilatadores de acción rápida",
                            "Iniciar corticosteroides sistémicos",
                            "Considerar antibióticos si hay signos de infección",
                            "Oxigenoterapia controlada",
                            "Considerar ventilación no invasiva si hay acidosis respiratoria",
                            "Monitoreo continuo de gases arteriales"
                        ],
                        notes: "Evitar la hiperoxia. Monitorear niveles de CO2. Evaluar necesidad de ventilación mecánica. Prevenir tromboembolismo venoso.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/COPD_exacerbation_chest_x_ray.jpg/800px-COPD_exacerbation_chest_x_ray.jpg",
                                title: "Radiografía de Tórax en EPOC",
                                description: "Hallazgos radiológicos en exacerbación de EPOC"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Non_invasive_ventilation.jpg/800px-Non_invasive_ventilation.jpg",
                                title: "Ventilación No Invasiva",
                                description: "Aplicación de CPAP/BiPAP en exacerbación de EPOC"
                            }
                        ],
                        source: {
                            name: "GOLD",
                            type: "who",
                            description: "Global Initiative for Chronic Obstructive Lung Disease",
                            url: "https://goldcopd.org"
                        },
                        lastUpdated: "2023-10-25"
                    }
                ],
                diseases: [
                    {
                        id: "neumonia",
                        name: "Neumonía Comunitaria",
                        prevalence: "4-5 casos por 1000 adultos/año",
                        description: "Infección aguda del parénquima pulmonar adquirida en la comunidad",
                        symptoms: [
                            "Fiebre",
                            "Tos productiva",
                            "Dolor torácico pleurítico",
                            "Disnea",
                            "Taquipnea"
                        ],
                        treatment: [
                            "Antibióticos empíricos (amoxicilina-clavulánico)",
                            "Soporte respiratorio",
                            "Hidratación",
                            "Control de fiebre"
                        ],
                        prognosis: "Buena con tratamiento oportuno. Mortalidad <5% en pacientes ambulatorios.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Pneumonia_chest_x_ray.jpg/800px-Pneumonia_chest_x_ray.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Lobar_pneumonia_microscopic.jpg/800px-Lobar_pneumonia_microscopic.jpg"
                        ],
                        sources: [
                            {
                                name: "IDSA",
                                url: "https://www.idsociety.org/practice-guideline/community-acquired-pneumonia/"
                            },
                            {
                                name: "ATS",
                                url: "https://www.thoracic.org/statements/resources/mtp/management-of-adults-with-community-acquired-pneumonia.php"
                            }
                        ],
                        lastUpdated: "2023-09-18"
                    },
                    {
                        id: "tuberculosis",
                        name: "Tuberculosis",
                        prevalence: "10 millones de casos nuevos/año globalmente",
                        description: "Enfermedad infecciosa crónica causada por Mycobacterium tuberculosis",
                        symptoms: [
                            "Tos crónica >3 semanas",
                            "Hemoptisis",
                            "Fiebre vespertina",
                            "Sudores nocturnos",
                            "Pérdida de peso"
                        ],
                        treatment: [
                            "Regimen cuádruple inicial (isoniacida, rifampicina, pirazinamida, etambutol)",
                            "Tratamiento de 6 meses",
                            "Terapia directamente observada",
                            "Control de contactos"
                        ],
                        prognosis: "Curación >85% con tratamiento completo. Resistencia a medicamentos es un problema creciente.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Tuberculosis_chest_x_ray.jpg/800px-Tuberculosis_chest_x_ray.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Acid_fast_stain_of_M._tuberculosis.jpg/800px-Acid_fast_stain_of_M._tuberculosis.jpg"
                        ],
                        sources: [
                            {
                                name: "OMS",
                                url: "https://www.who.int/teams/global-tuberculosis-programme"
                            },
                            {
                                name: "CDC",
                                url: "https://www.cdc.gov/tb"
                            }
                        ],
                        lastUpdated: "2023-08-30"
                    }
                ],
                resources: [
                    {
                        title: "GINA Guidelines",
                        description: "Guías globales para el manejo del asma",
                        url: "https://ginasthma.org",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "GOLD Guidelines",
                        description: "Guías para el manejo de la EPOC",
                        url: "https://goldcopd.org",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "ERS Clinical Practice Guidelines",
                        description: "Guías de práctica clínica de la Sociedad Europea de Neumología",
                        url: "https://www.ersnet.org",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    }
                ]
            },
            endocrinologia: {
                title: "Endocrinología",
                icon: "fa-brain",
                description: "Diagnóstico y tratamiento de enfermedades del sistema endocrino",
                procedures: [
                    {
                        id: "diabetes",
                        title: "Manejo de Diabetes Mellitus Tipo 2",
                        icon: "fa-sugar-cube",
                        summary: "Enfoque integral para el control de la diabetes mellitus tipo 2.",
                        materials: [
                            "Glucómetro",
                            "Tiras reactivas",
                            "Agujas para punción",
                            "Insulina y dispositivos de administración",
                            "Educación para el paciente"
                        ],
                        steps: [
                            "Evaluación inicial del control glucémico",
                            "Educación sobre dieta y ejercicio",
                            "Inicio de metformina como primera línea",
                            "Monitoreo regular de HbA1c",
                            "Evaluación de complicaciones crónicas",
                            "Ajuste terapéutico basado en control glucémico"
                        ],
                        notes: "El objetivo es HbA1c <7% en la mayoría de los pacientes. Prevenir complicaciones micro y macrovasculares. Educar al paciente sobre reconocimiento e manejo de hipoglucemia.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Diabetes_mellitus_complications.jpg/800px-Diabetes_mellitus_complications.jpg",
                                title: "Complicaciones de la Diabetes",
                                description: "Manifestaciones crónicas de la diabetes mellitus"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Glucose_meter.jpg/800px-Glucose_meter.jpg",
                                title: "Autocontrol Glucémico",
                                description: "Uso del glucómetro para monitoreo domiciliario"
                            }
                        ],
                        source: {
                            name: "ADA",
                            type: "fda",
                            description: "American Diabetes Association Standards of Care",
                            url: "https://diabetes.org/clinical-guidelines"
                        },
                        lastUpdated: "2023-12-01"
                    },
                    {
                        id: "tiroides",
                        title: "Evaluación de Nódulo Tiroideo",
                        icon: "fa-thyroid",
                        summary: "Algoritmo para la evaluación de nódulos tiroideos.",
                        materials: [
                            "Ecógrafo",
                            "Agujas para biopsia",
                            "Laboratorio de hormonas tiroideas",
                            "Escáner nuclear"
                        ],
                        steps: [
                            "Palpación tiroidea",
                            "Determinación de TSH",
                            "Ecografía tiroidea",
                            "Biopsia por aspiración con aguja fina si indicado",
                            "Evaluación citológica",
                            "Decisión terapéutica basada en resultados"
                        ],
                        notes: "La mayoría de los nódulos tiroideos son benignos. El TSH es el mejor indicador funcional. La ecografía guía la necesidad de biopsia. Seguimiento regular de nódulos benignos.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Thyroid_nodule_ultrasound.jpg/800px-Thyroid_nodule_ultrasound.jpg",
                                title: "Ecografía de Nódulo Tiroideo",
                                description: "Características ecográficas de nódulos tiroideos"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Thyroid_scan.jpg/800px-Thyroid_scan.jpg",
                                title: "Gammagrafía Tiroidea",
                                description: "Distribución de captación de yodo radiactivo"
                            }
                        ],
                        source: {
                            name: "ATA",
                            type: "fda",
                            description: "American Thyroid Association Guidelines",
                            url: "https://www.thyroid.org"
                        },
                        lastUpdated: "2023-11-15"
                    }
                ],
                diseases: [
                    {
                        id: "hipotiroidismo",
                        name: "Hipotiroidismo",
                        prevalence: "4-5% de la población general",
                        description: "Deficiencia de hormonas tiroideas",
                        symptoms: [
                            "Fatiga",
                            "Aumento de peso",
                            "Intolerancia al frío",
                            "Piel seca",
                            "Constipación",
                            "Depresión"
                        ],
                        treatment: [
                            "Levotiroxina sódica",
                            "Ajuste de dosis según TSH",
                            "Control regular",
                            "Educación al paciente"
                        ],
                        prognosis: "Excelente con tratamiento adecuado. La mayoría de los pacientes requieren tratamiento de por vida.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Myxedema_face.jpg/800px-Myxedema_face.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Hypothyroidism_pathophysiology.jpg/800px-Hypothyroidism_pathophysiology.jpg"
                        ],
                        sources: [
                            {
                                name: "ATA",
                                url: "https://www.thyroid.org/hypothyroidism/"
                            },
                            {
                                name: "Endocrine Society",
                                url: "https://www.endocrine.org/clinical-practice-guidelines/hypothyroidism"
                            }
                        ],
                        lastUpdated: "2023-10-10"
                    },
                    {
                        id: "hipertiroidismo",
                        name: "Hipertiroidismo",
                        prevalence: "1-2% de la población general",
                        description: "Exceso de hormonas tiroideas",
                        symptoms: [
                            "Palpitaciones",
                            "Pérdida de peso",
                            "Intolerancia al calor",
                            "Temblor",
                            "Ansiedad",
                            "Exoftalmos"
                        ],
                        treatment: [
                            "Antitiroideos (metimazol, propiltiouracilo)",
                            "Yodo radiactivo",
                            "Tiroidectomía",
                            "Beta bloqueadores sintomáticos"
                        ],
                        prognosis: "Bueno con tratamiento adecuado. La enfermedad de Graves puede tener remisiones y recaídas.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Graves_disease_exophthalmos.jpg/800px-Graves_disease_exophthalmos.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Graves_disease_pathophysiology.jpg/800px-Graves_disease_pathophysiology.jpg"
                        ],
                        sources: [
                            {
                                name: "ATA",
                                url: "https://www.thyroid.org/hyperthyroidism/"
                            },
                            {
                                name: "Endocrine Society",
                                url: "https://www.endocrine.org/clinical-practice-guidelines/hyperthyroidism"
                            }
                        ],
                        lastUpdated: "2023-09-20"
                    }
                ],
                resources: [
                    {
                        title: "ADA Standards of Care",
                        description: "Normas de atención para diabetes",
                        url: "https://diabetes.org/clinical-guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Endocrine Society Guidelines",
                        description: "Guías clínicas de la Sociedad de Endocrinología",
                        url: "https://www.endocrine.org/clinical-practice-guidelines",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "Thyroid.org",
                        description: "Recursos educativos sobre enfermedades tiroideas",
                        url: "https://www.thyroid.org",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            neurologia: {
                title: "Neurología",
                icon: "fa-head-side-brain",
                description: "Diagnóstico y tratamiento de enfermedades del sistema nervioso",
                procedures: [
                    {
                        id: "ictus",
                        title: "Manejo Agudo del Ictus Isquémico",
                        icon: "fa-brain",
                        summary: "Protocolo para la atención del ictus isquémico agudo.",
                        materials: [
                            "Tomografía computarizada",
                            "Monitor neurológico",
                            "Trombolítico (alteplasa)",
                            "Unidad de ictus",
                            "Equipo multidisciplinario"
                        ],
                        steps: [
                            "Activación del código ictus",
                            "Evaluación neurológica rápida (escala NIHSS)",
                            "Tomografía computarizada de cerebro",
                            "Evaluación de ventana terapéutica",
                            "Trombólisis intravenosa si indicado",
                            "Transferencia a unidad de ictus",
                            "Evaluación para trombectomía mecánica"
                        ],
                        notes: "Tiempo es cerebro. Objetivo puerta-aguja <60 minutos. Monitoreo neurológico frecuente. Prevención de complicaciones. Rehabilitación temprana.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Ischemic_stroke_CT.jpg/800px-Ischemic_stroke_CT.jpg",
                                title: "Ictus Isquémico en TC",
                                description: "Hallazgos de ictus isquémico en tomografía computarizada"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Stroke_pathophysiology.jpg/800px-Stroke_pathophysiology.jpg",
                                title: "Fisiopatología del Ictus",
                                description: "Mecanismos de daño cerebral en el ictus"
                            }
                        ],
                        source: {
                            name: "AHA/ASA",
                            type: "who",
                            description: "American Heart Association/American Stroke Association Guidelines",
                            url: "https://www.stroke.org"
                        },
                        lastUpdated: "2023-11-05"
                    },
                    {
                        id: "epilepsia",
                        title: "Manejo de Convulsiones",
                        icon: "fa-bolt",
                        summary: "Protocolo para el manejo de convulsiones agudas.",
                        materials: [
                            "Monitor cardíaco",
                            "Oxígeno",
                            "Medicamentos antiepilépticos intravenosos",
                            "Protección de vía aérea",
                            "Laboratorio de emergencia"
                        ],
                        steps: [
                            "Protección del paciente durante la convulsión",
                            "Soporte de vía aérea",
                            "Monitorización de signos vitales",
                            "Acceso venoso",
                            "Administración de benzodiacepinas (lorazepam)",
                            "Si persiste, administrar antiepiléptico de segunda línea",
                            "Investigación de causa subyacente"
                        ],
                        notes: "No colocar objetos en la boca. Posición lateral de seguridad después de la convulsión. Evaluar necesidad de intubación. Investigar causa metabólica, infecciosa o estructural.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Seizure_management.jpg/800px-Seizure_management.jpg",
                                title: "Manejo de Convulsiones",
                                description: "Actuación durante una convulsión"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/EEG_epilepsy.jpg/800px-EEG_epilepsy.jpg",
                                title: "EEG en Epilepsia",
                                description: "Patrones electroencefalográficos en epilepsia"
                            }
                        ],
                        source: {
                            name: "ILAE",
                            type: "fda",
                            description: "International League Against Epilepsy Guidelines",
                            url: "https://www.ilae.org"
                        },
                        lastUpdated: "2023-10-18"
                    }
                ],
                diseases: [
                    {
                        id: "alzheimer",
                        name: "Enfermedad de Alzheimer",
                        prevalence: "Afecta a 1 de cada 9 personas >65 años",
                        description: "Demencia neurodegenerativa progresiva",
                        symptoms: [
                            "Pérdida de memoria",
                            "Dificultad con tareas familiares",
                            "Problemas con el lenguaje",
                            "Desorientación",
                            "Cambios de personalidad"
                        ],
                        treatment: [
                            "Inhibidores de la colinesterasa",
                            "Memantina",
                            "Manejo de síntomas conductuales",
                            "Soporte a cuidadores"
                        ],
                        prognosis: "Progresión inevitable. Supervivencia media de 8-10 años desde el diagnóstico.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Alzheimer_brain_comparison.jpg/800px-Alzheimer_brain_comparison.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Alzheimer_pathology.jpg/800px-Alzheimer_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "Alzheimer's Association",
                                url: "https://www.alz.org"
                            },
                            {
                                name: "NIA",
                                url: "https://www.nia.nih.gov/health/alzheimers"
                            }
                        ],
                        lastUpdated: "2023-09-25"
                    },
                    {
                        id: "parkinson",
                        name: "Enfermedad de Parkinson",
                        prevalence: "Afecta a 1 de cada 350 adultos >40 años",
                        description: "Trastorno neurodegenerativo del sistema motor",
                        symptoms: [
                            "Temblor en reposo",
                            "Rigidez",
                            "Bradicinesia",
                            "Alteración de la marcha",
                            "Postura encorvada"
                        ],
                        treatment: [
                            "Levodopa",
                            "Agonistas dopaminérgicos",
                            "Inhibidores de la COMT",
                            "Terapia de rehabilitación",
                            "Cirugía (DBS) en casos seleccionados"
                        ],
                        prognosis: "Progresión lenta. Calidad de vida puede mantenerse con tratamiento adecuado.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Parkinsonism.jpg/800px-Parkinsonism.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Parkinson_pathology.jpg/800px-Parkinson_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "Michael J. Fox Foundation",
                                url: "https://www.michaeljfox.org"
                            },
                            {
                                name: "NINDS",
                                url: "https://www.ninds.nih.gov/Disorders/All-Disorders/Parkinsons-Disease-Information-Page"
                            }
                        ],
                        lastUpdated: "2023-08-15"
                    }
                ],
                resources: [
                    {
                        title: "AAN Guidelines",
                        description: "Guías de la Academia Americana de Neurología",
                        url: "https://www.aan.com/Guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Stroke.org",
                        description: "Recursos educativos sobre ictus",
                        url: "https://www.stroke.org",
                        icon: "fa-stethoscope",
                        category: "Pacientes"
                    },
                    {
                        title: "Epilepsy Foundation",
                        description: "Fundación para la epilepsia",
                        url: "https://www.epilepsy.com",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            oncologia: {
                title: "Oncología",
                icon: "fa-dna",
                description: "Diagnóstico y tratamiento de enfermedades oncológicas",
                procedures: [
                    {
                        id: "quimioterapia",
                        title: "Administración de Quimioterapia",
                        icon: "fa-syringe",
                        summary: "Protocolo estandarizado para la administración segura de quimioterapia.",
                        materials: [
                            "Protocolo de quimioterapia",
                            "Equipos de protección personal",
                            "Soluciones intravenosas",
                            "Antieméticos",
                            "Medicamentos de rescate"
                        ],
                        steps: [
                            "Verificación del protocolo y dosis",
                            "Preparación en cabina de seguridad biológica",
                            "Verificación de identidad del paciente",
                            "Administración intravenosa con precauciones",
                            "Monitoreo durante la infusión",
                            "Manejo de reacciones adversas",
                            "Documentación completa"
                        ],
                        notes: "Requiere capacitación especializada. Precauciones de manejo de citostáticos. Evaluación de función orgánica previa. Manejo proactivo de efectos adversos.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Chemotherapy_administration.jpg/800px-Chemotherapy_administration.jpg",
                                title: "Administración de Quimioterapia",
                                description: "Infusión de quimioterapia con monitoreo"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Biological_safety_cabinet.jpg/800px-Biological_safety_cabinet.jpg",
                                title: "Cabina de Seguridad",
                                description: "Preparación de quimioterapia en cabina de seguridad biológica"
                            }
                        ],
                        source: {
                            name: "ASCO",
                            type: "fda",
                            description: "American Society of Clinical Oncology Guidelines",
                            url: "https://www.asco.org"
                        },
                        lastUpdated: "2023-11-20"
                    },
                    {
                        id: "radioterapia",
                        title: "Planificación de Radioterapia",
                        icon: "fa-radiation",
                        summary: "Proceso de planificación para tratamiento con radioterapia.",
                        materials: [
                            "Tomografía simuladora",
                            "Sistemas de planificación",
                            "Marcadores de posicionamiento",
                            "Equipos de radioterapia",
                            "Protección radiológica"
                        ],
                        steps: [
                            "Inmovilización del paciente",
                            "Adquisición de imágenes de simulación",
                            "Delineación de volúmenes objetivo",
                            "Planificación dosimétrica",
                            "Verificación del plan",
                            "Tratamiento fraccionado",
                            "Monitoreo de efectos adversos"
                        ],
                        notes: "Precisión milimétrica requerida. Colaboración multidisciplinaria. Evaluación diaria del paciente. Registro detallado del tratamiento.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Radiation_therapy_simulation.jpg/800px-Radiation_therapy_simulation.jpg",
                                title: "Simulación de Radioterapia",
                                description: "Posicionamiento del paciente para radioterapia"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Radiation_therapy_plan.jpg/800px-Radiation_therapy_plan.jpg",
                                title: "Plan de Radioterapia",
                                description: "Visualización del plan de tratamiento radioterápico"
                            }
                        ],
                        source: {
                            name: "ASTRO",
                            type: "fda",
                            description: "American Society for Radiation Oncology Guidelines",
                            url: "https://www.astro.org"
                        },
                        lastUpdated: "2023-10-30"
                    }
                ],
                diseases: [
                    {
                        id: "mama",
                        name: "Cáncer de Mama",
                        prevalence: "1 de cada 8 mujeres desarrollará cáncer de mama",
                        description: "Neoplasia maligna de las células epiteliales de los conductos o lobulillos mamarios",
                        symptoms: [
                            "Nódulo mamario",
                            "Retracción de la piel",
                            "Secreción del pezón",
                            "Cambios en la areola",
                            "Edema de la piel"
                        ],
                        treatment: [
                            "Cirugía conservadora o mastectomía",
                            "Radioterapia",
                            "Quimioterapia",
                            "Terapia hormonal",
                            "Terapia dirigida"
                        ],
                        prognosis: "Supervivencia a 5 años >90% en estadios iniciales. Depende del subtipo molecular.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Breast_cancer_mammogram.jpg/800px-Breast_cancer_mammogram.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Breast_cancer_pathology.jpg/800px-Breast_cancer_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "NCCN",
                                url: "https://www.nccn.org/guidelines/guidelines-detail?category=1&id=1425"
                            },
                            {
                                name: "SEOM",
                                url: "https://www.seom.org/seomcms/es_ES/guia-clinica-cancer-de-mama"
                            }
                        ],
                        lastUpdated: "2023-09-12"
                    },
                    {
                        id: "colon",
                        name: "Cáncer Colorrectal",
                        prevalence: "3er cáncer más común en hombres y mujeres",
                        description: "Neoplasia maligna del colon o recto",
                        symptoms: [
                            "Cambios en el hábito intestinal",
                            "Sangrado rectal",
                            "Dolor abdominal",
                            "Pérdida de peso",
                            "Anemia"
                        ],
                        treatment: [
                            "Resección quirúrgica",
                            "Quimioterapia adyuvante",
                            "Radioterapia (recto)",
                            "Terapia dirigida",
                            "Inmunoterapia"
                        ],
                        prognosis: "Supervivencia a 5 años ~65%. Mejor en estadios iniciales.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Colon_cancer_endoscopy.jpg/800px-Colon_cancer_endoscopy.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Colon_cancer_pathology.jpg/800px-Colon_cancer_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "NCCN",
                                url: "https://www.nccn.org/guidelines/guidelines-detail?category=1&id=1430"
                            },
                            {
                                name: "ESMO",
                                url: "https://www.esmo.org/guidelines/gastrointestinal-cancers/colon-and-rectal-cancer"
                            }
                        ],
                        lastUpdated: "2023-08-22"
                    }
                ],
                resources: [
                    {
                        title: "NCCN Guidelines",
                        description: "Guías de la Red Nacional de Cáncer",
                        url: "https://www.nccn.org/guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "ASCO Education",
                        description: "Recursos educativos de oncología clínica",
                        url: "https://www.asco.org/education",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "Cancer.gov",
                        description: "Información sobre cáncer del Instituto Nacional del Cáncer",
                        url: "https://www.cancer.gov",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            nephrologia: {
                title: "Nefrología",
                icon: "fa-kidneys",
                description: "Diagnóstico y tratamiento de enfermedades renales",
                procedures: [
                    {
                        id: "hemodialisis",
                        title: "Hemodiálisis",
                        icon: "fa-hand-holding-medical",
                        summary: "Procedimiento de diálisis para pacientes con insuficiencia renal.",
                        materials: [
                            "Máquina de diálisis",
                            "Circuitos extracorpóreos",
                            "Solución de diálisis",
                            "Acceso vascular",
                            "Anticoagulante"
                        ],
                        steps: [
                            "Evaluación pre-tratamiento",
                            "Conexión al circuito de diálisis",
                            "Iniciación del tratamiento",
                            "Monitoreo durante la sesión",
                            "Desconexión y evaluación post-tratamiento",
                            "Documentación del procedimiento"
                        ],
                        notes: "Requiere acceso vascular adecuado. Monitoreo hemodinámico continuo. Prevención de complicaciones (hipotensión, calambres). Educación del paciente.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Hemodialysis_machine.jpg/800px-Hemodialysis_machine.jpg",
                                title: "Máquina de Hemodiálisis",
                                description: "Equipo utilizado para hemodiálisis"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Arteriovenous_fistula.jpg/800px-Arteriovenous_fistula.jpg",
                                title: "Fístula Arteriovenosa",
                                description: "Acceso vascular para hemodiálisis"
                            }
                        ],
                        source: {
                            name: "KDIGO",
                            type: "fda",
                            description: "Kidney Disease: Improving Global Outcomes Guidelines",
                            url: "https://kdigo.org"
                        },
                        lastUpdated: "2023-11-18"
                    },
                    {
                        id: "dialisaperitoneal",
                        title: "Diálisis Peritoneal",
                        icon: "fa-lungs",
                        summary: "Modalidad de diálisis que utiliza la membrana peritoneal.",
                        materials: [
                            "Solución de diálisis",
                            "Catéter peritoneal",
                            "Bolsas de intercambio",
                            "Equipo de conexión",
                            "Material de cuidado del catéter"
                        ],
                        steps: [
                            "Preparación del área de intercambio",
                            "Conexión al catéter",
                            "Infusión de solución",
                            "Tiempo de permanencia",
                            "Drenaje",
                            "Desconexión",
                            "Cuidado del catéter"
                        ],
                        notes: "Requiere técnica estéril. Educación intensiva del paciente. Prevención de peritonitis. Monitoreo de adecuación de diálisis.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Peritoneal_dialysis_exchange.jpg/800px-Peritoneal_dialysis_exchange.jpg",
                                title: "Intercambio en Diálisis Peritoneal",
                                description: "Procedimiento de intercambio de solución"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Peritoneal_dialysis_catheter.jpg/800px-Peritoneal_dialysis_catheter.jpg",
                                title: "Catéter de Diálisis Peritoneal",
                                description: "Colocación del catéter peritoneal"
                            }
                        ],
                        source: {
                            name: "ISPD",
                            type: "fda",
                            description: "International Society for Peritoneal Dialysis Guidelines",
                            url: "https://www.ispd.org"
                        },
                        lastUpdated: "2023-10-28"
                    }
                ],
                diseases: [
                    {
                        id: "irc",
                        name: "Insuficiencia Renal Crónica",
                        prevalence: "10-15% de la población adulta",
                        description: "Pérdida progresiva de la función renal",
                        symptoms: [
                            "Fatiga",
                            "Náuseas",
                            "Edema",
                            "Hipertensión",
                            "Alteraciones urinarias"
                        ],
                        treatment: [
                            "Control de factores de riesgo",
                            "Dieta renal",
                            "Tratamiento de complicaciones",
                            "Preparación para diálisis",
                            "Trasplante renal"
                        ],
                        prognosis: "Progresión a diálisis en ~1-2% de casos/año. Supervivencia en diálisis ~5-10 años.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Chronic_kidney_disease_pathology.jpg/800px-Chronic_kidney_disease_pathology.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Kidney_failure_pathophysiology.jpg/800px-Kidney_failure_pathophysiology.jpg"
                        ],
                        sources: [
                            {
                                name: "KDIGO",
                                url: "https://kdigo.org/guidelines/ckd/"
                            },
                            {
                                name: "NKF",
                                url: "https://www.kidney.org"
                            }
                        ],
                        lastUpdated: "2023-09-15"
                    },
                    {
                        id: "glomerulonefritis",
                        name: "Glomerulonefritis",
                        prevalence: "Varía según el tipo",
                        description: "Inflamación de los glomérulos renales",
                        symptoms: [
                            "Hematuria",
                            "Proteinuria",
                            "Edema",
                            "Hipertensión",
                            "Insuficiencia renal aguda"
                        ],
                        treatment: [
                            "Control de presión arterial",
                            "Corticosteroides",
                            "Inmunosupresores",
                            "Tratamiento de la causa subyacente",
                            "Soporte renal"
                        ],
                        prognosis: "Variable según el tipo. Algunos casos resuelven, otros progresan a IRC.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Glomerulonephritis_microscopic.jpg/800px-Glomerulonephritis_microscopic.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Glomerulonephritis_pathology.jpg/800px-Glomerulonephritis_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "KDIGO",
                                url: "https://kdigo.org/guidelines/glomerular-diseases/"
                            },
                            {
                                name: "ASN",
                                url: "https://www.asn-online.org"
                            }
                        ],
                        lastUpdated: "2023-08-20"
                    }
                ],
                resources: [
                    {
                        title: "KDIGO Guidelines",
                        description: "Guías para enfermedades renales",
                        url: "https://kdigo.org",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "NKF Resources",
                        description: "Recursos de la Fundación Nacional del Riñón",
                        url: "https://www.kidney.org",
                        icon: "fa-stethoscope",
                        category: "Pacientes"
                    },
                    {
                        title: "ASN Journals",
                        description: "Revistas de la Sociedad de Nefrología",
                        url: "https://www.jasn.org",
                        icon: "fa-newspaper",
                        category: "Investigación"
                    }
                ]
            },
            gastroenterologia: {
                title: "Gastroenterología",
                icon: "fa-stomach",
                description: "Diagnóstico y tratamiento de enfermedades digestivas",
                procedures: [
                    {
                        id: "endoscopia",
                        title: "Endoscopia Digestiva Alta",
                        icon: "fa-procedures",
                        summary: "Examen endoscópico del tracto digestivo superior.",
                        materials: [
                            "Endoscopio",
                            "Monitor de video",
                            "Instrumentos de biopsia",
                            "Sedación",
                            "Material de desinfección"
                        ],
                        steps: [
                            "Preparación del paciente",
                            "Sedación",
                            "Introducción del endoscopio",
                            "Evaluación sistemática",
                            "Toma de biopsias si indicado",
                            "Retirada del endoscopio",
                            "Recuperación post-procedimiento"
                        ],
                        notes: "Requiere ayuno previo. Monitoreo durante sedación. Complicaciones raras pero potencialmente graves. Informe detallado post-procedimiento.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Upper_endoscopy.jpg/800px-Upper_endoscopy.jpg",
                                title: "Endoscopia Digestiva Alta",
                                description: "Procedimiento de endoscopia digestiva"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Endoscopic_image_of_esophagitis.jpg/800px-Endoscopic_image_of_esophagitis.jpg",
                                title: "Imagen Endoscópica",
                                description: "Hallazgos endoscópicos de esofagitis"
                            }
                        ],
                        source: {
                            name: "ASGE",
                            type: "fda",
                            description: "American Society for Gastrointestinal Endoscopy Guidelines",
                            url: "https://www.asge.org"
                        },
                        lastUpdated: "2023-11-25"
                    },
                    {
                        id: "colonoscopia",
                        title: "Colonoscopia",
                        icon: "fa-procedures",
                        summary: "Examen endoscópico del colon y recto.",
                        materials: [
                            "Colonoscopio",
                            "Monitor de video",
                            "Instrumentos de polipectomía",
                            "Sedación",
                            "Material de preparación intestinal"
                        ],
                        steps: [
                            "Preparación intestinal",
                            "Sedación",
                            "Introducción del colonoscopio",
                            "Evaluación sistemática",
                            "Polipectomía si indicado",
                            "Retirada del colonoscopio",
                            "Recuperación post-procedimiento"
                        ],
                        notes: "Preparación intestinal adecuada es crucial. Monitoreo durante sedación. Prevención de complicaciones (perforación, sangrado). Seguimiento de hallazgos.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Colonoscopy_procedure.jpg/800px-Colonoscopy_procedure.jpg",
                                title: "Colonoscopia",
                                description: "Procedimiento de colonoscopia"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Colonoscopic_polypectomy.jpg/800px-Colonoscopic_polypectomy.jpg",
                                title: "Polipectomía",
                                description: "Extirpación de pólipo durante colonoscopia"
                            }
                        ],
                        source: {
                            name: "USMSTF",
                            type: "fda",
                            description: "U.S. Multi-Society Task Force on Colorectal Cancer",
                            url: "https://www.gastro.org/practice-guidelines"
                        },
                        lastUpdated: "2023-10-15"
                    }
                ],
                diseases: [
                    {
                        id: "hepatitis",
                        name: "Hepatitis Viral",
                        prevalence: "350 millones con hepatitis B crónica, 70 millones con hepatitis C",
                        description: "Inflamación del hígado causada por virus",
                        symptoms: [
                            "Ictericia",
                            "Asthenia",
                            "Náuseas",
                            "Dolor abdominal",
                            "Orina oscura"
                        ],
                        treatment: [
                            "Antivirales (hepatitis B y C)",
                            "Soporte sintomático",
                            "Vacunación (A y B)",
                            "Prevención de transmisión"
                        ],
                        prognosis: "Hepatitis A y E: resolución completa. Hepatitis B y C: pueden cronicizarse, llevar a cirrosis y cáncer hepático.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Hepatitis_B_virus.jpg/800px-Hepatitis_B_virus.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Liver_cirrhosis_pathology.jpg/800px-Liver_cirrhosis_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "AASLD",
                                url: "https://www.aasld.org/practice-guidelines"
                            },
                            {
                                name: "EASL",
                                url: "https://www.easl.eu/guidelines/"
                            }
                        ],
                        lastUpdated: "2023-09-05"
                    },
                    {
                        id: "epatocarcinoma",
                        name: "Carcinoma Hepatocelular",
                        prevalence: "6th most common cancer worldwide",
                        description: "Cáncer primario del hígado",
                        symptoms: [
                            "Dolor abdominal",
                            "Pérdida de peso",
                            "Ascitis",
                            "Ictericia",
                            "Masas palpables"
                        ],
                        treatment: [
                            "Resección quirúrgica",
                            "Trasplante hepático",
                            "Ablación tumoral",
                            "Quimioembolización",
                            "Inmunoterapia"
                        ],
                        prognosis: "Depende del estadio. Supervivencia a 5 años ~18% globalmente.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Hepatocellular_carcinoma_CT.jpg/800px-Hepatocellular_carcinoma_CT.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Hepatocellular_carcinoma_pathology.jpg/800px-Hepatocellular_carcinoma_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "AASLD",
                                url: "https://www.aasld.org/practice-guidelines/hepatocellular-carcinoma"
                            },
                            {
                                name: "EASL",
                                url: "https://www.easl.eu/guidelines/easl-clinical-practice-guidelines-on-the-prevention-detection-and-treatment-of-hepatocellular-carcinoma/"
                            }
                        ],
                        lastUpdated: "2023-08-10"
                    }
                ],
                resources: [
                    {
                        title: "AGA Guidelines",
                        description: "Guías de la Asociación Americana de Gastroenterología",
                        url: "https://gastro.org/practice-guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "UpToDate GI",
                        description: "Recursos clínicos de gastroenterología",
                        url: "https://www.uptodate.com/contents/topic-list/gastroenterology",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "Crohn's & Colitis Foundation",
                        description: "Fundación para enfermedades inflamatorias intestinales",
                        url: "https://www.crohnscolitisfoundation.org",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            reumatologia: {
                title: "Reumatología",
                icon: "fa-bone",
                description: "Diagnóstico y tratamiento de enfermedades del sistema músculo-esquelético",
                procedures: [
                    {
                        id: "artrocentesis",
                        title: "Artrocentesis",
                        icon: "fa-syringe",
                        summary: "Aspiración del líquido sinovial de una articulación.",
                        materials: [
                            "Jeringa y aguja",
                            "Solución antiséptica",
                            "Anestesia local",
                            "Tubos para muestras",
                            "Vendaje"
                        ],
                        steps: [
                            "Identificación del punto de punción",
                            "Preparación antiséptica",
                            "Anestesia local",
                            "Punción articular",
                            "Aspiración del líquido",
                            "Envío de muestras",
                            "Vendaje post-procedimiento"
                        ],
                        notes: "Técnica estéril requerida. Evaluación del líquido sinovial es crucial. Complicaciones raras (infección, hemartrosis). Puede ser terapéutico y diagnóstico.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Knee_arthrocentesis.jpg/800px-Knee_arthrocentesis.jpg",
                                title: "Artrocentesis de Rodilla",
                                description: "Procedimiento de artrocentesis"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Synovial_fluid_analysis.jpg/800px-Synovial_fluid_analysis.jpg",
                                title: "Análisis de Líquido Sinovial",
                                description: "Evaluación del líquido obtenido"
                            }
                        ],
                        source: {
                            name: "ACR",
                            type: "fda",
                            description: "American College of Rheumatology Guidelines",
                            url: "https://www.rheumatology.org"
                        },
                        lastUpdated: "2023-11-30"
                    },
                    {
                        id: "infiltraciones",
                        title: "Infiltraciones Articulares",
                        icon: "fa-syringe",
                        summary: "Administración de medicamentos directamente en una articulación.",
                        materials: [
                            "Corticosteroides",
                            "Jeringa y aguja",
                            "Solución antiséptica",
                            "Anestesia local",
                            "Vendaje"
                        ],
                        steps: [
                            "Identificación del punto de inyección",
                            "Preparación antiséptica",
                            "Anestesia local",
                            "Inyección del medicamento",
                            "Movilización post-procedimiento",
                            "Vendaje si necesario"
                        ],
                        notes: "Indicado para artritis inflamatorias. Puede proporcionar alivio rápido. Riesgo de infección articular. Limitar número de infiltraciones.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Shoulder_injection.jpg/800px-Shoulder_injection.jpg",
                                title: "Infiltración de Hombro",
                                description: "Procedimiento de infiltración articular"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Corticosteroid_injection.jpg/800px-Corticosteroid_injection.jpg",
                                title: "Inyección de Corticosteroides",
                                description: "Administración de corticosteroides intraarticular"
                            }
                        ],
                        source: {
                            name: "EULAR",
                            type: "fda",
                            description: "European Alliance of Associations for Rheumatology Guidelines",
                            url: "https://www.eular.org"
                        },
                        lastUpdated: "2023-10-22"
                    }
                ],
                diseases: [
                    {
                        id: "artritis",
                        name: "Artritis Reumatoide",
                        prevalence: "0.5-1% de la población mundial",
                        description: "Enfermedad autoinmune sistémica que afecta principalmente articulaciones",
                        symptoms: [
                            "Dolor articular simétrico",
                            "Rigidez matutina >1 hora",
                            "Hinchazón articular",
                            "Deformidades",
                            "Nódulos reumatoides"
                        ],
                        treatment: [
                            "DMARDs (metotrexato)",
                            "Biologicos",
                            "Corticosteroides",
                            "Terapia física",
                            "Cirugía en casos avanzados"
                        ],
                        prognosis: "Curso crónico progresivo. Daño articular irreversible sin tratamiento. Mejora significativa con terapias modernas.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Rheumatoid_arthritis_hand.jpg/800px-Rheumatoid_arthritis_hand.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Rheumatoid_arthritis_pathology.jpg/800px-Rheumatoid_arthritis_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "ACR",
                                url: "https://www.rheumatology.org/I-Am-A/Patient-Caregiver/Diseases-Conditions/Rheumatoid-Arthritis"
                            },
                            {
                                name: "EULAR",
                                url: "https://www.eular.org/patients.cfm"
                            }
                        ],
                        lastUpdated: "2023-09-08"
                    },
                    {
                        id: "lupus",
                        name: "Lupus Eritematoso Sistémico",
                        prevalence: "20-150 casos por 100,000 personas",
                        description: "Enfermedad autoinmune sistémica con múltiples manifestaciones",
                        symptoms: [
                            "Erupción malar",
                            "Artritis",
                            "Fiebre",
                            "Fatiga",
                            "Lesión renal"
                        ],
                        treatment: [
                            "Hidroxicloroquina",
                            "Corticosteroides",
                            "Inmunosupresores",
                            "Biologicos",
                            "Protección solar"
                        ],
                        prognosis: "Variable. Supervivencia a 10 años >90% con tratamiento adecuado. Complicaciones renales son principales causa de morbilidad.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Lupus_malar_rash.jpg/800px-Lupus_malar_rash.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Lupus_nephritis_pathology.jpg/800px-Lupus_nephritis_pathology.jpg"
                        ],
                        sources: [
                            {
                                name: "ACR",
                                url: "https://www.rheumatology.org/I-Am-A/Patient-Caregiver/Diseases-Conditions/Lupus"
                            },
                            {
                                name: "Lupus Foundation",
                                url: "https://www.lupus.org"
                            }
                        ],
                        lastUpdated: "2023-08-05"
                    }
                ],
                resources: [
                    {
                        title: "ACR Guidelines",
                        description: "Guías de la Colegio Americano de Reumatología",
                        url: "https://www.rheumatology.org/Practice-Quality/Clinical-Support",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "EULAR Recommendations",
                        description: "Recomendaciones de la Alianza Europea de Reumatología",
                        url: "https://www.eular.org/eular_recommendations.cfm",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "Lupus.org",
                        description: "Recursos sobre lupus eritematoso sistémico",
                        url: "https://www.lupus.org",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            nutricion: {
                title: "Nutrición Clínica",
                icon: "fa-apple-alt",
                description: "Evaluación y manejo nutricional de pacientes hospitalizados",
                procedures: [
                    {
                        id: "evaluacion",
                        title: "Evaluación Nutricional",
                        icon: "fa-clipboard-list",
                        summary: "Evaluación integral del estado nutricional del paciente.",
                        materials: [
                            "Historia clínica",
                            "Examen físico",
                            "Antropometría",
                            "Laboratorio",
                            "Escalas de evaluación"
                        ],
                        steps: [
                            "Recopilación de historia dietética",
                            "Evaluación antropométrica (peso, talla, pliegues)",
                            "Examen físico para signos de deficiencia",
                            "Evaluación de laboratorio relevante",
                            "Aplicación de escalas (MUST, NRS-2002)",
                            "Diagnóstico nutricional",
                            "Plan nutricional individualizado"
                        ],
                        notes: "Identificar riesgo de malnutrición. Considerar factores sociales y psicológicos. Reevaluar regularmente. Enfoque multidisciplinario.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Nutritional_assessment.jpg/800px-Nutritional_assessment.jpg",
                                title: "Evaluación Nutricional",
                                description: "Proceso de evaluación del estado nutricional"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Anthropometric_measurements.jpg/800px-Anthropometric_measurements.jpg",
                                title: "Medidas Antropométricas",
                                description: "Toma de medidas corporales para evaluación nutricional"
                            }
                        ],
                        source: {
                            name: "ESPEN",
                            type: "who",
                            description: "European Society for Clinical Nutrition and Metabolism Guidelines",
                            url: "https://www.espen.org"
                        },
                        lastUpdated: "2023-12-05"
                    },
                    {
                        id: "terapia_enteral",
                        title: "Terapia Nutricional Enteral",
                        icon: "fa-utensils",
                        summary: "Administración de nutrientes por vía gastrointestinal.",
                        materials: [
                            "Fórmulas nutricionales",
                            "Sondas nasogástricas/nasoentéricas",
                            "Sistemas de alimentación",
                            "Equipo de verificación de posición",
                            "Material de cuidado de sondas"
                        ],
                        steps: [
                            "Evaluación de indicaciones",
                            "Elección de vía de acceso",
                            "Colocación y verificación de posición",
                            "Inicio de alimentación",
                            "Ajuste de velocidad y volumen",
                            "Monitoreo de tolerancia",
                            "Cuidado de la sonda"
                        ],
                        notes: "Indicado cuando el tracto GI está funcional. Prevenir complicaciones (aspiración, obstrucción). Monitorear balance hídrico y electrolitos. Educación del paciente/cuidador.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Enteral_feeding_tube.jpg/800px-Enteral_feeding_tube.jpg",
                                title: "Sonda de Alimentación",
                                description: "Colocación de sonda nasogástrica"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Enteral_feeding_pump.jpg/800px-Enteral_feeding_pump.jpg",
                                title: "Bomba de Alimentación",
                                description: "Administración controlada de nutrición enteral"
                            }
                        ],
                        source: {
                            name: "ASPEN",
                            type: "fda",
                            description: "American Society for Parenteral and Enteral Nutrition Guidelines",
                            url: "https://www.nutritioncare.org"
                        },
                        lastUpdated: "2023-11-12"
                    }
                ],
                diseases: [
                    {
                        id: "desnutricion",
                        name: "Desnutrición Hospitalaria",
                        prevalence: "20-50% de pacientes hospitalizados",
                        description: "Estado de deficiencia de nutrientes en pacientes hospitalizados",
                        symptoms: [
                            "Pérdida de peso",
                            "Musculatura disminuida",
                            "Edema",
                            "Lentitud en cicatrización",
                            "Alteraciones inmunitarias"
                        ],
                        treatment: [
                            "Optimización de ingesta oral",
                            "Suplementos nutricionales",
                            "Nutrición enteral",
                            "Nutrición parenteral",
                            "Tratamiento de la causa subyacente"
                        ],
                        prognosis: "Aumenta morbilidad, mortalidad y costos. Mejora con intervención nutricional temprana.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Protein_energy_malnutrition.jpg/800px-Protein_energy_malnutrition.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Malnutrition_clinical_signs.jpg/800px-Malnutrition_clinical_signs.jpg"
                        ],
                        sources: [
                            {
                                name: "ESPEN",
                                url: "https://www.espen.org/guidelines"
                            },
                            {
                                name: "ASPEN",
                                url: "https://www.nutritioncare.org/guidelines/"
                            }
                        ],
                        lastUpdated: "2023-10-08"
                    },
                    {
                        id: "obesidad",
                        name: "Obesidad",
                        prevalence: "40% de adultos en EE.UU., globalmente en aumento",
                        description: "Acumulación excesiva de grasa que puede afectar la salud",
                        symptoms: [
                            "IMC ≥30 kg/m²",
                            "Apnea del sueño",
                            "Esteatosis hepática",
                            "Artropatía",
                            "Problemas psicosociales"
                        ],
                        treatment: [
                            "Modificación de estilo de vida",
                            "Terapia farmacológica",
                            "Cirugía bariátrica",
                            "Manejo de comorbilidades",
                            "Seguimiento multidisciplinario"
                        ],
                        prognosis: "Aumenta riesgo de múltiples enfermedades crónicas. Pérdida de peso mejora pronóstico.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Obesity_classification.jpg/800px-Obesity_classification.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Obesity_pathophysiology.jpg/800px-Obesity_pathophysiology.jpg"
                        ],
                        sources: [
                            {
                                name: "AACE",
                                url: "https://www.aace.com/guidelines"
                            },
                            {
                                name: "NIH",
                                url: "https://www.nhlbi.nih.gov/health-topics/obesity"
                            }
                        ],
                        lastUpdated: "2023-09-14"
                    }
                ],
                resources: [
                    {
                        title: "ESPEN Guidelines",
                        description: "Guías de nutrición clínica europeas",
                        url: "https://www.espen.org/guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "ASPEN Resources",
                        description: "Recursos de la Sociedad Americana de Nutrición",
                        url: "https://www.nutritioncare.org",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "Academy of Nutrition",
                        description: "Academia de Nutrición y Dietética",
                        url: "https://www.eatright.org",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            infecciones: {
                title: "Control de Infecciones",
                icon: "fa-virus",
                description: "Prevención y manejo de infecciones nosocomiales y comunitarias",
                procedures: [
                    {
                        id: "lavado_mano",
                        title: "Técnica de Lavado de Manos",
                        icon: "fa-hands-wash",
                        summary: "Técnica correcta para el lavado de manos en entornos de salud.",
                        materials: [
                            "Agua",
                            "Jabón",
                            "Toallas de papel",
                            "Desinfectante de manos",
                            "Reloj para cronometrar"
                        ],
                        steps: [
                            "Mojar manos con agua",
                            "Aplicar jabón",
                            "Frotar palmas",
                            "Frotar dorso de manos",
                            "Entrelazar dedos",
                            "Frotar pulgares",
                            "Frotar puntas de dedos",
                            "Aclarar con agua",
                            "Secar con toalla de papel",
                            "Cerrar grifo con toalla"
                        ],
                        notes: "Duración mínima 20 segundos. Indicado antes y después de contacto con pacientes. Alternativa con alcohol si no hay suciedad visible.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Hand_washing_technique.jpg/800px-Hand_washing_technique.jpg",
                                title: "Técnica de Lavado de Manos",
                                description: "Pasos correctos para el lavado de manos"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/WHO_hand_hygiene.jpg/800px-WHO_hand_hygiene.jpg",
                                title: "Higiene de Manos OMS",
                                description: "Técnica recomendada por la Organización Mundial de la Salud"
                            }
                        ],
                        source: {
                            name: "OMS",
                            type: "who",
                            description: "Guías de Higiene de Manos en Atención de Salud",
                            url: "https://www.who.int/gpsc/5by5/en/"
                        },
                        lastUpdated: "2023-12-10"
                    },
                    {
                        id: "barrieras",
                        title: "Uso de Barreras de Protección",
                        icon: "fa-shield-alt",
                        summary: "Protocolo para el uso correcto de equipos de protección personal.",
                        materials: [
                            "Guantes",
                            "Batas",
                            "Mascarillas",
                            "Gafas de protección",
                            "Careta facial"
                        ],
                        steps: [
                            "Evaluación del riesgo",
                            "Selección del EPP adecuado",
                            "Colocación en orden correcto",
                            "Uso durante procedimiento",
                            "Retirada en orden correcto",
                            "Desecho adecuado",
                            "Higiene de manos post-remoción"
                        ],
                        notes: "Prevenir la transmisión de patógenos. Adaptar al riesgo específico. Capacitación y verificación de ajuste (mascarillas N95). Evitar la contaminación durante la remoción.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/PPE_donning_sequence.jpg/800px-PPE_donning_sequence.jpg",
                                title: "Colocación de EPP",
                                description: "Secuencia correcta para poner equipo de protección"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/PPE_doffing_sequence.jpg/800px-PPE_doffing_sequence.jpg",
                                title: "Retirada de EPP",
                                description: "Secuencia correcta para quitar equipo de protección"
                            }
                        ],
                        source: {
                            name: "CDC",
                            type: "fda",
                            description: "Centers for Disease Control and Prevention Guidelines",
                            url: "https://www.cdc.gov/infectioncontrol/guidelines/index.html"
                        },
                        lastUpdated: "2023-11-28"
                    }
                ],
                diseases: [
                    {
                        id: "sepsis",
                        name: "Sepsis",
                        prevalence: "27 millones de casos/año globalmente",
                        description: "Respuesta sistémica desregulada a la infección",
                        symptoms: [
                            "Fiebre o hipotermia",
                            "Taquicardia",
                            "Taquipnea",
                            "Leucocitosis o leucopenia",
                            "Hipotensión"
                        ],
                        treatment: [
                            "Antibióticos empíricos inmediatos",
                            "Reanimación con fluidos",
                            "Soporte hemodinámico",
                            "Fuente control",
                            "Soporte de órganos"
                        ],
                        prognosis: "Mortalidad 15-30%. Mejora con intervención temprana (<1 hora)."
                    }
                ],
                resources: [
                    {
                        title: "CDC Infection Control",
                        description: "Guías de control de infecciones",
                        url: "https://www.cdc.gov/infectioncontrol",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "WHO Infection Prevention",
                        description: "Prevención de infecciones de la OMS",
                        url: "https://www.who.int/infection-prevention",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "SHEA Guidelines",
                        description: "Sociedad para Epidemiología en Atención de Salud",
                        url: "https://www.shea-online.org",
                        icon: "fa-clinic-medical",
                        category: "Referencia"
                    }
                ]
            },
            movilizacion: {
                title: "Movilización Pacientes",
                icon: "fa-wheelchair",
                description: "Técnicas seguras para la movilización de pacientes",
                procedures: [
                    {
                        id: "traslado",
                        title: "Traslado de Paciente de Cama a Silla",
                        icon: "fa-exchange-alt",
                        summary: "Técnica segura para trasladar pacientes de la cama a una silla.",
                        materials: [
                            "Silla de ruedas",
                            "Tabla de transferencia",
                            "Cinturón de transferencia",
                            "Personal adecuado",
                            "Espacio suficiente"
                        ],
                        steps: [
                            "Explicar el procedimiento al paciente",
                            "Preparar el equipo",
                            "Posicionar la silla",
                            "Ayudar al paciente a sentarse en la cama",
                            "Deslizar la tabla de transferencia",
                            "Asistir en el giro y traslado",
                            "Asegurar al paciente en la silla",
                            "Verificar comodidad y seguridad"
                        ],
                        notes: "Evaluar capacidad del paciente. Usar equipo de ayuda. Evitar torsión de columna. Comunicación constante con el paciente. Prevenir caídas.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Patient_transfer_bed_to_chair.jpg/800px-Patient_transfer_bed_to_chair.jpg",
                                title: "Traslado Cama a Silla",
                                description: "Técnica de transferencia de paciente"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Transfer_board_use.jpg/800px-Transfer_board_use.jpg",
                                title: "Tabla de Transferencia",
                                description: "Uso de tabla para transferencia segura"
                            }
                        ],
                        source: {
                            name: "OSHA",
                            type: "fda",
                            description: "Occupational Safety and Health Administration Guidelines",
                            url: "https://www.osha.gov/health-care"
                        },
                        lastUpdated: "2023-12-08"
                    },
                    {
                        id: "ambulacion",
                        title: "Ambulación con Ayudas",
                        icon: "fa-walking",
                        summary: "Técnica para ayudar a pacientes a caminar con dispositivos de apoyo.",
                        materials: [
                            "Andadores",
                            "Muletas",
                            "Bastones",
                            "Cinturón de seguridad",
                            "Espacio seguro"
                        ],
                        steps: [
                            "Seleccionar la ayuda adecuada",
                            "Ajustar la altura",
                            "Demostrar el uso",
                            "Asistir en la marcha",
                            "Monitorear equilibrio",
                            "Prevenir caídas",
                            "Descansar según necesidad"
                        ],
                        notes: "Evaluar fuerza, equilibrio y coordinación. Ajustar dispositivo a la altura correcta. Superficie segura. Supervisión constante. Progresión gradual.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Using_a_walker.jpg/800px-Using_a_walker.jpg",
                                title: "Uso de Andador",
                                description: "Técnica correcta para usar andador"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Using_crutches.jpg/800px-Using_crutches.jpg",
                                title: "Uso de Muletas",
                                description: "Técnica correcta para usar muletas"
                            }
                        ],
                        source: {
                            name: "APTA",
                            type: "fda",
                            description: "American Physical Therapy Association Guidelines",
                            url: "https://www.apta.org"
                        },
                        lastUpdated: "2023-11-22"
                    }
                ],
                resources: [
                    {
                        title: "OSHA Healthcare Guidelines",
                        description: "Guías de seguridad en atención de salud",
                        url: "https://www.osha.gov/health-care",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "APTA Resources",
                        description: "Recursos de la Asociación de Fisioterapia",
                        url: "https://www.apta.org/patient-care",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "NIOSH Ergonomics",
                        description: "Ergonomía en el trabajo de salud",
                        url: "https://www.cdc.gov/niosh/topics/ergonomics",
                        icon: "fa-clinic-medical",
                        category: "Seguridad"
                    }
                ]
            },
            rcp: {
                title: "RCP Integral",
                icon: "fa-heartbeat",
                description: "Reanimación cardiopulmonar y cuidados avanzados",
                procedures: [
                    {
                        id: "rcep",
                        title: "Reanimación Cardiovascular Avanzada",
                        icon: "fa-procedures",
                        summary: "Protocolo completo para la reanimación cardiopulmonar avanzada.",
                        materials: [
                            "Desfibrilador/AED",
                            "Equipo de vía aérea",
                            "Medicamentos de paro",
                            "Monitor cardíaco",
                            "Equipo de acceso vascular"
                        ],
                        steps: [
                            "Verificar escena segura",
                            "Evaluar respuesta del paciente",
                            "Activar sistema de respuesta médica de emergencia",
                            "Inicio de RCP: 30 compresiones : 2 ventilaciones",
                            "Acceso a desfibrilador/AED lo antes posible",
                            "Shock si ritmo desfibrilable (FV/TV sin pulso)",
                            "Ciclos de RCP 2 minutos con mínimas interrupciones",
                            "Acceso vascular y administración de epinefrina 1 mg cada 3-5 minutos",
                            "Identificar y tratar causas reversibles (5H 5T)"
                        ],
                        notes: "Calidad de las compresiones es crucial. Minimizar interrupciones. Trabajo en equipo coordinado. Documentación precisa. Debriefing post-paro.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Adult_CPR.jpg/800px-Adult_CPR.jpg",
                                title: "RCP en Adulto",
                                description: "Técnica correcta de reanimación cardiopulmonar"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/AED_use.jpg/800px-AED_use.jpg",
                                title: "Uso de DEA",
                                description: "Aplicación de desfibrilador externo automático"
                            }
                        ],
                        source: {
                            name: "AHA",
                            type: "who",
                            description: "American Heart Association Guidelines for CPR",
                            url: "https://www.heart.org/en/resuscitation-science/cpr"
                        },
                        lastUpdated: "2023-10-15"
                    },
                    {
                        id: "postparo",
                        title: "Cuidados Post-Paro",
                        icon: "fa-heart",
                        summary: "Manejo del paciente después de la reanimación exitosa.",
                        materials: [
                            "Monitorización neurológica",
                            "Ventilación mecánica",
                            "Terapia de hipotermia",
                            "Soporte hemodinámico",
                            "Evaluación de causa"
                        ],
                        steps: [
                            "Optimizar ventilación y oxigenación",
                            "Mantener perfusión cerebral adecuada",
                            "Terapia de hipotermia terapéutica",
                            "Control de glucemia",
                            "Manejo de convulsiones",
                            "Evaluación neurológica serial",
                            "Investigación de causa del paro"
                        ],
                        notes: "Enfriamiento terapéutico mejora resultados neurológicos. Monitoreo intensivo. Prevención de complicaciones. Evaluación pronóstica cuidadosa.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Therapeutic_hypothermia.jpg/800px-Therapeutic_hypothermia.jpg",
                                title: "Hipotermia Terapéutica",
                                description: "Enfriamiento controlado post-paro cardíaco"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Post-cardiac-arrest_care.jpg/800px-Post-cardiac-arrest_care.jpg",
                                title: "Cuidados Post-Paro",
                                description: "Manejo del paciente post-reanimación"
                            }
                        ],
                        source: {
                            name: "ERC",
                            type: "fda",
                            description: "European Resuscitation Council Guidelines",
                            url: "https://www.erc.edu/guidelines/"
                        },
                        lastUpdated: "2023-09-28"
                    }
                ],
                resources: [
                    {
                        title: "AHA Heartsaver",
                        description: "Cursos de RCP para profesionales",
                        url: "https://cpr.heart.org",
                        icon: "fa-book-medical",
                        category: "Educación"
                    },
                    {
                        title: "ERC Guidelines",
                        description: "Guías europeas de reanimación",
                        url: "https://www.erc.edu/guidelines/",
                        icon: "fa-stethoscope",
                        category: "Referencia"
                    },
                    {
                        title: "ILCOR Consensus",
                        description: "Consenso internacional sobre reanimación",
                        url: "https://www.ilcor.org",
                        icon: "fa-clinic-medical",
                        category: "Investigación"
                    }
                ]
            },
            recursos: {
                title: "Recursos Educativos",
                icon: "fa-book-open",
                description: "Biblioteca completa de materiales educativos médicos",
                resources: [
                    {
                        id: "guia_oms",
                        title: "Guía de Práctica Clínica de la OMS",
                        description: "Recomendaciones basadas en evidencia para el manejo de enfermedades infecciosas",
                        url: "https://www.who.int/publications/guidelines",
                        type: "pdf",
                        size: "4.2 MB",
                        category: "Infecciones",
                        image: "https://placehold.co/300x200?text=Guía+OMS",
                        downloads: 1250,
                        rating: 4.8,
                        published: "2023-11-15"
                    },
                    {
                        id: "video_eco",
                        title: "Video Tutorial: Ecocardiografía Básica",
                        description: "Demostración paso a paso de la técnica de ecocardiografía transtorácica",
                        url: "https://www.youtube.com/watch?v=example",
                        type: "video",
                        duration: "28:45",
                        category: "Cardiología",
                        image: "https://placehold.co/300x200?text=Ecocardiografía",
                        views: 8900,
                        rating: 4.9,
                        published: "2023-10-20"
                    },
                    {
                        id: "curso_rcep",
                        title: "Curso de Reanimación Cardiovascular Avanzada",
                        description: "Curso completo de RCP avanzada con evaluación y certificación",
                        url: "https://www.heart.org/en/training",
                        type: "course",
                        duration: "8 horas",
                        category: "Emergencias",
                        image: "https://placehold.co/300x200?text=RCP+Avanzada",
                        enrolled: 3420,
                        rating: 4.7,
                        published: "2023-09-05"
                    },
                    {
                        id: "atlas_derm",
                        title: "Atlas de Dermatología",
                        description: "Colección de imágenes de alta calidad de condiciones dermatológicas",
                        url: "https://dermatlas.com",
                        type: "interactive",
                        category: "Dermatología",
                        image: "https://placehold.co/300x200?text=Atlas+Dermatológico",
                        views: 15600,
                        rating: 4.9,
                        published: "2023-08-12"
                    }
                ],
                externalLinks: [
                    {
                        title: "PubMed",
                        description: "Base de datos de literatura biomédica y científica",
                        url: "https://pubmed.ncbi.nlm.nih.gov",
                        icon: "fa-database",
                        category: "Investigación"
                    },
                    {
                        title: "CDC",
                        description: "Centros para el Control y Prevención de Enfermedades",
                        url: "https://www.cdc.gov",
                        icon: "fa-virus",
                        category: "Salud Pública"
                    },
                    {
                        title: "NEJM",
                        description: "New England Journal of Medicine",
                        url: "https://www.nejm.org",
                        icon: "fa-newspaper",
                        category: "Revistas Médicas"
                    },
                    {
                        title: "The Lancet",
                        description: "Revista médica internacional de alto impacto",
                        url: "https://www.thelancet.com",
                        icon: "fa-newspaper",
                        category: "Revistas Médicas"
                    },
                    {
                        title: "Mayo Clinic",
                        description: "Recurso educativo del Centro Médico Mayo",
                        url: "https://www.mayoclinic.org",
                        icon: "fa-clinic-medical",
                        category: "Educación"
                    },
                    {
                        title: "MedlinePlus",
                        description: "Enciclopedia médica para pacientes y profesionales",
                        url: "https://medlineplus.gov",
                        icon: "fa-book",
                        category: "Pacientes"
                    }
                ]
            },
            simulador: {
                title: "Simulador de Signos Vitales",
                icon: "fa-heartbeat",
                description: "Simulador interactivo de signos vitales para práctica y entrenamiento médico",
                vitals: [
                    { id: "heartRate", label: "Frecuencia Cardíaca", value: 75, unit: "lpm", normalRange: [60, 100] },
                    { id: "bloodPressure", label: "Presión Arterial", value: "120/80", unit: "mmHg", normalRange: [90, 140] },
                    { id: "oxygenSaturation", label: "Sat. Oxígeno", value: 98, unit: "%", normalRange: [95, 100] },
                    { id: "respiratoryRate", label: "Frecuencia Respiratoria", value: 16, unit: "rpm", normalRange: [12, 20] },
                    { id: "temperature", label: "Temperatura", value: 36.8, unit: "°C", normalRange: [36.1, 37.2] }
                ],
                scenarios: [
                    { id: "normal", name: "Paciente Normal", values: { heartRate: 75, bloodPressure: "120/80", oxygenSaturation: 98, respiratoryRate: 16, temperature: 36.8 } },
                    { id: "tachycardia", name: "Taquicardia", values: { heartRate: 140, bloodPressure: "110/70", oxygenSaturation: 96, respiratoryRate: 22, temperature: 37.0 } },
                    { id: "bradycardia", name: "Bradicardia", values: { heartRate: 48, bloodPressure: "100/65", oxygenSaturation: 95, respiratoryRate: 12, temperature: 36.5 } },
                    { id: "hypertension", name: "Hipertensión", values: { heartRate: 85, bloodPressure: "170/100", oxygenSaturation: 97, respiratoryRate: 18, temperature: 36.9 } },
                    { id: "hypotension", name: "Hipotensión", values: { heartRate: 110, bloodPressure: "85/55", oxygenSaturation: 93, respiratoryRate: 24, temperature: 36.7 } },
                    { id: "fever", name: "Fiebre", values: { heartRate: 95, bloodPressure: "125/80", oxygenSaturation: 96, respiratoryRate: 20, temperature: 38.9 } }
                ]
            },
            evaluacion: {
                title: "Evaluación y Progreso",
                icon: "fa-graduation-cap",
                description: "Sistema de evaluación y seguimiento de tu progreso en el aprendizaje",
                quizzes: {
                    curaciones: [
                        {
                            question: "¿Cuál es el primer paso en la curación de una herida quirúrgica?",
                            options: [
                                "Aplicar el antiséptico",
                                "Lavado de manos y colocación de guantes",
                                "Retirar el apósito anterior",
                                "Evaluar características de la herida"
                            ],
                            correct: 1
                        },
                        {
                            question: "¿Qué solución se recomienda para limpiar la mayoría de las heridas?",
                            options: [
                                "Agua oxigenada",
                                "Solución salina fisiológica",
                                "Alcohol etílico",
                                "Povidona yodada"
                            ],
                            correct: 1
                        }
                    ],
                    cardiologia: [
                        {
                            question: "¿Cuál es el tiempo objetivo 'puerta-balón' en un infarto agudo de miocardio?",
                            options: [
                                "30 minutos",
                                "60 minutos",
                                "90 minutos",
                                "120 minutos"
                            ],
                            correct: 2
                        }
                    ]
                },
                progress: {
                    completed: ["curaciones", "cardiologia"],
                    scores: {
                        curaciones: 85,
                        cardiologia: 92
                    },
                    totalProcedures: 42,
                    learnedProcedures: 18
                }
            }
        };

        // Elementos DOM
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const app = document.querySelector('.app');
        const sidebar = document.querySelector('.sidebar');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const themeToggle = document.getElementById('themeToggle');
        const searchInput = document.getElementById('searchInput');
        const searchSuggestions = document.getElementById('searchSuggestions');
        const mainContent = document.getElementById('mainContent');
        const notificationContainer = document.getElementById('notificationContainer');
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbot = document.getElementById('chatbot');
        const closeChatbot = document.getElementById('closeChatbot');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        
        // Botones de categoría
        const categoryButtons = document.querySelectorAll('.cat-btn');

        // Preferencias de usuario
        const userPreferences = {
            theme: 'light',
            recentCategories: [],
            currentUser: null
        };

        // Inicializar la aplicación
        function initApp() {
            // Comprobar si el usuario ha iniciado sesión
            checkLoginStatus();
            // Inicializar búsqueda
            initSearch();
            // Inicializar chatbot
            initChatbot();
            
            // Mostrar notificación de bienvenida después del inicio de sesión
            if (userPreferences.currentUser) {
                showNotification(`👋 Bienvenido Dr. ${userPreferences.currentUser.name}`, 'success');
            }
        }

        // Comprobar estado de inicio de sesión
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('edumed_user');
            if (savedUser) {
                userPreferences.currentUser = JSON.parse(savedUser);
                loginModal.style.display = 'none';
                app.style.display = 'flex';
                updateUserInfo();
            } else {
                loginModal.style.display = 'flex';
                app.style.display = 'none';
            }
        }

        // Actualizar información de usuario en el encabezado
        function updateUserInfo() {
            if (userPreferences.currentUser) {
                const userAvatar = document.querySelector('.user-avatar');
                const userName = document.querySelector('.user-name');
                const userRole = document.querySelector('.user-role');
                // Usar la primera letra del nombre para el avatar
                userAvatar.textContent = userPreferences.currentUser.name.charAt(0).toUpperCase();
                userName.textContent = `Dr. ${userPreferences.currentUser.name}`;
                userRole.textContent = userPreferences.currentUser.role;
            }
        }

        // Manejar inicio de sesión
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Validación simple
            if (email && password) {
                const name = email.split('@')[0].split('.')[0];
                const role = "Médico Residente";
                userPreferences.currentUser = {
                    email: email,
                    name: name.charAt(0).toUpperCase() + name.slice(1),
                    role: role
                };
                
                // Guardar en localStorage
                localStorage.setItem('edumed_user', JSON.stringify(userPreferences.currentUser));
                
                // Ocultar modal y mostrar aplicación
                loginModal.style.display = 'none';
                app.style.display = 'flex';
                
                // Actualizar información de usuario
                updateUserInfo();
                
                // Inicializar aplicación
                initApp();
                
                // Cargar la primera categoría
                handleCategoryNavigation('curaciones');
                
                // Mostrar notificación de bienvenida
                showNotification(`👋 Bienvenido Dr. ${userPreferences.currentUser.name}`, 'success');
            } else {
                showNotification('❌ Credenciales inválidas', 'error');
            }
        });

        // Establecer tema
        function setTheme(theme) {
            if (theme === 'dark') {
                document.documentElement.style.setProperty('--bg', 'linear-gradient(135deg, #0f172a, #1e293b, #334155)');
                document.documentElement.style.setProperty('--glass', 'rgba(15, 23, 42, 0.95)');
                document.documentElement.style.setProperty('--glass-2', 'rgba(30, 41, 59, 0.8)');
                document.documentElement.style.setProperty('--text-light', '#e2e8f0');
                document.documentElement.style.setProperty('--muted', '#94a3b8');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            } else {
                document.documentElement.style.setProperty('--bg', 'linear-gradient(135deg, #f0f9ff, #e0f2f1, #d0f0c0)');
                document.documentElement.style.setProperty('--glass', 'rgba(255, 255, 255, 0.95)');
                document.documentElement.style.setProperty('--glass-2', 'rgba(240, 249, 255, 0.8)');
                document.documentElement.style.setProperty('--text-light', '#0f172a');
                document.documentElement.style.setProperty('--muted', '#64748b');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            userPreferences.theme = theme;
        }

        // Alternar tema
        themeToggle.addEventListener('click', () => {
            const currentTheme = userPreferences.theme;
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
            showNotification(`✅ ${newTheme === 'dark' ? 'Modo oscuro' : 'Modo claro'} activado`, 'info');
        });

        // Funcionalidad del menú móvil
        mobileMenuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('hidden-mobile');
        });

        // Navegación por categorías
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                const categoryId = button.getAttribute('data-cat');
                handleCategoryNavigation(categoryId);
            });
        });

        // Manejar navegación por categorías
        function handleCategoryNavigation(categoryId) {
            // Actualizar categorías recientes
            if (!userPreferences.recentCategories.includes(categoryId)) {
                userPreferences.recentCategories.unshift(categoryId);
                if (userPreferences.recentCategories.length > 5) {
                    userPreferences.recentCategories.pop();
                }
            } else {
                // Mover al frente
                userPreferences.recentCategories = [categoryId, ...userPreferences.recentCategories.filter(id => id !== categoryId)];
            }
            
            // Actualizar botón activo
            updateActiveButton(categoryId);
            
            // Cargar contenido
            loadCategoryContent(categoryId);
            
            // Cerrar menú móvil
            if (window.innerWidth <= 768) {
                sidebar.classList.add('hidden-mobile');
            }
            
            // Mostrar notificación
            const categoryName = document.querySelector(`.cat-btn[data-cat="${categoryId}"]`).textContent.trim();
            showNotification(`✅ Mostrando: ${categoryName}`, 'success');
        }

        // Actualizar botón activo
        function updateActiveButton(activeId) {
            categoryButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-cat') === activeId) {
                    btn.classList.add('active');
                }
            });
        }

        // Inicializar búsqueda
        function initSearch() {
            searchInput.addEventListener('input', () => {
                const query = searchInput.value.toLowerCase();
                if (query.length < 2) {
                    searchSuggestions.style.display = 'none';
                    return;
                }
                
                const suggestions = [];
                
                // Buscar en categorías
                Object.keys(medicalData).forEach(categoryKey => {
                    const category = medicalData[categoryKey];
                    const categoryTitle = document.querySelector(`.cat-btn[data-cat="${categoryKey}"]`).textContent.trim();
                    
                    // Buscar en el título de la categoría
                    if (category.title.toLowerCase().includes(query)) {
                        suggestions.push({
                            type: 'category',
                            title: category.title,
                            category: categoryTitle,
                            categoryKey: categoryKey,
                            icon: category.icon
                        });
                    }
                    
                    // Buscar en procedimientos
                    if (category.procedures) {
                        category.procedures.forEach(procedure => {
                            if (procedure.title.toLowerCase().includes(query) || 
                                procedure.summary.toLowerCase().includes(query)) {
                                suggestions.push({
                                    type: 'procedure',
                                    title: procedure.title,
                                    summary: procedure.summary,
                                    category: categoryTitle,
                                    categoryKey: categoryKey,
                                    icon: procedure.icon
                                });
                            }
                        });
                    }
                    
                    // Buscar en medicamentos
                    if (category.medications) {
                        category.medications.forEach(medication => {
                            if (medication.name.toLowerCase().includes(query) || 
                                medication.class.toLowerCase().includes(query) ||
                                medication.indications.toLowerCase().includes(query)) {
                                suggestions.push({
                                    type: 'medication',
                                    title: medication.name,
                                    summary: `${medication.class} - ${medication.indications}`,
                                    category: categoryTitle,
                                    categoryKey: categoryKey,
                                    icon: 'fa-pills'
                                });
                            }
                        });
                    }
                    
                    // Buscar en protocolos
                    if (category.protocols) {
                        category.protocols.forEach(protocol => {
                            if (protocol.name.toLowerCase().includes(query)) {
                                suggestions.push({
                                    type: 'protocol',
                                    title: protocol.name,
                                    category: categoryTitle,
                                    categoryKey: categoryKey,
                                    icon: 'fa-notes-medical'
                                });
                            }
                        });
                    }
                    
                    // Buscar en enfermedades
                    if (category.diseases) {
                        category.diseases.forEach(disease => {
                            if (disease.name.toLowerCase().includes(query) || 
                                disease.description.toLowerCase().includes(query)) {
                                suggestions.push({
                                    type: 'disease',
                                    title: disease.name,
                                    summary: disease.description,
                                    category: categoryTitle,
                                    categoryKey: categoryKey,
                                    icon: 'fa-disease'
                                });
                            }
                        });
                    }
                    
                    // Buscar en recursos
                    if (category.resources) {
                        category.resources.forEach(resource => {
                            if (resource.title.toLowerCase().includes(query) || 
                                resource.description.toLowerCase().includes(query)) {
                                suggestions.push({
                                    type: 'resource',
                                    title: resource.title,
                                    summary: resource.description,
                                    category: categoryTitle,
                                    categoryKey: categoryKey,
                                    icon: resource.type === 'video' ? 'fa-video' : 
                                           resource.type === 'course' ? 'fa-chalkboard-teacher' : 'fa-book'
                                });
                            }
                        });
                    }
                });
                
                // Buscar en recursos externos
                if (medicalData.recursos) {
                    medicalData.recursos.externalLinks.forEach(link => {
                        if (link.title.toLowerCase().includes(query) || 
                            link.description.toLowerCase().includes(query)) {
                            suggestions.push({
                                type: 'external',
                                title: link.title,
                                summary: link.description,
                                category: 'Recursos Externos',
                                categoryKey: 'recursos',
                                icon: link.icon
                            });
                        }
                    });
                }
                
                if (suggestions.length > 0) {
                    displaySearchSuggestions(suggestions);
                } else {
                    searchSuggestions.style.display = 'none';
                }
            });
            
            searchInput.addEventListener('blur', () => {
                setTimeout(() => {
                    searchSuggestions.style.display = 'none';
                }, 200);
            });
        }

        // Mostrar sugerencias de búsqueda
        function displaySearchSuggestions(suggestions) {
            searchSuggestions.innerHTML = '';
            suggestions.slice(0, 8).forEach(suggestion => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                let icon = `<i class="fas fa-${suggestion.icon}"></i>`;
                
                if (suggestion.type === 'category') {
                    icon = `<i class="fas fa-th-large"></i>`;
                }
                
                item.innerHTML = `
                    ${icon}
                    <div>
                        <div>${suggestion.title}</div>
                        <div style="font-size: 0.8rem; color: var(--muted);">${suggestion.category}</div>
                    </div>
                `;
                item.addEventListener('click', () => {
                    searchInput.value = suggestion.title;
                    searchSuggestions.style.display = 'none';
                    handleCategoryNavigation(suggestion.categoryKey);
                    showNotification(`🔍 Mostrando: ${suggestion.title}`, 'info');
                });
                searchSuggestions.appendChild(item);
            });
            searchSuggestions.style.display = 'block';
        }

        // Cargar contenido de categoría
        function loadCategoryContent(categoryId) {
            const category = medicalData[categoryId];
            if (!category) {
                showNotification('❌ Categoría no encontrada', 'error');
                return;
            }
            
            // Mostrar estado de carga
            mainContent.innerHTML = `
                <div style="display: flex; justify-content: center; align-items: center; height: 200px;">
                    <div class="loading"></div>
                    <span style="margin-left: 12px; color: var(--text-light);">Cargando contenido...</span>
                </div>
            `;
            
            // Simular retardo de carga
            setTimeout(() => {
                let content = '';
                if (categoryId === 'recursos') {
                    content = renderResourcesContent(category);
                } else if (categoryId === 'farmacologia') {
                    content = renderFarmacologiaContent(category);
                } else if (categoryId === 'emergencias') {
                    content = renderEmergenciasContent(category);
                } else if (categoryId === 'simulador') {
                    content = renderSimulatorContent(category);
                } else if (categoryId === 'evaluacion') {
                    content = renderEvaluationContent(category);
                } else if (categoryId === 'neumologia' || 
                           categoryId === 'endocrinologia' || 
                           categoryId === 'neurologia' || 
                           categoryId === 'oncologia' || 
                           categoryId === 'nephrologia' || 
                           categoryId === 'gastroenterologia' || 
                           categoryId === 'reumatologia' || 
                           categoryId === 'nutricion' || 
                           categoryId === 'infecciones' || 
                           categoryId === 'movilizacion' || 
                           categoryId === 'rcp') {
                    content = renderSpecialtyContent(category);
                } else {
                    content = renderProceduresContent(category);
                }
                
                mainContent.innerHTML = content;
                
                // Actualizar título de página
                const pageTitle = mainContent.querySelector('.page-title');
                if (pageTitle) {
                    pageTitle.innerHTML = `
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    `;
                }
                
                // Inicializar simulador si existe
                if (categoryId === 'simulador') {
                    initSimulator();
                }
                
                // Inicializar evaluaciones si existen
                if (categoryId === 'evaluacion') {
                    initEvaluation();
                }
            }, 300);
        }

        // Renderizar contenido de procedimientos
        function renderProceduresContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                    <div class="action-buttons">
                        <button class="btn primary" onclick="showNotification('🔍 Funcionalidad en desarrollo', 'info')">
                            <i class="fas fa-plus"></i>
                            Nuevo Procedimiento
                        </button>
                    </div>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas ${category.icon}"></i>
                        Técnicas de ${category.title}
                    </h2>
                    <p>${category.description}</p>
                    ${category.procedures.map(procedure => `
                        <div class="procedure">
                            <h3>
                                <i class="fas ${procedure.icon}"></i>
                                ${procedure.title}
                            </h3>
                            <p class="summary">
                                <i class="fas fa-info-circle"></i>
                                ${procedure.summary}
                            </p>
                            <div class="materials">
                                <h4>
                                    <i class="fas fa-box-open"></i>
                                    Materiales Necesarios
                                </h4>
                                <ul>
                                    ${procedure.materials.map(material => `<li>${material}</li>`).join('')}
                                </ul>
                            </div>
                            <div class="steps">
                                <h4>
                                    <i class="fas fa-step-forward"></i>
                                    Pasos del Procedimiento
                                </h4>
                                <ol>
                                    ${procedure.steps.map(step => `<li>${step}</li>`).join('')}
                                </ol>
                            </div>
                            <div class="notes">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Consideraciones Importantes:</strong> ${procedure.notes}
                            </div>
                            <!-- Recursos visuales -->
                            ${procedure.visualReferences ? `
                            <div class="image-gallery">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="image-item">
                                        <img src="${ref.url}" alt="${ref.title}">
                                        <div class="image-caption">
                                            <strong>${ref.title}</strong><br>
                                            ${ref.description}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Basado en las <strong>${procedure.source.description}</strong>.
                                <span class="source-badge ${procedure.source.type}">
                                    <i class="fas fa-shield-alt"></i>
                                    ${procedure.source.name}
                                </span>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--muted);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Renderizar contenido de farmacología
        function renderFarmacologiaContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-pills"></i>
                        Medicamentos Principales
                    </h2>
                    <p>${category.description}</p>
                    ${category.medications.map(medication => `
                        <div class="medication-card">
                            <div class="medication-header">
                                <div>
                                    <div class="medication-name">${medication.name}</div>
                                    <div class="medication-class">${medication.class}</div>
                                </div>
                            </div>
                            <div class="medication-info">
                                <div class="info-item">
                                    <div class="info-label">Indicaciones</div>
                                    <div class="info-value">${medication.indications}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Dosificación</div>
                                    <div class="info-value">${medication.dosage}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Mecanismo</div>
                                    <div class="info-value">${medication.mechanism}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Categoría Embarazo</div>
                                    <div class="info-value">${medication.pregnancyCategory}</div>
                                </div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Nombre Comercial</div>
                                <div class="info-value">${medication.brandNames.join(', ')}</div>
                            </div>
                            <div class="contraindications">
                                <i class="fas fa-ban"></i>
                                <strong>Contraindicaciones:</strong> ${medication.contraindications}
                            </div>
                            <div class="interactions">
                                <i class="fas fa-exchange-alt"></i>
                                <strong>Interacciones:</strong> ${medication.interactions.join(', ')}
                            </div>
                            <div class="info-item">
                                <div class="info-label">Efectos Secundarios</div>
                                <div class="info-value">${medication.sideEffects.join(', ')}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Farmacocinética</div>
                                <div class="info-value">${medication.pharmacokinetics}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Precauciones</div>
                                <div class="info-value">${medication.warnings}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Almacenamiento</div>
                                <div class="info-value">${medication.storage}</div>
                            </div>
                            <div class="image-gallery">
                                ${medication.images.map(img => `
                                    <div class="image-item">
                                        <img src="${img}" alt="${medication.name}">
                                        <div class="image-caption">
                                            <strong>${medication.name}</strong>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes:
                                ${medication.sources.map(source => `
                                    <a href="${source.url}" target="_blank">${source.name}</a>
                                `).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--muted);">Actualizado: ${formatDate(medication.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-exchange-alt"></i>
                        Interacciones Medicamentosas
                    </h2>
                    <p>Advertencias importantes sobre combinaciones de medicamentos que pueden ser peligrosas.</p>
                    ${category.interactions.map(interaction => `
                        <div class="interaction-warning ${interaction.severity.toLowerCase()}">
                            <i class="fas ${interaction.severity === 'Severe' ? 'fa-exclamation-triangle' : 'fa-exclamation-circle'}"></i>
                            <div>
                                <strong>Interacción: ${interaction.drugs.join(' y ')}</strong><br>
                                <small>Mecanismo: ${interaction.mechanism}</small>
                            </div>
                        </div>
                        <div class="notes">
                            <i class="fas fa-lightbulb"></i>
                            <strong>Recomendación:</strong> ${interaction.recommendation}
                        </div>
                        <div class="source-reference">
                            <i class="fas fa-book"></i>
                            Evidencia: ${interaction.evidence}
                        </div>
                    `).join('')}
                </div>
                <div class="resource-panel">
                    <h2>
                        <i class="fas fa-link"></i>
                        Recursos de Farmacología
                    </h2>
                    <div class="resource-grid">
                        ${category.resources.map(resource => `
                            <div class="resource-card">
                                <h3>
                                    <i class="fas ${resource.icon}"></i>
                                    ${resource.title}
                                </h3>
                                <p>
                                    <i class="fas fa-info-circle"></i>
                                    ${resource.description}
                                </p>
                                <p>
                                    <i class="fas fa-tags"></i>
                                    Categoría: ${resource.category}
                                </p>
                                <a href="${resource.url}" target="_blank">
                                    <i class="fas fa-external-link-alt"></i>
                                    Visitar Recurso
                                </a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Renderizar contenido de emergencias
        function renderEmergenciasContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-notes-medical"></i>
                        Protocolos de Emergencia
                    </h2>
                    <p>${category.description}</p>
                    ${category.protocols.map(protocol => `
                        <div class="protocol-card">
                            <div class="protocol-header">
                                <div class="protocol-title">${protocol.name}</div>
                                <div class="protocol-level protocol-level-${protocol.level}">
                                    Nivel ${protocol.level}
                                </div>
                            </div>
                            <div class="protocol-steps">
                                ${protocol.steps.map((step, index) => `
                                    <div class="protocol-step">
                                        ${step}
                                    </div>
                                `).join('')}
                            </div>
                            <div class="protocol-evidence">
                                <i class="fas fa-graduation-cap"></i>
                                <div>
                                    <strong>Evidencia Científica:</strong>
                                    ${protocol.evidence.map(evidence => `
                                        <div class="evidence-item">
                                            <i class="fas fa-book"></i>
                                            ${evidence}
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <div class="image-gallery">
                                ${protocol.images.map(img => `
                                    <div class="image-item">
                                        <img src="${img}" alt="${protocol.name}">
                                        <div class="image-caption">
                                            <strong>${protocol.name}</strong>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes:
                                ${protocol.sources.map(source => `
                                    <a href="${source.url}" target="_blank">${source.name}</a>
                                `).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--muted);">Actualizado: ${formatDate(protocol.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-disease"></i>
                        Enfermedades de Emergencia
                    </h2>
                    ${category.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p>${disease.description}</p>
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            <div class="disease-info">
                                <div class="info-item">
                                    <div class="info-label">Síntomas</div>
                                    <div class="info-value">${disease.symptoms.join(', ')}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Tratamiento</div>
                                    <div class="info-value">${disease.treatment.join(', ')}</div>
                                </div>
                            </div>
                            <div class="disease-characteristics">
                                <i class="fas fa-vial"></i>
                                <strong>Características Clínicas:</strong> Evaluación y diagnóstico diferencial.
                            </div>
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong> Manejo específico y soporte vital.
                            </div>
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes:
                                ${disease.sources.map(source => `
                                    <a href="${source.url}" target="_blank">${source.name}</a>
                                `).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--muted);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Renderizar contenido de especialidades
        function renderSpecialtyContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h2>
                    <p>${category.description}</p>
                    ${category.procedures ? `
                    <h3>
                        <i class="fas fa-procedures"></i>
                        Procedimientos Principales
                    </h3>
                    ${category.procedures.map(procedure => `
                        <div class="procedure-card">
                            <div class="procedure-header">
                                <div class="procedure-title">${procedure.title}</div>
                                <div class="procedure-specialty">${procedure.summary}</div>
                            </div>
                            <div class="procedure-info">
                                <div class="info-item">
                                    <div class="info-label">Materiales</div>
                                    <div class="info-value">${procedure.materials.slice(0, 3).join(', ')}${procedure.materials.length > 3 ? '...' : ''}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Duración</div>
                                    <div class="info-value">Variable</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Complejidad</div>
                                    <div class="info-value">Alta</div>
                                </div>
                            </div>
                            <div class="procedure-steps">
                                <h4><i class="fas fa-step-forward"></i> Pasos Principales</h4>
                                ${procedure.steps.slice(0, 3).map((step, index) => `
                                    <div class="procedure-step">
                                        ${step}
                                    </div>
                                `).join('')}
                                ${procedure.steps.length > 3 ? '<div style="color: var(--muted); font-size: 0.9rem;">+ más pasos...</div>' : ''}
                            </div>
                            <div class="procedure-visuals">
                                <h4><i class="fas fa-image"></i> Recursos Visuales</h4>
                                <div class="image-gallery">
                                    ${procedure.visualReferences.slice(0, 2).map(ref => `
                                        <div class="image-item">
                                            <img src="${ref.url}" alt="${ref.title}">
                                            <div class="image-caption">
                                                <strong>${ref.title}</strong>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--muted);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                    ` : ''}
                </div>
                ${category.diseases ? `
                <div class="category-card">
                    <h2>
                        <i class="fas fa-disease"></i>
                        Enfermedades Principales
                    </h2>
                    ${category.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p>${disease.description}</p>
                            ${disease.images ? `
                            <div class="image-gallery">
                                ${disease.images.slice(0, 2).map(img => `
                                    <div class="image-item">
                                        <img src="${img}" alt="${disease.name}">
                                        <div class="image-caption">
                                            <strong>${disease.name}</strong>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            ` : ''}
                            <div class="disease-info">
                                <div class="info-item">
                                    <div class="info-label">Síntomas</div>
                                    <div class="info-value">${disease.symptoms.slice(0, 4).join(', ')}${disease.symptoms.length > 4 ? '...' : ''}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Tratamiento</div>
                                    <div class="info-value">${disease.treatment.slice(0, 3).join(', ')}${disease.treatment.length > 3 ? '...' : ''}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Pronóstico</div>
                                    <div class="info-value">${disease.prognosis}</div>
                                </div>
                            </div>
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes:
                                ${disease.sources.map(source => `
                                    <a href="${source.url}" target="_blank">${source.name}</a>
                                `).join(' • ')}
                            </div>
                        </div>
                    `).join('')}
                </div>
                ` : ''}
                ${category.resources ? `
                <div class="resource-panel">
                    <h2>
                        <i class="fas fa-link"></i>
                        Recursos ${category.title}
                    </h2>
                    <div class="resource-grid">
                        ${category.resources.map(resource => `
                            <div class="resource-card">
                                <h3>
                                    <i class="fas ${resource.icon}"></i>
                                    ${resource.title}
                                </h3>
                                <p>
                                    <i class="fas fa-info-circle"></i>
                                    ${resource.description}
                                </p>
                                <p>
                                    <i class="fas fa-tags"></i>
                                    Categoría: ${resource.category}
                                </p>
                                <a href="${resource.url}" target="_blank">
                                    <i class="fas fa-external-link-alt"></i>
                                    Visitar Recurso
                                </a>
                            </div>
                        `).join('')}
                    </div>
                </div>
                ` : ''}
            `;
        }

        // Renderizar contenido de recursos
        function renderResourcesContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-book-open"></i>
                        Recursos Educativos Médicos
                    </h2>
                    <p>${category.description}</p>
                    <div class="resource-grid">
                        ${category.resources.map(resource => `
                            <div class="resource-card">
                                <img src="${resource.image}" alt="${resource.title}" style="width: 100%; height: 150px; object-fit: cover; border-radius: 12px; margin-bottom: 12px;">
                                <h3>
                                    <i class="fas ${resource.type === 'video' ? 'fa-video' : 
                                           resource.type === 'course' ? 'fa-chalkboard-teacher' : 'fa-book'}"></i>
                                    ${resource.title}
                                </h3>
                                <p>
                                    <i class="fas fa-info-circle"></i>
                                    ${resource.description}
                                </p>
                                <p>
                                    <i class="fas fa-tag"></i>
                                    Categoría: ${resource.category}
                                </p>
                                <p>
                                    <i class="fas fa-download"></i>
                                    ${resource.type === 'pdf' ? `Descargas: ${resource.downloads}` : 
                                      resource.type === 'video' ? `Duración: ${resource.duration}` : 
                                      resource.type === 'course' ? `Inscritos: ${resource.enrolled}` : ''}
                                </p>
                                <p>
                                    <i class="fas fa-star"></i>
                                    Calificación: ${resource.rating}/5.0
                                </p>
                                <p>
                                    <i class="fas fa-calendar"></i>
                                    Publicado: ${formatDate(resource.published)}
                                </p>
                                <a href="${resource.url}" target="_blank">
                                    <i class="fas fa-external-link-alt"></i>
                                    Acceder al Recurso
                                </a>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="resource-panel">
                    <h2>
                        <i class="fas fa-globe-americas"></i>
                        Recursos Externos de Calidad
                    </h2>
                    <p>Enlaces a las principales organizaciones médicas y bases de datos científicas.</p>
                    <div class="resource-links">
                        ${category.externalLinks.map(link => `
                            <a href="${link.url}" target="_blank" class="resource-link">
                                <i class="fas ${link.icon}"></i>
                                <div class="resource-link-text">
                                    <div class="resource-link-title">${link.title}</div>
                                    <div class="resource-link-org">${link.description}</div></div>
                                <i class="fas fa-external-link-alt"></i>
                            </a>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Renderizar contenido de simulador
        function renderSimulatorContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                </div>
                <div class="simulator-container">
                    <h2 class="simulator-header">
                        <i class="fas fa-heartbeat"></i>
                        Simulador de Signos Vitales
                    </h2>
                    <p>Este simulador te permite practicar la interpretación de signos vitales en diferentes escenarios clínicos. Selecciona un escenario o ajusta los valores manualmente.</p>
                    <div class="vital-signs" id="vitalSigns">
                        ${category.vitals.map(vital => `
                            <div class="vital-card">
                                <div class="vital-label">${vital.label}</div>
                                <div class="vital-value" id="${vital.id}">${vital.value}${vital.unit}</div>
                                <div class="vital-controls">
                                    <input type="range" min="${vital.normalRange[0]}" max="${vital.normalRange[1] * 1.5}" value="${vital.value}" 
                                           step="${vital.unit === '°C' ? 0.1 : 1}" 
                                           oninput="updateVital('${vital.id}', this.value, '${vital.unit}')">
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <h3 style="margin: 20px 0 10px 0; color: var(--accent);">
                        <i class="fas fa-list"></i>
                        Escenarios Clínicos
                    </h3>
                    <div class="scenario-buttons" style="display: flex; gap: 10px; flex-wrap: wrap;">
                        ${category.scenarios.map(scenario => `
                            <button class="btn secondary" onclick="loadScenario('${scenario.id}')">
                                ${scenario.name}
                            </button>
                        `).join('')}
                    </div>
                    <div class="simulator-controls">
                        <button class="btn primary" onclick="randomScenario()">
                            <i class="fas fa-random"></i>
                            Escenario Aleatorio
                        </button>
                        <button class="btn warning" onclick="resetSimulator()">
                            <i class="fas fa-redo"></i>
                            Reiniciar
                        </button>
                    </div>
                </div>
                <div class="simulator-container">
                    <h2 class="simulator-header">
                        <i class="fas fa-brain"></i>
                        Interpretación de Resultados
                    </h2>
                    <div id="interpretationResult">
                        <p>Selecciona un escenario o ajusta los valores para obtener una interpretación.</p>
                    </div>
                </div>
            `;
        }

        // Inicializar simulador
        function initSimulator() {
            // Cargar escenario normal por defecto
            loadScenario('normal');
        }

        // Actualizar signo vital
        function updateVital(id, value, unit) {
            const element = document.getElementById(id);
            if (element) {
                element.textContent = value + unit;
            }
            interpretVitals();
        }

        // Cargar escenario
        function loadScenario(scenarioId) {
            const category = medicalData.simulador;
            const scenario = category.scenarios.find(s => s.id === scenarioId);
            if (scenario) {
                for (const [key, value] of Object.entries(scenario.values)) {
                    const element = document.getElementById(key);
                    if (element) {
                        const vital = category.vitals.find(v => v.id === key);
                        element.textContent = value + (vital ? vital.unit : '');
                        // Actualizar el control deslizante
                        const slider = element.parentElement.querySelector('input[type="range"]');
                        if (slider) {
                            slider.value = typeof value === 'string' ? value.split('/')[0] : value;
                        }
                    }
                }
                interpretVitals();
                showNotification(`✅ Escenario cargado: ${scenario.name}`, 'success');
            }
        }

        // Escenario aleatorio
        function randomScenario() {
            const category = medicalData.simulador;
            const randomIndex = Math.floor(Math.random() * category.scenarios.length);
            loadScenario(category.scenarios[randomIndex].id);
        }

        // Reiniciar simulador
        function resetSimulator() {
            loadScenario('normal');
        }

        // Interpretar signos vitales
        function interpretVitals() {
            const interpretationElement = document.getElementById('interpretationResult');
            if (!interpretationElement) return;
            
            // Obtener valores actuales
            const heartRate = parseInt(document.getElementById('heartRate').textContent);
            const bloodPressure = document.getElementById('bloodPressure').textContent;
            const oxygenSaturation = parseInt(document.getElementById('oxygenSaturation').textContent);
            const respiratoryRate = parseInt(document.getElementById('respiratoryRate').textContent);
            const temperature = parseFloat(document.getElementById('temperature').textContent);
            
            // Realizar interpretación básica
            let interpretation = '';
            let alertLevel = 'info';
            
            // Evaluar frecuencia cardíaca
            if (heartRate < 60) {
                interpretation += `<p>❌ <strong>Bradicardia:</strong> Frecuencia cardíaca por debajo de lo normal (${heartRate} lpm).</p>`;
                alertLevel = 'warning';
            } else if (heartRate > 100) {
                interpretation += `<p>❌ <strong>Taquicardia:</strong> Frecuencia cardíaca por encima de lo normal (${heartRate} lpm).</p>`;
                alertLevel = 'warning';
            } else {
                interpretation += `<p>✅ <strong>Frecuencia cardíaca normal:</strong> ${heartRate} lpm.</p>`;
            }
            
            // Evaluar presión arterial (simplificado)
            const [systolic, diastolic] = bloodPressure.split('/').map(Number);
            if (systolic < 90 || diastolic < 60) {
                interpretation += `<p>❌ <strong>Hipotensión:</strong> Presión arterial baja (${bloodPressure} mmHg).</p>`;
                alertLevel = 'warning';
            } else if (systolic > 140 || diastolic > 90) {
                interpretation += `<p>❌ <strong>Hipertensión:</strong> Presión arterial elevada (${bloodPressure} mmHg).</p>`;
                alertLevel = 'warning';
            } else {
                interpretation += `<p>✅ <strong>Presión arterial normal:</strong> ${bloodPressure} mmHg.</p>`;
            }
            
            // Evaluar saturación de oxígeno
            if (oxygenSaturation < 95) {
                interpretation += `<p>❌ <strong>Hipoxemia:</strong> Saturación de oxígeno baja (${oxygenSaturation}%).</p>`;
                alertLevel = 'warning';
            } else {
                interpretation += `<p>✅ <strong>Saturación de oxígeno normal:</strong> ${oxygenSaturation}%.</p>`;
            }
            
            // Evaluar frecuencia respiratoria
            if (respiratoryRate < 12) {
                interpretation += `<p>❌ <strong>Bradipnea:</strong> Frecuencia respiratoria baja (${respiratoryRate} rpm).</p>`;
                alertLevel = 'warning';
            } else if (respiratoryRate > 20) {
                interpretation += `<p>❌ <strong>Taquipnea:</strong> Frecuencia respiratoria elevada (${respiratoryRate} rpm).</p>`;
                alertLevel = 'warning';
            } else {
                interpretation += `<p>✅ <strong>Frecuencia respiratoria normal:</strong> ${respiratoryRate} rpm.</p>`;
            }
            
            // Evaluar temperatura
            if (temperature < 36.1) {
                interpretation += `<p>❌ <strong>Hipotermia:</strong> Temperatura corporal baja (${temperature}°C).</p>`;
                alertLevel = 'warning';
            } else if (temperature > 37.2) {
                interpretation += `<p>❌ <strong>Fiebre:</strong> Temperatura corporal elevada (${temperature}°C).</p>`;
                alertLevel = 'warning';
            } else {
                interpretation += `<p>✅ <strong>Temperatura normal:</strong> ${temperature}°C.</p>`;
            }
            
            // Resumen
            if (alertLevel === 'info') {
                interpretation = `<div class="interaction-warning mild">
                    <i class="fas fa-check-circle"></i>
                    <strong>Paciente estable:</strong> Todos los signos vitales están dentro de los rangos normales.
                </div>` + interpretation;
            } else {
                interpretation = `<div class="interaction-warning moderate">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>Paciente inestable:</strong> Se detectaron valores anormales que requieren atención.
                </div>` + interpretation;
            }
            
            interpretationElement.innerHTML = interpretation;
        }

        // Renderizar contenido de evaluación
        function renderEvaluationContent(category) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${category.icon}"></i>
                        ${category.title}
                    </h1>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-chart-line"></i>
                        Mi Progreso de Aprendizaje
                    </h2>
                    <div class="progress-container">
                        <h4>Procedimientos Completados</h4>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${(category.progress.learnedProcedures / category.progress.totalProcedures) * 100}%"></div>
                        </div>
                        <p>${category.progress.learnedProcedures} de ${category.progress.totalProcedures} procedimientos</p>
                    </div>
                    <div class="progress-container">
                        <h4>Puntuaciones por Categoría</h4>
                        ${Object.entries(category.progress.scores).map(([cat, score]) => `
                            <div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>${medicalData[cat]?.title || cat}</span>
                                    <span>${score}%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${score}%"></div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="category-card">
                    <h2>
                        <i class="fas fa-graduation-cap"></i>
                        Evaluaciones de Conocimiento
                    </h2>
                    <p>Pon a prueba tus conocimientos con estas evaluaciones interactivas.</p>
                    <div class="quiz-container" id="quizContainer">
                        <div class="quiz-question" id="quizQuestion">
                            Selecciona una categoría para comenzar una evaluación.
                        </div>
                        <div class="quiz-options" id="quizOptions">
                            ${Object.entries(category.quizzes).map(([cat, quizzes]) => `
                                <div class="quiz-option" onclick="startQuiz('${cat}')">
                                    <i class="fas fa-play-circle"></i>
                                    ${medicalData[cat]?.title || cat} (${quizzes.length} preguntas)
                                </div>
                            `).join('')}
                        </div>
                        <div class="quiz-controls" id="quizControls" style="display: none;">
                            <button class="btn secondary" onclick="previousQuestion()">
                                <i class="fas fa-arrow-left"></i>
                                Anterior
                            </button>
                            <span id="quizProgress">Pregunta 0 de 0</span>
                            <button class="btn primary" onclick="nextQuestion()">
                                Siguiente
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Inicializar evaluación
        function initEvaluation() {
            // Aquí se puede cargar el progreso real del usuario desde localStorage
        }

        // Variables para el cuestionario
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];

        // Comenzar cuestionario
        function startQuiz(category) {
            const quizzes = medicalData.evaluacion.quizzes[category];
            if (quizzes && quizzes.length > 0) {
                currentQuiz = {
                    category: category,
                    questions: quizzes
                };
                currentQuestionIndex = 0;
                userAnswers = [];
                displayQuestion();
                // Mostrar controles del cuestionario
                document.getElementById('quizControls').style.display = 'flex';
            }
        }

        // Mostrar pregunta actual
        function displayQuestion() {
            if (!currentQuiz || currentQuestionIndex >= currentQuiz.questions.length) {
                finishQuiz();
                return;
            }
            const question = currentQuiz.questions[currentQuestionIndex];
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = `
                <div class="quiz-question">
                    ${currentQuestionIndex + 1}. ${question.question}
                </div>
                <div class="quiz-options">
                    ${question.options.map((option, index) => `
                        <div class="quiz-option ${userAnswers[currentQuestionIndex] === index ? 'selected' : ''}" 
                             onclick="selectAnswer(${index})">
                            ${String.fromCharCode(65 + index)}. ${option}
                        </div>
                    `).join('')}
                </div>
                <div class="quiz-controls" style="display: flex;">
                    <button class="btn secondary" onclick="previousQuestion()" ${currentQuestionIndex === 0 ? 'disabled' : ''}>
                        <i class="fas fa-arrow-left"></i>
                        Anterior
                    </button>
                    <span id="quizProgress">Pregunta ${currentQuestionIndex + 1} de ${currentQuiz.questions.length}</span>
                    <button class="btn primary" onclick="nextQuestion()">
                        ${currentQuestionIndex === currentQuiz.questions.length - 1 ? 'Finalizar' : 'Siguiente'}
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            `;
        }

        // Seleccionar respuesta
        function selectAnswer(index) {
            userAnswers[currentQuestionIndex] = index;
            displayQuestion();
        }

        // Pregunta anterior
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        // Siguiente pregunta
        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                finishQuiz();
            }
        }

        // Finalizar cuestionario
        function finishQuiz() {
            if (!currentQuiz) return;
            // Calcular puntuación
            let score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === currentQuiz.questions[index].correct) {
                    score++;
                }
            });
            const percentage = Math.round((score / currentQuiz.questions.length) * 100);
            // Mostrar resultados
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = `
                <h3 style="color: var(--accent); margin-bottom: 16px;">
                    <i class="fas fa-trophy"></i>
                    Resultados del Cuestionario
                </h3>
                <div style="text-align: center; margin: 20px 0;">
                    <div style="font-size: 2rem; font-weight: bold; color: var(--accent);">
                        ${percentage}%
                    </div>
                    <div style="font-size: 1.1rem; color: var(--muted);">
                        ${score} de ${currentQuiz.questions.length} correctas
                    </div>
                </div>
                <div style="margin: 20px 0;">
                    ${currentQuiz.questions.map((question, index) => {
                        const isCorrect = userAnswers[index] === question.correct;
                        return `
                            <div style="margin-bottom: 16px; padding: 12px; border-radius: 8px; 
                                        background: ${isCorrect ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)'}; 
                                        border-left: 4px solid ${isCorrect ? 'var(--success-green)' : 'var(--alert-red)'};">
                                <div style="font-weight: 500; margin-bottom: 8px;">
                                    ${index + 1}. ${question.question}
                                </div>
                                <div style="color: ${isCorrect ? 'var(--success-green)' : 'var(--alert-red)'};">
                                    <i class="fas ${isCorrect ? 'fa-check' : 'fa-times'}"></i>
                                    Tu respuesta: ${userAnswers[index] !== undefined ? question.options[userAnswers[index]] : 'Sin responder'}
                                </div>
                                ${!isCorrect ? `
                                    <div style="color: var(--success-green); margin-top: 4px;">
                                        <i class="fas fa-check-circle"></i>
                                        Respuesta correcta: ${question.options[question.correct]}
                                    </div>
                                ` : ''}
                            </div>
                        `;
                    }).join('')}
                </div>
                <button class="btn primary" onclick="startQuiz('${currentQuiz.category}')" style="width: 100%;">
                    <i class="fas fa-redo"></i>
                    Intentar de nuevo
                </button>
            `;
            // Guardar puntuación (en una aplicación real, esto se enviaría a un servidor)
            if (percentage > (medicalData.evaluacion.progress.scores[currentQuiz.category] || 0)) {
                medicalData.evaluacion.progress.scores[currentQuiz.category] = percentage;
                showNotification(`✅ Nuevo récord: ${percentage}% en ${medicalData[currentQuiz.category]?.title || currentQuiz.category}`, 'success');
            }
        }

        // Inicializar chatbot
        function initChatbot() {
            chatbotToggle.addEventListener('click', () => {
                chatbot.classList.toggle('open');
            });
            closeChatbot.addEventListener('click', () => {
                chatbot.classList.remove('open');
            });
            chatbotInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendChatbotMessage();
                }
            });
        }

        // Enviar mensaje al chatbot
        function sendChatbotMessage() {
            const message = chatbotInput.value.trim();
            if (message) {
                // Agregar mensaje del usuario
                addMessage(message, 'user');
                chatbotInput.value = '';
                // Simular respuesta del chatbot después de un breve retraso
                setTimeout(() => {
                    let response = generateChatbotResponse(message);
                    addMessage(response, 'bot');
                }, 1000);
            }
        }

        // Agregar mensaje al chat
        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender}`;
            messageElement.textContent = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        // Generar respuesta del chatbot
        function generateChatbotResponse(message) {
            const lowerMessage = message.toLowerCase();
            // Respuestas predefinidas basadas en palabras clave
            if (lowerMessage.includes('hola') || lowerMessage.includes('buenos días') || lowerMessage.includes('buenas tardes')) {
                return '¡Hola! Soy tu asistente médico virtual. ¿En qué puedo ayudarte hoy?';
            } else if (lowerMessage.includes('procedimiento') || lowerMessage.includes('curación') || lowerMessage.includes('técnica')) {
                return 'Puedo ayudarte a encontrar información sobre procedimientos médicos. ¿Hay algún procedimiento específico que te interese?';
            } else if (lowerMessage.includes('fármaco') || lowerMessage.includes('medicamento') || lowerMessage.includes('interacción')) {
                return 'Para información sobre medicamentos e interacciones, te recomiendo consultar la sección de Farmacología.';
            } else if (lowerMessage.includes('signo vital') || lowerMessage.includes('presión') || lowerMessage.includes('frecuencia')) {
                return 'Puedes practicar la interpretación de signos vitales usando nuestro simulador interactivo.';
            } else if (lowerMessage.includes('enfermedad') || lowerMessage.includes('patología') || lowerMessage.includes('condición')) {
                return 'Para información sobre enfermedades, consulta la sección de Emergencias Médicas o utiliza la búsqueda.';
            } else if (lowerMessage.includes('protocolo') || lowerMessage.includes('guía') || lowerMessage.includes('recomendación')) {
                return 'Los protocolos clínicos están disponibles en sus respectivas secciones especializadas. ¿Sobre qué tema necesitas información?';
            } else if (lowerMessage.includes('gracias') || lowerMessage.includes('agrade')) {
                return '¡De nada! Estoy aquí para ayudarte. ¿Hay algo más en lo que pueda asistirte?';
            } else {
                return 'Interesante pregunta. Como asistente virtual, mi conocimiento es limitado, pero te recomiendo consultar las guías médicas actualizadas o hablar con un especialista para información más detallada.';
            }
        }

        // Formatear fecha
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('es-ES', options);
        }

        // Mostrar notificación
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'} notification-icon"></i>
                <div class="notification-content">${message}</div>
                <button class="close-notification" onclick="this.parentElement.remove()">&times;</button>
            `;
            notificationContainer.appendChild(notification);
            
            // Auto-eliminar después de 5 segundos
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Inicializar la aplicación cuando el DOM esté cargado
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
