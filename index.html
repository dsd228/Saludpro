<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediGuide Pro - Herramienta M√©dica Integral</title>
    <style>
        :root {
            --primary-color: #1a73e8;
            --primary-light: #e8f0fe;
            --primary-dark: #0d47a1;
            --secondary-color: #34a853;
            --accent-color: #fbbc05;
            --accent-dark: #f9a825;
            --text-color: #202124;
            --text-light: #5f6368;
            --bg-color: #f8f9fa;
            --bg-light: #ffffff;
            --card-bg: #ffffff;
            --border-color: #dadce0;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);
            --success: #34a853;
            --warning: #f9a825;
            --danger: #ea4335;
            --info: #1a73e8;
            --sidebar-width: 280px;
            --header-height: 64px;
        }

        .dark-mode {
            --primary-color: #4dabf7;
            --primary-light: #0c3866;
            --primary-dark: #339af0;
            --secondary-color: #51cf66;
            --accent-color: #fd7e14;
            --accent-dark: #f76b0a;
            --text-color: #e9ecef;
            --text-light: #adb5bd;
            --bg-color: #121212;
            --bg-light: #1e1e1e;
            --card-bg: #2d2d2d;
            --border-color: #383838;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 4px 8px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.3);
            --success: #51cf66;
            --warning: #fd7e14;
            --danger: #ff6b6b;
            --info: #4dabf7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s, box-shadow 0.3s;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Tipograf√≠a mejorada */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: 1rem;
        }

        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.25rem; }

        p {
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        /* Header mejorado */
        header {
            background-color: var(--bg-light);
            color: var(--text-color);
            height: var(--header-height);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo-icon {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-subtext {
            font-size: 0.75rem;
            font-weight: 400;
            color: var(--text-light);
            margin-left: 0.25rem;
        }

        /* Barra de b√∫squeda mejorada */
        .search-container {
            flex: 1;
            max-width: 600px;
            margin: 0 2rem;
            position: relative;
        }

        .search-wrapper {
            position: relative;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: none;
            outline: none;
            font-size: 1rem;
            background-color: var(--bg-light);
            color: var(--text-color);
            transition: all 0.3s;
        }

        .search-input:focus {
            box-shadow: 0 0 0 2px var(--primary-color);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            pointer-events: none;
        }

        .search-btn {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.375rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .search-btn:hover {
            background-color: var(--primary-dark);
        }

        /* Sidebar mejorado */
        .sidebar {
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            position: fixed;
            top: var(--header-height);
            left: 0;
            background-color: var(--bg-light);
            border-right: 1px solid var(--border-color);
            padding: 1.5rem 1rem;
            overflow-y: auto;
            z-index: 999;
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .nav-title {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-light);
            margin: 1.5rem 0 0.75rem 0;
            padding-left: 0.5rem;
        }

        .nav-list {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 0.25rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-light);
            transition: all 0.2s;
            font-weight: 500;
        }

        .nav-link:hover {
            background-color: var(--primary-light);
            color: var(--primary-color);
        }

        .nav-link.active {
            background-color: var(--primary-light);
            color: var(--primary-color);
            font-weight: 600;
            position: relative;
        }

        .nav-link.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 70%;
            background-color: var(--primary-color);
            border-radius: 0 3px 3px 0;
        }

        .nav-icon {
            font-size: 1.25rem;
            width: 24px;
            text-align: center;
        }

        /* Main content */
        main {
            margin-left: var(--sidebar-width);
            margin-top: var(--header-height);
            padding: 2rem;
            min-height: calc(100vh - var(--header-height));
            transition: margin-left 0.3s ease;
        }

        main.full-width {
            margin-left: 0;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .page-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--primary-color);
        }

        .page-title i {
            font-size: 1.5rem;
        }

        /* Cards mejoradas */
        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 1.3rem;
            color: var(--primary-color);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Formularios mejorados */
        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            background-color: var(--bg-light);
            color: var(--text-color);
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(26, 115, 232, 0.2);
        }

        .form-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 16px 12px;
            padding-right: 2.5rem;
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }

        /* Botones mejorados */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.2s;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #2d8e4a;
            transform: translateY(-1px);
        }

        .btn-accent {
            background-color: var(--accent-color);
            color: var(--text-color);
        }

        .btn-accent:hover {
            background-color: var(--accent-dark);
            transform: translateY(-1px);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--bg-light);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        .btn-icon {
            padding: 0.75rem;
            border-radius: 8px;
        }

        /* Grid mejorado */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        /* Tarjetas de contenido */
        .content-card {
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .content-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .card-body {
            padding: 1.25rem;
            flex: 1;
        }

        .card-title-sm {
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-text {
            color: var(--text-light);
            margin-bottom: 0.75rem;
            line-height: 1.5;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge-primary {
            background-color: var(--primary-light);
            color: var(--primary-color);
        }

        .badge-success {
            background-color: rgba(52, 168, 83, 0.1);
            color: var(--success);
        }

        .badge-warning {
            background-color: rgba(251, 188, 5, 0.1);
            color: var(--warning);
        }

        .badge-danger {
            background-color: rgba(234, 67, 53, 0.1);
            color: var(--danger);
        }

        .badge-info {
            background-color: rgba(26, 115, 232, 0.1);
            color: var(--info);
        }

        /* Tablas mejoradas */
        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            margin: 1.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--card-bg);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--primary-light);
            color: var(--primary-color);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.875rem;
            letter-spacing: 0.05em;
        }

        tr:hover {
            background-color: var(--primary-light);
        }

        tr:nth-child(even) {
            background-color: rgba(26, 115, 232, 0.02);
        }

        /* Tabs mejorados */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1.5rem;
            overflow-x: auto;
            padding-bottom: 0.25rem;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-radius: 8px 8px 0 0;
            font-weight: 500;
            white-space: nowrap;
            transition: all 0.2s;
            margin-right: 0.25rem;
        }

        .tab:hover {
            background-color: var(--primary-light);
            color: var(--primary-color);
        }

        .tab.active {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* PAE mejorado */
        .pae-item {
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1rem;
            background-color: var(--bg-light);
            transition: all 0.3s;
        }

        .pae-item:hover {
            box-shadow: var(--shadow);
            transform: translateY(-2px);
        }

        .pae-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }

        .pae-title {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .pae-date {
            font-size: 0.875rem;
            color: var(--text-light);
            margin-top: 0.25rem;
        }

        .pae-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Resultados */
        .result {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .result-icon {
            font-size: 1.5rem;
        }

        .result.success {
            background-color: rgba(52, 168, 83, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .result.warning {
            background-color: rgba(251, 188, 5, 0.1);
            border: 1px solid var(--warning);
            color: var(--warning);
        }

        .result.danger {
            background-color: rgba(234, 67, 53, 0.1);
            border: 1px solid var(--danger);
            color: var(--danger);
        }

        .result.info {
            background-color: rgba(26, 115, 232, 0.1);
            border: 1px solid var(--info);
            color: var(--info);
        }

        /* Alertas */
        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .alert-info {
            background-color: rgba(26, 115, 232, 0.1);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .alert-success {
            background-color: rgba(52, 168, 83, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
        }

        /* Favoritos */
        .favorites-container {
            margin-bottom: 1.5rem;
        }

        .favorites-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .favorite-item {
            background-color: var(--primary-light);
            color: var(--primary-color);
            padding: 0.75rem;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .favorite-item:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* Footer mejorado */
        footer {
            background-color: var(--bg-light);
            color: var(--text-light);
            padding: 3rem 1rem 1.5rem;
            margin-top: 3rem;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            font-size: 1.1rem;
            color: var(--text-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: var(--text-light);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-section a:hover {
            color: var(--primary-color);
            text-decoration: underline;
        }

        .copyright {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
            text-align: center;
            font-size: 0.875rem;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            :root {
                --sidebar-width: 240px;
            }
        }

        @media (max-width: 992px) {
            :root {
                --sidebar-width: 80px;
            }
            
            .sidebar {
                padding: 1.5rem 0.5rem;
            }
            
            .nav-text {
                display: none;
            }
            
            .nav-title {
                padding-left: 0.5rem;
            }
            
            .nav-link {
                justify-content: center;
                padding: 0.75rem;
            }
            
            .nav-icon {
                margin: 0;
            }
            
            main {
                margin-left: var(--sidebar-width);
            }
            
            .search-container {
                margin: 0 1rem;
                max-width: 400px;
            }
            
            .logo-text {
                display: none;
            }
            
            .logo {
                gap: 0.5rem;
            }
        }

        @media (max-width: 768px) {
            :root {
                --sidebar-width: 280px;
                --header-height: 56px;
            }
            
            .sidebar {
                transform: translateX(-100%);
                height: 100vh;
                z-index: 1000;
                box-shadow: var(--shadow-lg);
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .search-container {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            main {
                margin-left: 0;
                padding: 1.5rem;
            }
            
            .content-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .page-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            h1 { font-size: 2rem; }
            h2 { font-size: 1.75rem; }
            h3 { font-size: 1.3rem; }
        }

        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
        }

        .mobile-menu-btn:hover {
            background-color: var(--primary-light);
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for keyboard navigation */
        .btn:focus, .nav-link:focus, .form-control:focus, [tabindex="0"]:focus {
            outline: 3px solid var(--primary-color);
            outline-offset: 2px;
        }

        /* Animaciones */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* No results */
        .no-results {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-light);
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            margin: 2rem 0;
        }

        .no-results-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--text-light);
        }

        /* Print styles */
        @media print {
            .mobile-menu-btn, .search-container, .sidebar, .mobile-menu-btn, .theme-toggle, nav {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
            
            .card {
                box-shadow: none !important;
                border: 1px solid #ccc !important;
                break-inside: avoid;
            }
            
            table {
                page-break-inside: auto;
            }
            
            tr {
                page-break-inside: avoid;
                page-break-after: auto;
            }
            
            thead {
                display: table-header-group;
            }
            
            tfoot {
                display: table-footer-group;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <span class="logo-icon">‚öïÔ∏è</span>
                <span class="logo-text">MediGuide Pro</span>
                <span class="logo-subtext">v2.0</span>
            </div>
            
            <div class="search-container">
                <div class="search-wrapper">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="globalSearch" class="search-input" placeholder="Buscar enfermedades, medicamentos, protocolos o herramientas..." aria-label="Campo de b√∫squeda global">
                    <button id="searchBtn" class="search-btn">Buscar</button>
                </div>
            </div>
            
            <div style="display: flex; align-items: center; gap: 1rem;">
                <button id="themeToggle" class="btn-icon" aria-label="Alternar tema claro/oscuro">
                    <span class="theme-icon">‚òÄÔ∏è</span>
                </button>
                <button id="mobileMenuBtn" class="mobile-menu-btn" aria-label="Men√∫ m√≥vil" aria-expanded="false">
                    <span>‚ò∞</span>
                </button>
            </div>
        </div>
    </header>

    <aside class="sidebar">
        <div class="nav-title">Principal</div>
        <ul class="nav-list">
            <li class="nav-item">
                <a href="#dashboard" class="nav-link active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#enciclopedia" class="nav-link" data-section="enciclopedia">
                    <span class="nav-icon">üìö</span>
                    <span class="nav-text">Enciclopedia</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#calculadoras" class="nav-link" data-section="calculadoras">
                    <span class="nav-icon">üßÆ</span>
                    <span class="nav-text">Calculadoras</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#protocolos" class="nav-link" data-section="protocolos">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-text">Protocolos</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#pae" class="nav-link" data-section="pae">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-text">PAE</span>
                </a>
            </li>
        </ul>
        
        <div class="nav-title">Recursos</div>
        <ul class="nav-list">
            <li class="nav-item">
                <a href="#medicamentos" class="nav-link" data-section="medicamentos">
                    <span class="nav-icon">üíä</span>
                    <span class="nav-text">Medicamentos</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#referencias" class="nav-link" data-section="referencias">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Referencias</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#herramientas" class="nav-link" data-section="herramientas">
                    <span class="nav-icon">üõ†Ô∏è</span>
                    <span class="nav-text">Herramientas</span>
                </a>
            </li>
        </ul>
        
        <div class="nav-title">Mi Espacio</div>
        <ul class="nav-list">
            <li class="nav-item">
                <a href="#favoritos" class="nav-link" data-section="favoritos">
                    <span class="nav-icon">‚≠ê</span>
                    <span class="nav-text">Favoritos</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#historial" class="nav-link" data-section="historial">
                    <span class="nav-icon">üïí</span>
                    <span class="nav-text">Historial</span>
                </a>
            </li>
        </ul>
    </aside>

    <main>
        <!-- Dashboard -->
        <section id="dashboard" class="section active">
            <div class="content-header">
                <h1 class="page-title"><span>üè†</span> Dashboard</h1>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><span>üìà</span> Bienvenido a MediGuide Pro</h2>
                </div>
                <div class="card-body">
                    <p>Esta es su herramienta integral para profesionales de la salud. Acceda r√°pidamente a todas las funciones desde el men√∫ lateral.</p>
                    
                    <div class="alert alert-info">
                        <span>üí°</span>
                        <div>
                            <strong>Consejo profesional:</strong> Utilice la b√∫squeda global para encontrar r√°pidamente informaci√≥n sobre enfermedades, medicamentos o protocolos.
                        </div>
                    </div>
                    
                    <div class="grid">
                        <div class="content-card">
                            <div class="card-body">
                                <h3 class="card-title-sm"><span>üìö</span> Enciclopedia M√©dica</h3>
                                <p class="card-text">Acceda a informaci√≥n detallada sobre m√°s de 100 enfermedades comunes, con s√≠ntomas, diagn√≥sticos y tratamientos actualizados.</p>
                                <a href="#enciclopedia" class="btn btn-outline">Explorar</a>
                            </div>
                        </div>
                        
                        <div class="content-card">
                            <div class="card-body">
                                <h3 class="card-title-sm"><span>üßÆ</span> Calculadoras Cl√≠nicas</h3>
                                <p class="card-text">Herramientas precisas para calcular IMC, dosis de medicamentos, score de Glasgow, APGAR y m√°s con resultados inmediatos.</p>
                                <a href="#calculadoras" class="btn btn-outline">Usar</a>
                            </div>
                        </div>
                        
                        <div class="content-card">
                            <div class="card-body">
                                <h3 class="card-title-sm"><span>üíä</span> Base de Medicamentos</h3>
                                <p class="card-text">Busque informaci√≥n completa sobre m√°s de 50 medicamentos comunes, incluyendo dosis, contraindicaciones e interacciones.</p>
                                <a href="#medicamentos" class="btn btn-outline">Buscar</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="favorites-container">
                <div class="favorites-header">
                    <h3><span>‚≠ê</span> Accesos R√°pidos</h3>
                    <button class="btn btn-sm btn-outline">Gestionar</button>
                </div>
                <div class="favorites-grid">
                    <div class="favorite-item" onclick="showSection('calculadoras')">
                        <div>Calculadora IMC</div>
                    </div>
                    <div class="favorite-item" onclick="showSection('medicamentos')">
                        <div>Paracetamol</div>
                    </div>
                    <div class="favorite-item" onclick="showSection('protocolos')">
                        <div>RCP B√°sica</div>
                    </div>
                    <div class="favorite-item" onclick="showSection('referencias')">
                        <div>Signos Vitales</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Enciclopedia de Enfermedades -->
        <section id="enciclopedia" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üìö</span> Enciclopedia de Enfermedades</h1>
                <div class="page-actions">
                    <button class="btn btn-outline" id="diseaseSearchBtn">
                        <span>üîç</span> Buscar
                    </button>
                </div>
            </div>
            
            <div class="card">
                <div class="form-group">
                    <label for="diseaseSearch" class="form-label">Buscar enfermedad:</label>
                    <input type="text" id="diseaseSearch" class="form-control" placeholder="Ingrese el nombre de la enfermedad...">
                </div>
            </div>
            
            <div id="diseaseResults" class="grid">
                <!-- Los resultados de enfermedades se mostrar√°n aqu√≠ -->
            </div>
        </section>

        <!-- Secci√≥n de Calculadoras Profesionales de Salud -->
        <section id="calculadoras" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üßÆ</span> Calculadoras Profesionales de Salud</h1>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="imc">IMC</div>
                <div class="tab" data-tab="dosis">Dosis</div>
                <div class="tab" data-tab="glasgow">Glasgow</div>
                <div class="tab" data-tab="apgar">APGAR</div>
                <div class="tab" data-tab="ritmo">Ritmo Card√≠aco</div>
            </div>
            
            <div class="tab-content active" id="imc">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>‚öñÔ∏è</span> C√°lculo de IMC (√çndice de Masa Corporal)</h2>
                    </div>
                    <div class="form-group">
                        <label for="weight" class="form-label">Peso (kg):</label>
                        <input type="number" id="weight" class="form-control" placeholder="Ingrese el peso en kg">
                    </div>
                    <div class="form-group">
                        <label for="height" class="form-label">Altura (cm):</label>
                        <input type="number" id="height" class="form-control" placeholder="Ingrese la altura en cm">
                    </div>
                    <button id="calculateBMI" class="btn btn-primary">
                        <span>üßÆ</span> Calcular IMC
                    </button>
                    <div id="bmiResult" class="result"></div>
                    
                    <div class="card" style="margin-top: 1.5rem;">
                        <h3>Interpretaci√≥n del IMC:</h3>
                        <div class="table-container">
                            <table>
                                <tr>
                                    <th>IMC</th>
                                    <th>Clasificaci√≥n</th>
                                    <th>Riesgo Asociado</th>
                                </tr>
                                <tr>
                                    <td>Menos de 18.5</td>
                                    <td>Bajo peso</td>
                                    <td>Desnutrici√≥n, osteoporosis</td>
                                </tr>
                                <tr>
                                    <td>18.5 - 24.9</td>
                                    <td>Peso normal</td>
                                    <td>Riesgo promedio</td>
                                </tr>
                                <tr>
                                    <td>25.0 - 29.9</td>
                                    <td>Sobrepeso</td>
                                    <td>Aumentado</td>
                                </tr>
                                <tr>
                                    <td>30.0 - 34.9</td>
                                    <td>Obesidad grado I</td>
                                    <td>Modera</td>
                                </tr>
                                <tr>
                                    <td>35.0 - 39.9</td>
                                    <td>Obesidad grado II</td>
                                    <td>Severo</td>
                                </tr>
                                <tr>
                                    <td>40 o m√°s</td>
                                    <td>Obesidad grado III</td>
                                    <td>Muy severo</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="dosis">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>üíä</span> C√°lculo de Dosis de Medicamentos</h2>
                    </div>
                    <div class="form-group">
                        <label for="patientWeight" class="form-label">Peso del paciente (kg):</label>
                        <input type="number" id="patientWeight" class="form-control" placeholder="Ingrese el peso del paciente">
                    </div>
                    <div class="form-group">
                        <label for="requiredDose" class="form-label">Dosis requerida (mg/kg):</label>
                        <input type="number" id="requiredDose" class="form-control" placeholder="Ingrese la dosis requerida por kg">
                    </div>
                    <div class="form-group">
                        <label for="concentration" class="form-label">Concentraci√≥n del medicamento (mg/ml):</label>
                        <input type="number" id="concentration" class="form-control" placeholder="Ingrese la concentraci√≥n">
                    </div>
                    <div class="form-group">
                        <label for="medicationType" class="form-label">Tipo de medicamento:</label>
                        <select id="medicationType" class="form-control form-select">
                            <option value="">Seleccione un medicamento</option>
                            <option value="paracetamol">Paracetamol</option>
                            <option value="ibuprofeno">Ibuprofeno</option>
                            <option value="amoxicilina">Amoxicilina</option>
                            <option value="loratadina">Loratadina</option>
                            <option value="omeprazol">Omeprazol</option>
                            <option value="metformina">Metformina</option>
                        </select>
                    </div>
                    <button id="calculateDose" class="btn btn-primary">
                        <span>üßÆ</span> Calcular Dosis
                    </button>
                    <div id="doseResult" class="result"></div>
                </div>
            </div>
            
            <div class="tab-content" id="glasgow">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>üß†</span> Escala de Coma de Glasgow</h2>
                    </div>
                    <p>Eval√∫e la respuesta del paciente en tres categor√≠as:</p>
                    
                    <div class="grid">
                        <div class="card">
                            <h3>Respuesta Ocular (1-4 puntos)</h3>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_ocular" value="4"> 4 - Abre los ojos espont√°neamente
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_ocular" value="3"> 3 - Abre los ojos al hablarle
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_ocular" value="2"> 2 - Abre los ojos al dolor
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_ocular" value="1"> 1 - No abre los ojos
                                </label>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Respuesta Verbal (1-5 puntos)</h3>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_verbal" value="5"> 5 - Orientado, conversa normalmente
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_verbal" value="4"> 4 - Desorientado, habla incoherente
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_verbal" value="3"> 3 - Palabras inapropiadas
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_verbal" value="2"> 2 - Sonidos incomprensibles
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_verbal" value="1"> 1 - No emite sonidos
                                </label>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>Respuesta Motora (1-6 puntos)</h3>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_motor" value="6"> 6 - Obedece √≥rdenes
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_motor" value="5"> 5 - Localiza el dolor
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_motor" value="4"> 4 - Retira al dolor
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_motor" value="3"> 3 - Flexi√≥n anormal (decorticaci√≥n)
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_motor" value="2"> 2 - Extensi√≥n anormal (descerebraci√≥n)
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <input type="radio" name="gcs_motor" value="1"> 1 - No hay respuesta motora
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <button id="calculateGCS" class="btn btn-primary" style="margin-top: 1rem;">
                        <span>üßÆ</span> Calcular Score de Glasgow
                    </button>
                    <div id="gcsResult" class="result"></div>
                </div>
            </div>
            
            <div class="tab-content" id="apgar">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>üë∂</span> Escala de Apgar</h2>
                    </div>
                    <p>Evaluaci√≥n del reci√©n nacido a los 1 y 5 minutos de vida:</p>
                    
                    <div class="table-container">
                        <table>
                            <tr>
                                <th>Par√°metro</th>
                                <th>0 puntos</th>
                                <th>1 punto</th>
                                <th>2 puntos</th>
                                <th>Valor</th>
                            </tr>
                            <tr>
                                <td>Color</td>
                                <td>Azul o p√°lido</td>
                                <td>Cuerpo rosado, extremidades azules</td>
                                <td>Rosado en todo el cuerpo</td>
                                <td>
                                    <select class="form-control form-select" id="apgar_color">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Ritmo card√≠aco</td>
                                <td>Ausente</td>
                                <td>Menos de 100 lpm</td>
                                <td>M√°s de 100 lpm</td>
                                <td>
                                    <select class="form-control form-select" id="apgar_heart">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Reflejos</td>
                                <td>Sin respuesta</td>
                                <td>Facial (muecas)</td>
                                <td>Llanto fuerte</td>
                                <td>
                                    <select class="form-control form-select" id="apgar_reflex">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Movimientos</td>
                                <td>Fl√°cido</td>
                                <td>Alguna flexi√≥n</td>
                                <td>Activo, buena flexi√≥n</td>
                                <td>
                                    <select class="form-control form-select" id="apgar_movement">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Respiraci√≥n</td>
                                <td>Ausente</td>
                                <td>Llanto d√©bil, irregular</td>
                                <td>Llanto fuerte, regular</td>
                                <td>
                                    <select class="form-control form-select" id="apgar_breathing">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                    </select>
                                </td>
                            </tr>
                        </table>
                    </div>
                    
                    <button id="calculateApgar" class="btn btn-primary" style="margin-top: 1rem;">
                        <span>üßÆ</span> Calcular Score de Apgar
                    </button>
                    <div id="apgarResult" class="result"></div>
                </div>
            </div>
            
            <div class="tab-content" id="ritmo">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>‚ù§Ô∏è</span> Evaluaci√≥n de Signos Vitales</h2>
                    </div>
                    <div class="form-group">
                        <label for="heartRate" class="form-label">Ritmo card√≠aco (lpm):</label>
                        <input type="number" id="heartRate" class="form-control" placeholder="Ingrese el ritmo card√≠aco">
                    </div>
                    <div class="form-group">
                        <label for="systolic" class="form-label">Presi√≥n arterial sist√≥lica (mmHg):</label>
                        <input type="number" id="systolic" class="form-control" placeholder="Ingrese la presi√≥n sist√≥lica">
                    </div>
                    <div class="form-group">
                        <label for="diastolic" class="form-label">Presi√≥n arterial diast√≥lica (mmHg):</label>
                        <input type="number" id="diastolic" class="form-control" placeholder="Ingrese la presi√≥n diast√≥lica">
                    </div>
                    <div class="form-group">
                        <label for="respiratoryRate" class="form-label">Frecuencia respiratoria (rpm):</label>
                        <input type="number" id="respiratoryRate" class="form-control" placeholder="Ingrese la frecuencia respiratoria">
                    </div>
                    <div class="form-group">
                        <label for="temperature" class="form-label">Temperatura (¬∞C):</label>
                        <input type="number" id="temperature" class="form-control" placeholder="Ingrese la temperatura" step="0.1">
                    </div>
                    <button id="calculateVitals" class="btn btn-primary">
                        <span>üìä</span> Evaluar Signos Vitales
                    </button>
                    <div id="vitalsResult" class="result"></div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Protocolos y Procedimientos -->
        <section id="protocolos" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üìã</span> Protocolos y Procedimientos</h1>
                <div class="page-actions">
                    <button class="btn btn-outline" id="protocolSearchBtn">
                        <span>üîç</span> Buscar
                    </button>
                </div>
            </div>
            
            <div class="card">
                <div class="form-group">
                    <label for="protocolSearch" class="form-label">Buscar protocolo:</label>
                    <input type="text" id="protocolSearch" class="form-control" placeholder="Ingrese el nombre del protocolo...">
                </div>
            </div>
            
            <div id="protocolResults" class="grid">
                <!-- Los resultados de protocolos se mostrar√°n aqu√≠ -->
            </div>
        </section>

        <!-- Secci√≥n de Plan de Atenci√≥n de Enfermer√≠a (PAE) -->
        <section id="pae" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üìã</span> Plan de Atenci√≥n de Enfermer√≠a (PAE)</h1>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><span>üìù</span> Crear Nuevo PAE</h2>
                </div>
                <div class="form-group">
                    <label for="paePatient" class="form-label">Nombre del paciente:</label>
                    <input type="text" id="paePatient" class="form-control" placeholder="Nombre completo del paciente">
                </div>
                <div class="form-group">
                    <label for="paeDiagnosis" class="form-label">Diagn√≥stico de enfermer√≠a:</label>
                    <textarea id="paeDiagnosis" class="form-control" rows="3" placeholder="Ingrese el diagn√≥stico de enfermer√≠a"></textarea>
                </div>
                <div class="form-group">
                    <label for="paeObjectives" class="form-label">Objetivos:</label>
                    <textarea id="paeObjectives" class="form-control" rows="3" placeholder="Ingrese los objetivos del plan de cuidados"></textarea>
                </div>
                <div class="form-group">
                    <label for="paeInterventions" class="form-label">Intervenciones:</label>
                    <textarea id="paeInterventions" class="form-control" rows="3" placeholder="Ingrese las intervenciones de enfermer√≠a"></textarea>
                </div>
                <div class="form-group">
                    <label for="paeEvaluation" class="form-label">Evaluaci√≥n:</label>
                    <textarea id="paeEvaluation" class="form-control" rows="3" placeholder="Ingrese los criterios de evaluaci√≥n"></textarea>
                </div>
                <button id="savePAE" class="btn btn-primary">
                    <span>üíæ</span> Guardar PAE
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><span>üìö</span> PAEs Guardados</h2>
                    <div class="card-actions">
                        <button id="exportPAE" class="btn btn-outline btn-sm">
                            <span>üì§</span> Exportar
                        </button>
                    </div>
                </div>
                <div id="paeList">
                    <!-- Los PAEs guardados se mostrar√°n aqu√≠ -->
                    <div class="no-results">
                        <span class="no-results-icon">üìã</span>
                        <h3>No hay PAEs guardados</h3>
                        <p>Cree un nuevo PAE para comenzar a documentar sus planes de cuidados.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Buscador de Medicamentos -->
        <section id="medicamentos" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üíä</span> Buscador de Medicamentos</h1>
                <div class="page-actions">
                    <button class="btn btn-outline" id="medicationSearchBtn">
                        <span>üîç</span> Buscar
                    </button>
                </div>
            </div>
            
            <div class="card">
                <div class="form-group">
                    <label for="medicationSearch" class="form-label">Buscar medicamento:</label>
                    <input type="text" id="medicationSearch" class="form-control" placeholder="Ingrese el nombre del medicamento...">
                </div>
            </div>
            
            <div id="medicationResults" class="grid">
                <!-- Los resultados de medicamentos se mostrar√°n aqu√≠ -->
            </div>
        </section>

        <!-- Secci√≥n de Herramientas de Referencia R√°pida -->
        <section id="referencias" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üìä</span> Herramientas de Referencia R√°pida</h1>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="vitals">Signos Vitales</div>
                <div class="tab" data-tab="lab">Valores de Laboratorio</div>
                <div class="tab" data-tab="scales">Escalas Cl√≠nicas</div>
                <div class="tab" data-tab="units">Conversi√≥n de Unidades</div>
            </div>
            
            <div class="tab-content active" id="vitals">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>‚ù§Ô∏è</span> Signos Vitales Normales por Edad</h2>
                    </div>
                    <div class="table-container">
                        <table>
                            <tr>
                                <th>Edad</th>
                                <th>Ritmo Card√≠aco (lpm)</th>
                                <th>Presi√≥n Arterial (mmHg)</th>
                                <th>Frecuencia Respiratoria (rpm)</th>
                                <th>Temperatura (¬∞C)</th>
                            </tr>
                            <tr>
                                <td>Reci√©n nacido (0-1 mes)</td>
                                <td>100-160</td>
                                <td>60-90 / 30-60</td>
                                <td>30-60</td>
                                <td>36.5-37.5</td>
                            </tr>
                            <tr>
                                <td>Infante (1-12 meses)</td>
                                <td>80-140</td>
                                <td>70-100 / 50-70</td>
                                <td>24-40</td>
                                <td>36.5-37.5</td>
                            </tr>
                            <tr>
                                <td>Preescolar (1-5 a√±os)</td>
                                <td>80-120</td>
                                <td>80-110 / 50-80</td>
                                <td>20-30</td>
                                <td>36.5-37.5</td>
                            </tr>
                            <tr>
                                <td>Escolar (6-12 a√±os)</td>
                                <td>70-110</td>
                                <td>85-120 / 55-80</td>
                                <td>16-24</td>
                                <td>36.5-37.5</td>
                            </tr>
                            <tr>
                                <td>Adolescente (13-18 a√±os)</td>
                                <td>60-100</td>
                                <td>90-120 / 60-80</td>
                                <td>12-20</td>
                                <td>36.5-37.5</td>
                            </tr>
                            <tr>
                                <td>Adulto (19-60 a√±os)</td>
                                <td>60-100</td>
                                <td>90-120 / 60-80</td>
                                <td>12-20</td>
                                <td>36.5-37.5</td>
                            </tr>
                            <tr>
                                <td>Adulto mayor (>60 a√±os)</td>
                                <td>60-100</td>
                                <td>90-140 / 60-90</td>
                                <td>12-20</td>
                                <td>35.8-36.8</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="lab">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>üß™</span> Valores Normales de Laboratorio</h2>
                    </div>
                    <div class="table-container">
                        <table>
                            <tr>
                                <th>Par√°metro</th>
                                <th>Unidades</th>
                                <th>Valores Normales</th>
                            </tr>
                            <tr>
                                <td>Hemoglobina</td>
                                <td>g/dL</td>
                                <td>Hombres: 13.5-17.5<br>Mujeres: 12.0-15.5</td>
                            </tr>
                            <tr>
                                <td>Hematocrito</td>
                                <td>%</td>
                                <td>Hombres: 40-50<br>Mujeres: 36-46</td>
                            </tr>
                            <tr>
                                <td>Leucocitos</td>
                                <td>mm¬≥</td>
                                <td>4,500-11,000</td>
                            </tr>
                            <tr>
                                <td>Plaquetas</td>
                                <td>mm¬≥</td>
                                <td>150,000-450,000</td>
                            </tr>
                            <tr>
                                <td>Glucosa</td>
                                <td>mg/dL</td>
                                <td>70-100 (ayunas)</td>
                            </tr>
                            <tr>
                                <td>Urea</td>
                                <td>mg/dL</td>
                                <td>10-50</td>
                            </tr>
                            <tr>
                                <td> Creatinina</td>
                                <td>mg/dL</td>
                                <td>Hombres: 0.7-1.3<br>Mujeres: 0.6-1.1</td>
                            </tr>
                            <tr>
                                <td>Colesterol total</td>
                                <td>mg/dL</td>
                                <td>&lt;200</td>
                            </tr>
                            <tr>
                                <td>LDL</td>
                                <td>mg/dL</td>
                                <td>&lt;100 (√≥ptimo)</td>
                            </tr>
                            <tr>
                                <td>HDL</td>
                                <td>mg/dL</td>
                                <td>&gt;40 (hombres)<br>&gt;50 (mujeres)</td>
                            </tr>
                            <tr>
                                <td>Triglic√©ridos</td>
                                <td>mg/dL</td>
                                <td>&lt;150</td>
                            </tr>
                            <tr>
                                <td>Sodio</td>
                                <td>mEq/L</td>
                                <td>135-145</td>
                            </tr>
                            <tr>
                                <td>Potasio</td>
                                <td>mEq/L</td>
                                <td>3.5-5.0</td>
                            </tr>
                            <tr>
                                <td>Calcio</td>
                                <td>mg/dL</td>
                                <td>8.5-10.5</td>
                            </tr>
                            <tr>
                                <td>Bilirrubina total</td>
                                <td>mg/dL</td>
                                <td>0.3-1.2</td>
                            </tr>
                            <tr>
                                <td>Transaminasas (TGO/TGP)</td>
                                <td>U/L</td>
                                <td>5-40</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="scales">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>üìè</span> Escalas Cl√≠nicas</h2>
                    </div>
                    
                    <h3>Escala de Glasgow</h3>
                    <div class="table-container">
                        <table>
                            <tr>
                                <th>Respuesta</th>
                                <th>Puntos</th>
                                <th>Descripci√≥n</th>
                            </tr>
                            <tr>
                                <td rowspan="4">Ocular</td>
                                <td>4</td>
                                <td>Abre los ojos espont√°neamente</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Abre los ojos al hablarle</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Abre los ojos al dolor</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>No abre los ojos</td>
                            </tr>
                            <tr>
                                <td rowspan="5">Verbal</td>
                                <td>5</td>
                                <td>Orientado, conversa normalmente</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Desorientado, habla incoherente</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Palabras inapropiadas</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Sonidos incomprensibles</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>No emite sonidos</td>
                            </tr>
                            <tr>
                                <td rowspan="6">Motora</td>
                                <td>6</td>
                                <td>Obedece √≥rdenes</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Localiza el dolor</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Retira al dolor</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Flexi√≥n anormal (decorticaci√≥n)</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Extensi√≥n anormal (descerebraci√≥n)</td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>No hay respuesta motora</td>
                            </tr>
                        </table>
                    </div>
                    
                    <h3 style="margin-top: 2rem;">Escala de Apgar</h3>
                    <div class="table-container">
                        <table>
                            <tr>
                                <th>Par√°metro</th>
                                <th>0 puntos</th>
                                <th>1 punto</th>
                                <th>2 puntos</th>
                            </tr>
                            <tr>
                                <td>Color</td>
                                <td>Azul o p√°lido</td>
                                <td>Cuerpo rosado, extremidades azules</td>
                                <td>Rosado en todo el cuerpo</td>
                            </tr>
                            <tr>
                                <td>Ritmo card√≠aco</td>
                                <td>Ausente</td>
                                <td>Menos de 100 lpm</td>
                                <td>M√°s de 100 lpm</td>
                            </tr>
                            <tr>
                                <td>Reflejos</td>
                                <td>Sin respuesta</td>
                                <td>Facial (muecas)</td>
                                <td>Llanto fuerte</td>
                            </tr>
                            <tr>
                                <td>Movimientos</td>
                                <td>Fl√°cido</td>
                                <td>Alguna flexi√≥n</td>
                                <td>Activo, buena flexi√≥n</td>
                            </tr>
                            <tr>
                                <td>Respiraci√≥n</td>
                                <td>Ausente</td>
                                <td>Llanto d√©bil, irregular</td>
                                <td>Llanto fuerte, regular</td>
                            </tr>
                        </table>
                    </div>
                    <p><strong>Interpretaci√≥n:</strong> 8-10: Buen estado; 5-7: Depresi√≥n leve; 3-4: Depresi√≥n moderada; 0-2: Depresi√≥n severa.</p>
                </div>
            </div>
            
            <div class="tab-content" id="units">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><span>üîÑ</span> Conversi√≥n de Unidades M√©dicas</h2>
                    </div>
                    <div class="grid">
                        <div class="card">
                            <h3>Peso</h3>
                            <div class="form-group">
                                <label for="weightValue" class="form-label">Valor:</label>
                                <input type="number" id="weightValue" class="form-control" placeholder="Ingrese el valor">
                            </div>
                            <div class="form-group">
                                <label for="weightFrom" class="form-label">De:</label>
                                <select id="weightFrom" class="form-control form-select">
                                    <option value="kg">Kilogramos (kg)</option>
                                    <option value="g">Gramos (g)</option>
                                    <option value="lb">Libras (lb)</option>
                                    <option value="oz">Onzas (oz)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="weightTo" class="form-label">A:</label>
                                <select id="weightTo" class="form-control form-select">
                                    <option value="kg">Kilogramos (kg)</option>
                                    <option value="g">Gramos (g)</option>
                                    <option value="lb">Libras (lb)</option>
                                    <option value="oz">Onzas (oz)</option>
                                </select>
                            </div>
                            <button id="convertWeight" class="btn btn-primary">Convertir</button>
                            <div id="weightResult" class="result" style="margin-top: 1rem;"></div>
                        </div>
                        
                        <div class="card">
                            <h3>Longitud</h3>
                            <div class="form-group">
                                <label for="lengthValue" class="form-label">Valor:</label>
                                <input type="number" id="lengthValue" class="form-control" placeholder="Ingrese el valor">
                            </div>
                            <div class="form-group">
                                <label for="lengthFrom" class="form-label">De:</label>
                                <select id="lengthFrom" class="form-control form-select">
                                    <option value="m">Metros (m)</option>
                                    <option value="cm">Cent√≠metros (cm)</option>
                                    <option value="mm">Mil√≠metros (mm)</option>
                                    <option value="in">Pulgadas (in)</option>
                                    <option value="ft">Pies (ft)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="lengthTo" class="form-label">A:</label>
                                <select id="lengthTo" class="form-control form-select">
                                    <option value="m">Metros (m)</option>
                                    <option value="cm">Cent√≠metros (cm)</option>
                                    <option value="mm">Mil√≠metros (mm)</option>
                                    <option value="in">Pulgadas (in)</option>
                                    <option value="ft">Pies (ft)</option>
                                </select>
                            </div>
                            <button id="convertLength" class="btn btn-primary">Convertir</button>
                            <div id="lengthResult" class="result" style="margin-top: 1rem;"></div>
                        </div>
                        
                        <div class="card">
                            <h3>Volumen</h3>
                            <div class="form-group">
                                <label for="volumeValue" class="form-label">Valor:</label>
                                <input type="number" id="volumeValue" class="form-control" placeholder="Ingrese el valor">
                            </div>
                            <div class="form-group">
                                <label for="volumeFrom" class="form-label">De:</label>
                                <select id="volumeFrom" class="form-control form-select">
                                    <option value="l">Litros (L)</option>
                                    <option value="ml">Mililitros (mL)</option>
                                    <option value="oz">Onzas fluidas (fl oz)</option>
                                    <option value="cup">Tazas (cup)</option>
                                    <option value="gal">Galones (gal)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="volumeTo" class="form-label">A:</label>
                                <select id="volumeTo" class="form-control form-select">
                                    <option value="l">Litros (L)</option>
                                    <option value="ml">Mililitros (mL)</option>
                                    <option value="oz">Onzas fluidas (fl oz)</option>
                                    <option value="cup">Tazas (cup)</option>
                                    <option value="gal">Galones (gal)</option>
                                </select>
                            </div>
                            <button id="convertVolume" class="btn btn-primary">Convertir</button>
                            <div id="volumeResult" class="result" style="margin-top: 1rem;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Herramientas Avanzadas -->
        <section id="herramientas" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üõ†Ô∏è</span> Herramientas Avanzadas</h1>
            </div>
            
            <div class="grid">
                <div class="content-card">
                    <div class="card-body">
                        <h3 class="card-title-sm"><span>üìä</span> Calculadora de Riesgo Cardiovascular</h3>
                        <p class="card-text">Eval√∫e el riesgo cardiovascular a 10 a√±os utilizando la escala SCORE o Framingham seg√∫n la poblaci√≥n.</p>
                        <button class="btn btn-outline">Calcular</button>
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-body">
                        <h3 class="card-title-sm"><span>üíâ</span> Calculadora de Dosis Pedi√°tricas</h3>
                        <p class="card-text">Calcule dosis seguras para pacientes pedi√°tricos basadas en peso, edad y superficie corporal.</p>
                        <button class="btn btn-outline">Calcular</button>
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-body">
                        <h3 class="card-title-sm"><span>üå°Ô∏è</span> Calculadora de Necesidades Cal√≥ricas</h3>
                        <p class="card-text">Determine las necesidades cal√≥ricas diarias basadas en el m√©todo de Harris-Benedict o Mifflin-St Jeor.</p>
                        <button class="btn btn-outline">Calcular</button>
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-body">
                        <h3 class="card-title-sm"><span>üíä</span> Evaluador de Interacciones Medicamentosas</h3>
                        <p class="card-text">Verifique posibles interacciones entre m√∫ltiples medicamentos que el paciente est√° tomando.</p>
                        <button class="btn btn-outline">Evaluar</button>
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-body">
                        <h3 class="card-title-sm"><span>üìã</span> Generador de Notas Cl√≠nicas</h3>
                        <p class="card-text">Cree notas cl√≠nicas estructuradas utilizando el formato SOAP (Subjetivo, Objetivo, Evaluaci√≥n, Plan).</p>
                        <button class="btn btn-outline">Crear</button>
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-body">
                        <h3 class="card-title-sm"><span>üì±</span> Plantillas para Historia Cl√≠nica</h3>
                        <p class="card-text">Acceda a plantillas predefinidas para diferentes especialidades m√©dicas y tipos de consulta.</p>
                        <button class="btn btn-outline">Ver Plantillas</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Favoritos -->
        <section id="favoritos" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>‚≠ê</span> Favoritos</h1>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><span>üåü</span> Elementos Guardados</h2>
                </div>
                <div id="favoritesList" class="no-results">
                    <span class="no-results-icon">‚≠ê</span>
                    <h3>No tiene elementos favoritos</h3>
                    <p>Agregue elementos a sus favoritos para acceder r√°pidamente a ellos.</p>
                </div>
            </div>
        </section>

        <!-- Secci√≥n de Historial -->
        <section id="historial" class="section">
            <div class="content-header">
                <h1 class="page-title"><span>üïí</span> Historial de Actividad</h1>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><span>üìã</span> Actividad Reciente</h2>
                </div>
                <div id="historyList" class="no-results">
                    <span class="no-results-icon">üïí</span>
                    <h3>No hay actividad reciente</h3>
                    <p>Su historial de actividades se mostrar√° aqu√≠.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>MediGuide Pro</h3>
                <p>La herramienta integral para profesionales de la salud. Precisi√≥n, rapidez y confiabilidad en cada consulta.</p>
            </div>
            <div class="footer-section">
                <h3>Recursos Cl√≠nicos</h3>
                <ul>
                    <li><a href="#enciclopedia">Enciclopedia M√©dica</a></li>
                    <li><a href="#calculadoras">Calculadoras Cl√≠nicas</a></li>
                    <li><a href="#referencias">Tablas de Referencia</a></li>
                    <li><a href="#herramientas">Herramientas Avanzadas</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Gesti√≥n Cl√≠nica</h3>
                <ul>
                    <li><a href="#pae">Plan de Atenci√≥n de Enfermer√≠a</a></li>
                    <li><a href="#medicamentos">Base de Medicamentos</a></li>
                    <li><a href="#protocolos">Protocolos Cl√≠nicos</a></li>
                    <li><a href="#favoritos">Accesos R√°pidos</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Soporte</h3>
                <ul>
                    <li><a href="#">Centro de Ayuda</a></li>
                    <li><a href="#">Documentaci√≥n</a></li>
                    <li><a href="#">Actualizaciones</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            &copy; 2023 MediGuide Pro - Herramienta M√©dica Integral. Versi√≥n 2.0. Todos los derechos reservados.
        </div>
    </footer>

    <script>
        // Datos de ejemplo para la aplicaci√≥n
        const diseases = [
            {
                id: 1,
                name: "Diabetes Mellitus",
                symptoms: ["Poliuria", "Polidipsia", "P√©rdida de peso", "Fatiga", "Visi√≥n borrosa"],
                diagnosis: "Glicemia en ayunas ‚â• 126 mg/dL, HbA1c ‚â• 6.5%, glicemia al azar ‚â• 200 mg/dL con s√≠ntomas",
                treatment: "Control diet√©tico, ejercicio, metformina, insulina seg√∫n necesidad",
                category: "Endocrinolog√≠a",
                severity: "Alto",
                prevalence: "Com√∫n"
            },
            {
                id: 2,
                name: "Hipertensi√≥n Arterial",
                symptoms: ["Asintom√°tica en etapas tempranas", "Cefalea", "Mareos", "Visi√≥n borrosa", "Palpitaciones"],
                diagnosis: "Presi√≥n arterial sist√≥lica ‚â• 140 mmHg y/o diast√≥lica ‚â• 90 mmHg en m√∫ltiples mediciones",
                treatment: "Cambios en estilo de vida, IECA, ARA II, diur√©ticos, betabloqueadores, calcio antagonistas",
                category: "Cardiolog√≠a",
                severity: "Moderado",
                prevalence: "Muy com√∫n"
            },
            {
                id: 3,
                name: "Neumon√≠a",
                symptoms: ["Fiebre", "Tos", "Expectoraci√≥n", "Dolor tor√°cico", "Disnea", "Taquipnea"],
                diagnosis: "Radiograf√≠a de t√≥rax, signos cl√≠nicos, an√°lisis de sangre",
                treatment: "Antibi√≥ticos seg√∫n tipo (amoxicilina, macr√≥lidos, fluoroquinolonas), oxigenoterapia si es necesario",
                category: "Neumolog√≠a",
                severity: "Alto",
                prevalence: "Com√∫n"
            },
            {
                id: 4,
                name: "Insuficiencia Card√≠aca",
                symptoms: ["Disnea", "Ortopnea", "Disnea parox√≠stica nocturna", "Edema perif√©rico", "Fatiga", "Taquicardia"],
                diagnosis: "Ecocardiograma, BNP, radiograf√≠a de t√≥rax, ECG",
                treatment: "Diur√©ticos, IECA, betabloqueadores, antagonistas de la aldosterona, digoxina",
                category: "Cardiolog√≠a",
                severity: "Alto",
                prevalence: "Com√∫n"
            },
            {
                id: 5,
                name: "Enfermedad Pulmonar Obstructiva Cr√≥nica (EPOC)",
                symptoms: ["Tos cr√≥nica", "Expectoraci√≥n", "Disnea progresiva", "Sibilancias", "Infecciones respiratorias frecuentes"],
                diagnosis: "Espirograma con relaci√≥n VEF1/CVF < 0.7 post broncodilatador",
                treatment: "Dejar de fumar, broncodilatadores, corticoides inhalados, oxigenoterapia cr√≥nica si es necesario",
                category: "Neumolog√≠a",
                severity: "Moderado",
                prevalence: "Com√∫n"
            },
            {
                id: 6,
                name: "Gastritis",
                symptoms: ["Dolor epig√°strico", "N√°useas", "V√≥mitos", "Sensaci√≥n de saciedad precoz", "Eructos"],
                diagnosis: "Endoscopia digestiva alta, prueba de ureasa r√°pida para Helicobacter pylori",
                treatment: "IBP, triple terapia si hay Helicobacter pylori, evitar AINEs",
                category: "Gastroenterolog√≠a",
                severity: "Bajo",
                prevalence: "Muy com√∫n"
            },
            {
                id: 7,
                name: "Ap√©ndice Agudo",
                symptoms: ["Dolor abdominal (inicio periumbilical, migraci√≥n a fosa il√≠aca derecha)", "N√°useas", "V√≥mitos", "Fiebre", "Anorexia"],
                diagnosis: "Exploraci√≥n f√≠sica, an√°lisis de sangre, ecograf√≠a o TAC abdominal",
                treatment: "Ap√©ndicectom√≠a (laparosc√≥pica o abierta), antibi√≥ticos",
                category: "Cirug√≠a General",
                severity: "Alto",
                prevalence: "Com√∫n"
            },
            {
                id: 8,
                name: "Colecistitis Aguda",
                symptoms: ["Dolor en hipocondrio derecho", "N√°useas", "V√≥mitos", "Fiebre", "Ictericia (en casos avanzados)"],
                diagnosis: "Exploraci√≥n f√≠sica (signo de Murphy positivo), ecograf√≠a abdominal, an√°lisis de sangre",
                treatment: "Ayuno, hidrataci√≥n, antibi√≥ticos, colecistectom√≠a (generalmente laparosc√≥pica)",
                category: "Cirug√≠a General",
                severity: "Alto",
                prevalence: "Com√∫n"
            }
        ];

        const medications = [
            {
                id: 1,
                name: "Paracetamol",
                category: "Analg√©sico/Antipir√©tico",
                indications: ["Dolor leve a moderado", "Fiebre"],
                dosage: "500-1000 mg cada 4-6 horas (m√°x. 4g/d√≠a)",
                contraindications: ["Hipersensibilidad", "Insuficiencia hep√°tica grave"],
                sideEffects: ["N√°useas", "Erupci√≥n cut√°nea", "Alteraciones hep√°ticas en sobredosis"],
                interactions: ["Alcohol (aumenta toxicidad hep√°tica)", "Warfarina (puede aumentar riesgo de hemorragia)"],
                pregnancyCategory: "B",
                controlledSubstance: false
            },
            {
                id: 2,
                name: "Ibuprofeno",
                category: "AINE",
                indications: ["Dolor", "Inflamaci√≥n", "Fiebre"],
                dosage: "200-400 mg cada 4-6 horas (m√°x. 1200mg/d√≠a sin prescripci√≥n)",
                contraindications: ["√ölcera p√©ptica activa", "Insuficiencia renal grave", "Asma inducida por AINEs"],
                sideEffects: ["Dolor abdominal", "N√°useas", "√ölcera p√©ptica", "Retenci√≥n de l√≠quidos"],
                interactions: ["Warfarina (aumenta riesgo de hemorragia)", "Litio (aumenta niveles)", "IECA (reduce efecto)"],
                pregnancyCategory: "C",
                controlledSubstance: false
            },
            {
                id: 3,
                name: "Amoxicilina",
                category: "Antibi√≥tico (Penicilina)",
                indications: ["Infecciones bacterianas (otitis, sinusitis, neumon√≠a, etc.)"],
                dosage: "500 mg cada 8 horas o 875 mg cada 12 horas",
                contraindications: ["Alergia a penicilinas", "Mononucleosis infecciosa"],
                sideEffects: ["Diarrea", "N√°useas", "Erupci√≥n cut√°nea", "Candidiasis oral"],
                interactions: ["Metotrexato (aumenta toxicidad)", "Anticoagulantes (puede aumentar efecto)"],
                pregnancyCategory: "B",
                controlledSubstance: false
            },
            {
                id: 4,
                name: "Loratadina",
                category: "Antihistam√≠nico",
                indications: ["Rinitis al√©rgica", "Urticaria"],
                dosage: "10 mg una vez al d√≠a",
                contraindications: ["Hipersensibilidad", "Insuficiencia hep√°tica grave"],
                sideEffects: ["Cefalea", "Somnolencia (raro)", "Secura de boca"],
                interactions: ["Eritromicina (aumenta niveles)", "Cetoconazol (aumenta niveles)"],
                pregnancyCategory: "B",
                controlledSubstance: false
            },
            {
                id: 5,
                name: "Omeprazol",
                category: "IBP",
                indications: ["Enfermedad por reflujo gastroesof√°gico", "√ölcera p√©ptica", "S√≠ndrome de Zollinger-Ellison"],
                dosage: "20-40 mg una vez al d√≠a antes del desayuno",
                contraindications: ["Hipersensibilidad", "Concomitancia con atazanavir"],
                sideEffects: ["Dolor abdominal", "N√°useas", "Diarrea", "Dolor de cabeza"],
                interactions: ["Warfarina (puede aumentar INR)", "Digoxina (puede aumentar niveles)", "Ketoconazol (disminuye absorci√≥n)"],
                pregnancyCategory: "C",
                controlledSubstance: false
            },
            {
                id: 6,
                name: "Metformina",
                category: "Antidiab√©tico oral",
                indications: ["Diabetes mellitus tipo 2"],
                dosage: "500-1000 mg dos veces al d√≠a con las comidas",
                contraindications: ["Insuficiencia renal (TFG < 30 ml/min)", "Acidosis metab√≥lica", "Insuficiencia hep√°tica grave"],
                sideEffects: ["N√°useas", "Diarrea", "Dolor abdominal", "P√©rdida de apetito"],
                interactions: ["Contrastes yodados (riesgo de acidosis l√°ctica)", "Alcohol (aumenta riesgo de acidosis l√°ctica)"],
                pregnancyCategory: "B",
                controlledSubstance: false
            },
            {
                id: 7,
                name: "Atorvastatina",
                category: "Estatina",
                indications: ["Hipercolesterolemia", "Prevenci√≥n cardiovascular"],
                dosage: "10-80 mg una vez al d√≠a",
                contraindications: ["Enfermedad hep√°tica activa", "Embarazo", "Lactancia"],
                sideEffects: ["Dolor muscular", "Cefalea", "N√°useas", "Alteraciones hep√°ticas"],
                interactions: ["Fibratos (aumenta riesgo de miopat√≠a)", "Itraconazol (aumenta niveles)", "Digoxina (aumenta niveles)"],
                pregnancyCategory: "X",
                controlledSubstance: false
            },
            {
                id: 8,
                name: "Lisinopril",
                category: "IECA",
                indications: ["Hipertensi√≥n", "Insuficiencia card√≠aca", "Protecci√≥n renal en diabetes"],
                dosage: "10-40 mg una vez al d√≠a",
                contraindications: ["Angioedema previo con IECA", "Embarazo", "Estenosis de arteria renal bilateral"],
                sideEffects: ["Tos seca", "Hipotensi√≥n", "Hiperkalemia", "Alteraciones renales"],
                interactions: ["Diur√©ticos (aumenta hipotensi√≥n)", "AINEs (reduce efecto renal)", "Litio (aumenta niveles)"],
                pregnancyCategory: "D",
                controlledSubstance: false
            }
        ];

        const protocols = [
            {
                id: 1,
                name: "Reanimaci√≥n Cardiopulmonar (RCP) B√°sica",
                category: "Emergencias",
                severity: "Cr√≠tico",
                steps: [
                    "Verificar seguridad del entorno",
                    "Evaluar respuesta del paciente (toque y habla)",
                    "Activar sistema de respuesta m√©dica de emergencia",
                    "Evaluar respiraci√≥n (observar movimiento tor√°cico, escuchar y sentir durante 5-10 segundos)",
                    "Si no hay respiraci√≥n normal, iniciar compresiones tor√°cicas (100-120/min, profundidad 5-6 cm)",
                    "Relaci√≥n compresi√≥n-ventilaci√≥n: 30:2",
                    "Continuar hasta que llegue ayuda avanzada o el paciente reaccione"
                ],
                notes: "Para adultos, ni√±os y lactantes. En ni√±os y lactantes, usar una o dos manos seg√∫n tama√±o."
            },
            {
                id: 2,
                name: "Manejo de Hipoglucemia",
                category: "Endocrinolog√≠a",
                severity: "Urgente",
                steps: [
                    "Evaluar nivel de conciencia del paciente",
                    "Si el paciente est√° consciente y puede tragar: administrar 15g de carbohidratos simples (4 onzas de jugo, 3-4 tabletas de glucosa, 1 cucharada de miel)",
                    "Reevaluar glucemia a los 15 minutos",
                    "Si persiste hipoglucemia, repetir la dosis",
                    "Una vez normalizada la glucemia, administrar alimento con carbohidatos complejos",
                    "Si el paciente est√° inconsciente: administrar glucag√≥n 1 mg IM/SC o dextrosa al 50% 25g IV"
                ],
                notes: "Monitorizar glucemia despu√©s del tratamiento. Investigar causa de hipoglucemia."
            },
            {
                id: 3,
                name: "Control de Hemorragia",
                category: "Emergencias",
                severity: "Cr√≠tico",
                steps: [
                    "Asegurar seguridad del entorno",
                    "Aplicar presi√≥n directa sobre la herida con gasa est√©ril",
                    "Elevar la extremidad por encima del nivel del coraz√≥n si es posible",
                    "Aplicar vendaje compresivo",
                    "Si persiste hemorragia importante, considerar punto de presi√≥n arterial",
                    "Aplicar torniquete si es hemorragia masiva que no responde a presi√≥n directa",
                    "Monitorizar signos vitales y estado de conciencia",
                    "Preparar para transfusi√≥n sangu√≠nea si es necesario"
                ],
                notes: "Documentar hora de aplicaci√≥n del torniquete. No retirar vendajes empapados, agregar nuevos encima."
            },
            {
                id: 4,
                name: "Protocolo de V√≠as A√©reas Dif√≠ciles",
                category: "Anestesiolog√≠a",
                severity: "Cr√≠tico",
                steps: [
                    "Evaluar predicci√≥n de v√≠a a√©rea dif√≠cil (Mallampati, distancia tiromental, movilidad cervical, etc.)",
                    "Preoxigenar al paciente con ox√≠geno al 100% durante 3-5 minutos",
                    "Intentar intubaci√≥n con laringoscopio convencional",
                    "Si falla, intentar con laringoscopio de hoja curva o recta seg√∫n necesidad",
                    "Si persiste dificultad, usar dispositivo de v√≠a a√©rea supragl√≥tica (LMA)",
                    "Si no se logra ventilaci√≥n, realizar cricotirotom√≠a quir√∫rgica o percut√°nea"
                ],
                notes: "Seguir algoritmo de v√≠a a√©rea dif√≠cil. Tener equipo de rescate disponible."
            },
            {
                id: 5,
                name: "Manejo de Anafilaxia",
                category: "Alergia/Inmunolog√≠a",
                severity: "Cr√≠tico",
                steps: [
                    "Identificar s√≠ntomas de anafilaxia (urticaria, angioedema, disnea, hipotensi√≥n, etc.)",
                    "Administrar adrenalina 0.3-0.5 mg (1:1000) IM en muslo anterior",
                    "Administrar ox√≠geno al 100%",
                    "Acceso venoso con soluci√≥n salina normal",
                    "Administrar antihistam√≠nicos (difenhidramina 25-50 mg IV/IM)",
                    "Administrar corticosteroides (hidrocortisona 100-200 mg IV)",
                    "Monitorizar signos vitales continuamente",
                    "Preparar para reanimaci√≥n si empeora"
                ],
                notes: "La adrenalina es el tratamiento de elecci√≥n. No retrasar su administraci√≥n."
            },
            {
                id: 6,
                name: "Manejo de Infarto Agudo de Miocardio",
                category: "Cardiolog√≠a",
                severity: "Cr√≠tico",
                steps: [
                    "Reconocer s√≠ntomas (dolor tor√°cico opresivo, irradiaci√≥n, sudoraci√≥n, n√°useas)",
                    "Realizar ECG en menos de 10 minutos",
                    "Administrar aspirina 162-325 mg masticable",
                    "Administrar nitrato sublingual si no hay contraindicaciones",
                    "Administrar morfina si dolor persiste",
                    "Considerar tromb√≥lisis o intervenci√≥n coronaria percut√°nea seg√∫n disponibilidad y tiempo",
                    "Monitorizar continuamente"
                ],
                notes: "Tiempo es m√∫sculo. Minimizar el tiempo puerta-bal√≥n."
            }
        ];

        // Estado de la aplicaci√≥n
        let currentTheme = 'light';
        let paeList = [];
        let favorites = [];
        let history = [];

        // Funciones de utilidad
        function showSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar la secci√≥n seleccionada
            const section = document.getElementById(sectionId);
            if (section) {
                section.classList.add('active');
            }
            
            // Actualizar la navegaci√≥n
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            const activeLink = document.querySelector(`.nav-link[data-section="${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Guardar la secci√≥n actual en el historial
            history.pushState(null, null, `#${sectionId}`);
            
            // Cerrar el men√∫ m√≥vil en dispositivos peque√±os
            if (window.innerWidth <= 768) {
                document.querySelector('.sidebar').classList.remove('mobile-open');
                document.querySelector('#mobileMenuBtn').setAttribute('aria-expanded', 'false');
            }
        }

        function toggleMobileMenu() {
            const sidebar = document.querySelector('.sidebar');
            const menuBtn = document.querySelector('#mobileMenuBtn');
            const isExpanded = menuBtn.getAttribute('aria-expanded') === 'true';
            
            sidebar.classList.toggle('mobile-open');
            menuBtn.setAttribute('aria-expanded', !isExpanded);
        }

        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('#themeToggle');
            const themeIcon = document.querySelector('.theme-icon');
            
            if (currentTheme === 'light') {
                body.classList.add('dark-mode');
                themeIcon.textContent = 'üåô';
                currentTheme = 'dark';
            } else {
                body.classList.remove('dark-mode');
                themeIcon.textContent = '‚òÄÔ∏è';
                currentTheme = 'light';
            }
            
            // Guardar preferencia de tema
            localStorage.setItem('mediguide-theme', currentTheme);
        }

        function searchItems(query, items, searchFields) {
            if (!query || query.trim() === '') return items;
            
            const lowerQuery = query.toLowerCase().trim();
            return items.filter(item => {
                return searchFields.some(field => {
                    if (item[field]) {
                        if (Array.isArray(item[field])) {
                            return item[field].some(subField => 
                                subField.toLowerCase().includes(lowerQuery)
                            );
                        } else if (typeof item[field] === 'string') {
                            return item[field].toLowerCase().includes(lowerQuery);
                        }
                    }
                    return false;
                });
            });
        }

        function renderDiseaseResults(diseases) {
            const resultsContainer = document.getElementById('diseaseResults');
            
            if (diseases.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <span class="no-results-icon">üìö</span>
                        <h3>No se encontraron enfermedades</h3>
                        <p>Intente con otro t√©rmino de b√∫squeda o explore otras categor√≠as.</p>
                    </div>
                `;
                return;
            }
            
            resultsContainer.innerHTML = diseases.map(disease => `
                <div class="content-card">
                    <div class="card-body">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                            <h3 class="card-title-sm">${disease.name}</h3>
                            <span class="badge badge-${disease.severity === 'Alto' ? 'danger' : disease.severity === 'Moderado' ? 'warning' : 'success'}">
                                ${disease.severity}
                            </span>
                        </div>
                        <p class="card-text"><strong>S√≠ntomas:</strong> ${disease.symptoms.join(', ')}</p>
                        <p class="card-text"><strong>Diagn√≥stico:</strong> ${disease.diagnosis}</p>
                        <p class="card-text"><strong>Tratamiento:</strong> ${disease.treatment}</p>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
                            <span class="badge badge-primary">${disease.category}</span>
                            <span class="badge badge-info">${disease.prevalence}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderMedicationResults(medications) {
            const resultsContainer = document.getElementById('medicationResults');
            
            if (medications.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <span class="no-results-icon">üíä</span>
                        <h3>No se encontraron medicamentos</h3>
                        <p>Intente con otro t√©rmino de b√∫squeda o explore otras categor√≠as.</p>
                    </div>
                `;
                return;
            }
            
            resultsContainer.innerHTML = medications.map(medication => `
                <div class="content-card">
                    <div class="card-body">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                            <h3 class="card-title-sm">${medication.name}</h3>
                            ${medication.controlledSubstance ? 
                                '<span class="badge badge-danger">Controlado</span>' : 
                                `<span class="badge badge-success">Cat. ${medication.pregnancyCategory}</span>`
                            }
                        </div>
                        <p class="card-text"><strong>Categor√≠a:</strong> ${medication.category}</p>
                        <p class="card-text"><strong>Indicaciones:</strong> ${medication.indications.join(', ')}</p>
                        <p class="card-text"><strong>Dosificaci√≥n:</strong> ${medication.dosage}</p>
                        <p class="card-text"><strong>Contraindicaciones:</strong> ${medication.contraindications.join(', ')}</p>
                        <p class="card-text"><strong>Efectos secundarios:</strong> ${medication.sideEffects.join(', ')}</p>
                        <p class="card-text"><strong>Interacciones:</strong> ${medication.interactions.join(', ')}</p>
                        <span class="badge badge-primary">${medication.category}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderProtocolResults(protocols) {
            const resultsContainer = document.getElementById('protocolResults');
            
            if (protocols.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <span class="no-results-icon">üìã</span>
                        <h3>No se encontraron protocolos</h3>
                        <p>Intente con otro t√©rmino de b√∫squeda o explore otras categor√≠as.</p>
                    </div>
                `;
                return;
            }
            
            resultsContainer.innerHTML = protocols.map(protocol => `
                <div class="content-card">
                    <div class="card-body">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                            <h3 class="card-title-sm">${protocol.name}</h3>
                            <span class="badge badge-${protocol.severity === 'Cr√≠tico' ? 'danger' : 'warning'}">
                                ${protocol.severity}
                            </span>
                        </div>
                        <p class="card-text"><strong>Categor√≠a:</strong> ${protocol.category}</p>
                        <p class="card-text"><strong>Pasos:</strong></p>
                        <ol style="margin-left: 1.5rem; margin-bottom: 1rem;">
                            ${protocol.steps.map(step => `<li>${step}</li>`).join('')}
                        </ol>
                        <p class="card-text"><strong>Notas importantes:</strong> ${protocol.notes}</p>
                        <span class="badge badge-primary">${protocol.category}</span>
                    </div>
                </div>
            `).join('');
        }

        function calculateBMI() {
            const weight = parseFloat(document.getElementById('weight').value);
            const height = parseFloat(document.getElementById('height').value) / 100; // Convertir a metros
            
            if (isNaN(weight) || isNaN(height) || weight <= 0 || height <= 0) {
                document.getElementById('bmiResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div>
                            <strong>Error:</strong> Por favor, ingrese valores v√°lidos para peso y altura.
                        </div>
                    </div>
                `;
                return;
            }
            
            const bmi = weight / (height * height);
            let interpretation = '';
            let resultClass = '';
            let advice = '';
            
            if (bmi < 18.5) {
                interpretation = 'Bajo peso';
                resultClass = 'danger';
                advice = 'Considere aumentar su ingesta cal√≥rica con alimentos nutritivos.';
            } else if (bmi < 25) {
                interpretation = 'Peso normal';
                resultClass = 'success';
                advice = 'Mantenga su estilo de vida saludable.';
            } else if (bmi < 30) {
                interpretation = 'Sobrepeso';
                resultClass = 'warning';
                advice = 'Considere cambios en su dieta y aumentar la actividad f√≠sica.';
            } else if (bmi < 35) {
                interpretation = 'Obesidad grado I';
                resultClass = 'danger';
                advice = 'Consulte a un profesional de la salud para un plan de manejo.';
            } else if (bmi < 40) {
                interpretation = 'Obesidad grado II';
                resultClass = 'danger';
                advice = 'Es importante buscar atenci√≥n m√©dica especializada.';
            } else {
                interpretation = 'Obesidad grado III';
                resultClass = 'danger';
                advice = 'Requiere atenci√≥n m√©dica inmediata y manejo especializado.';
            }
            
            document.getElementById('bmiResult').innerHTML = `
                <div class="result ${resultClass}">
                    <span class="result-icon">üìä</span>
                    <div>
                        <strong>IMC:</strong> ${bmi.toFixed(2)} kg/m¬≤ - ${interpretation}<br>
                        <strong>Recomendaci√≥n:</strong> ${advice}
                    </div>
                </div>
            `;
        }

        function calculateDose() {
            const weight = parseFloat(document.getElementById('patientWeight').value);
            const dosePerKg = parseFloat(document.getElementById('requiredDose').value);
            const concentration = parseFloat(document.getElementById('concentration').value);
            const medicationType = document.getElementById('medicationType').value;
            
            if (isNaN(weight) || isNaN(dosePerKg) || isNaN(concentration) || weight <= 0 || dosePerKg <= 0 || concentration <= 0) {
                document.getElementById('doseResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div>
                            <strong>Error:</strong> Por favor, ingrese valores v√°lidos para todos los campos.
                        </div>
                    </div>
                `;
                return;
            }
            
            const totalDose = weight * dosePerKg;
            const volume = totalDose / concentration;
            
            let medicationInfo = '';
            if (medicationType) {
                const med = medications.find(m => m.name.toLowerCase() === medicationType);
                if (med) {
                    medicationInfo = `<br><strong>Medicamento:</strong> ${med.name} (${med.category})`;
                }
            }
            
            document.getElementById('doseResult').innerHTML = `
                <div class="result success">
                    <span class="result-icon">‚úÖ</span>
                    <div>
                        <strong>Dosis total:</strong> ${totalDose.toFixed(2)} mg${medicationInfo}<br>
                        <strong>Volumen a administrar:</strong> ${volume.toFixed(2)} ml<br>
                        <strong>Concentraci√≥n:</strong> ${concentration} mg/ml
                    </div>
                </div>
            `;
        }

        function calculateGCS() {
            const ocular = parseInt(document.querySelector('input[name="gcs_ocular"]:checked')?.value) || 0;
            const verbal = parseInt(document.querySelector('input[name="gcs_verbal"]:checked')?.value) || 0;
            const motor = parseInt(document.querySelector('input[name="gcs_motor"]:checked')?.value) || 0;
            
            if (ocular === 0 || verbal === 0 || motor === 0) {
                document.getElementById('gcsResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div>
                            <strong>Error:</strong> Por favor, seleccione una opci√≥n para cada categor√≠a.
                        </div>
                    </div>
                `;
                return;
            }
            
            const total = ocular + verbal + motor;
            let interpretation = '';
            let resultClass = '';
            
            if (total >= 13) {
                interpretation = 'Conciencia leve o moderadamente alterada';
                resultClass = 'success';
            } else if (total >= 9) {
                interpretation = 'Conciencia moderadamente alterada';
                resultClass = 'warning';
            } else {
                interpretation = 'Conciencia severamente alterada';
                resultClass = 'danger';
            }
            
            document.getElementById('gcsResult').innerHTML = `
                <div class="result ${resultClass}">
                    <span class="result-icon">üß†</span>
                    <div>
                        <strong>Score de Glasgow:</strong> ${total}/15 (${ocular}+${verbal}+${motor})<br>
                        <strong>Interpretaci√≥n:</strong> ${interpretation}
                    </div>
                </div>
            `;
        }

        function calculateApgar() {
            const color = parseInt(document.getElementById('apgar_color').value);
            const heart = parseInt(document.getElementById('apgar_heart').value);
            const reflex = parseInt(document.getElementById('apgar_reflex').value);
            const movement = parseInt(document.getElementById('apgar_movement').value);
            const breathing = parseInt(document.getElementById('apgar_breathing').value);
            
            if (isNaN(color) || isNaN(heart) || isNaN(reflex) || isNaN(movement) || isNaN(breathing)) {
                document.getElementById('apgarResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div>
                            <strong>Error:</strong> Por favor, seleccione un valor para cada par√°metro.
                        </div>
                    </div>
                `;
                return;
            }
            
            const total = color + heart + reflex + movement + breathing;
            let interpretation = '';
            let resultClass = '';
            
            if (total >= 8) {
                interpretation = 'Buen estado';
                resultClass = 'success';
            } else if (total >= 5) {
                interpretation = 'Depresi√≥n leve';
                resultClass = 'warning';
            } else if (total >= 3) {
                interpretation = 'Depresi√≥n moderada';
                resultClass = 'danger';
            } else {
                interpretation = 'Depresi√≥n severa';
                resultClass = 'danger';
            }
            
            document.getElementById('apgarResult').innerHTML = `
                <div class="result ${resultClass}">
                    <span class="result-icon">üë∂</span>
                    <div>
                        <strong>Score de Apgar:</strong> ${total}/10 (${color}+${heart}+${reflex}+${movement}+${breathing})<br>
                        <strong>Interpretaci√≥n:</strong> ${interpretation}
                    </div>
                </div>
            `;
        }

        function calculateVitals() {
            const heartRate = parseInt(document.getElementById('heartRate').value);
            const systolic = parseInt(document.getElementById('systolic').value);
            const diastolic = parseInt(document.getElementById('diastolic').value);
            const respiratoryRate = parseInt(document.getElementById('respiratoryRate').value);
            const temperature = parseFloat(document.getElementById('temperature').value);
            
            if (isNaN(heartRate) || isNaN(systolic) || isNaN(diastolic) || 
                isNaN(respiratoryRate) || isNaN(temperature)) {
                document.getElementById('vitalsResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div>
                            <strong>Error:</strong> Por favor, ingrese valores v√°lidos para todos los campos.
                        </div>
                    </div>
                `;
                return;
            }
            
            let results = [];
            let hasCritical = false;
            
            // Evaluar ritmo card√≠aco
            if (heartRate < 60) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Ritmo card√≠aco:</strong> ${heartRate} lpm - Bradicardia (cr√≠tico)`);
                hasCritical = true;
            } else if (heartRate > 100) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Ritmo card√≠aco:</strong> ${heartRate} lpm - Taquicardia`);
            } else {
                results.push(`<span class="result-icon">‚úÖ</span> <strong>Ritmo card√≠aco:</strong> ${heartRate} lpm - Normal`);
            }
            
            // Evaluar presi√≥n arterial
            if (systolic < 90 || diastolic < 60) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Presi√≥n arterial:</strong> ${systolic}/${diastolic} mmHg - Hipotensi√≥n (cr√≠tico)`);
                hasCritical = true;
            } else if (systolic >= 140 || diastolic >= 90) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Presi√≥n arterial:</strong> ${systolic}/${diastolic} mmHg - Hipertensi√≥n`);
            } else if (systolic >= 120 && systolic < 140) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Presi√≥n arterial:</strong> ${systolic}/${diastolic} mmHg - Prehipertensi√≥n`);
            } else {
                results.push(`<span class="result-icon">‚úÖ</span> <strong>Presi√≥n arterial:</strong> ${systolic}/${diastolic} mmHg - Normal`);
            }
            
            // Evaluar frecuencia respiratoria
            if (respiratoryRate < 12) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Frecuencia respiratoria:</strong> ${respiratoryRate} rpm - Bradipnea`);
            } else if (respiratoryRate > 20) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Frecuencia respiratoria:</strong> ${respiratoryRate} rpm - Taquipnea`);
            } else {
                results.push(`<span class="result-icon">‚úÖ</span> <strong>Frecuencia respiratoria:</strong> ${respiratoryRate} rpm - Normal`);
            }
            
            // Evaluar temperatura
            if (temperature < 36) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Temperatura:</strong> ${temperature}¬∞C - Hipotermia`);
            } else if (temperature > 37.5) {
                results.push(`<span class="result-icon">‚ö†Ô∏è</span> <strong>Temperatura:</strong> ${temperature}¬∞C - Fiebre`);
            } else {
                results.push(`<span class="result-icon">‚úÖ</span> <strong>Temperatura:</strong> ${temperature}¬∞C - Normal`);
            }
            
            const resultClass = hasCritical ? 'danger' : 'success';
            
            document.getElementById('vitalsResult').innerHTML = `
                <div class="result ${resultClass}">
                    ${results.join('<br>')}
                </div>
            `;
        }

        function convertWeight() {
            const value = parseFloat(document.getElementById('weightValue').value);
            const from = document.getElementById('weightFrom').value;
            const to = document.getElementById('weightTo').value;
            
            if (isNaN(value)) {
                document.getElementById('weightResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div><strong>Error:</strong> Por favor, ingrese un valor v√°lido.</div>
                    </div>
                `;
                return;
            }
            
            // Convertir a kg primero
            let kg;
            switch (from) {
                case 'kg': kg = value; break;
                case 'g': kg = value / 1000; break;
                case 'lb': kg = value * 0.453592; break;
                case 'oz': kg = value * 0.0283495; break;
                default: kg = value;
            }
            
            // Convertir de kg a la unidad deseada
            let result;
            switch (to) {
                case 'kg': result = kg; break;
                case 'g': result = kg * 1000; break;
                case 'lb': result = kg / 0.453592; break;
                case 'oz': result = kg / 0.0283495; break;
                default: result = kg;
            }
            
            document.getElementById('weightResult').innerHTML = `
                <div class="result success">
                    <span class="result-icon">üîÑ</span>
                    <div>
                        <strong>Resultado:</strong> ${value} ${from.toUpperCase()} = ${result.toFixed(4)} ${to.toUpperCase()}
                    </div>
                </div>
            `;
        }

        function convertLength() {
            const value = parseFloat(document.getElementById('lengthValue').value);
            const from = document.getElementById('lengthFrom').value;
            const to = document.getElementById('lengthTo').value;
            
            if (isNaN(value)) {
                document.getElementById('lengthResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div><strong>Error:</strong> Por favor, ingrese un valor v√°lido.</div>
                    </div>
                `;
                return;
            }
            
            // Convertir a metros primero
            let m;
            switch (from) {
                case 'm': m = value; break;
                case 'cm': m = value / 100; break;
                case 'mm': m = value / 1000; break;
                case 'in': m = value * 0.0254; break;
                case 'ft': m = value * 0.3048; break;
                default: m = value;
            }
            
            // Convertir de metros a la unidad deseada
            let result;
            switch (to) {
                case 'm': result = m; break;
                case 'cm': result = m * 100; break;
                case 'mm': result = m * 1000; break;
                case 'in': result = m / 0.0254; break;
                case 'ft': result = m / 0.3048; break;
                default: result = m;
            }
            
            document.getElementById('lengthResult').innerHTML = `
                <div class="result success">
                    <span class="result-icon">üîÑ</span>
                    <div>
                        <strong>Resultado:</strong> ${value} ${from.toUpperCase()} = ${result.toFixed(4)} ${to.toUpperCase()}
                    </div>
                </div>
            `;
        }

        function convertVolume() {
            const value = parseFloat(document.getElementById('volumeValue').value);
            const from = document.getElementById('volumeFrom').value;
            const to = document.getElementById('volumeTo').value;
            
            if (isNaN(value)) {
                document.getElementById('volumeResult').innerHTML = `
                    <div class="result danger">
                        <span class="result-icon">‚ö†Ô∏è</span>
                        <div><strong>Error:</strong> Por favor, ingrese un valor v√°lido.</div>
                    </div>
                `;
                return;
            }
            
            // Convertir a litros primero
            let l;
            switch (from) {
                case 'l': l = value; break;
                case 'ml': l = value / 1000; break;
                case 'oz': l = value * 0.0295735; break;
                case 'cup': l = value * 0.236588; break;
                case 'gal': l = value * 3.78541; break;
                default: l = value;
            }
            
            // Convertir de litros a la unidad deseada
            let result;
            switch (to) {
                case 'l': result = l; break;
                case 'ml': result = l * 1000; break;
                case 'oz': result = l / 0.0295735; break;
                case 'cup': result = l / 0.236588; break;
                case 'gal': result = l / 3.78541; break;
                default: result = l;
            }
            
            document.getElementById('volumeResult').innerHTML = `
                <div class="result success">
                    <span class="result-icon">üîÑ</span>
                    <div>
                        <strong>Resultado:</strong> ${value} ${from.toUpperCase()} = ${result.toFixed(4)} ${to.toUpperCase()}
                    </div>
                </div>
            `;
        }

        function savePAE() {
            const patient = document.getElementById('paePatient').value.trim();
            const diagnosis = document.getElementById('paeDiagnosis').value.trim();
            const objectives = document.getElementById('paeObjectives').value.trim();
            const interventions = document.getElementById('paeInterventions').value.trim();
            const evaluation = document.getElementById('paeEvaluation').value.trim();
            
            if (!patient || !diagnosis || !objectives || !interventions || !evaluation) {
                alert('Por favor, complete todos los campos del PAE.');
                return;
            }
            
            const newPAE = {
                id: Date.now(),
                patient,
                diagnosis,
                objectives,
                interventions,
                evaluation,
                date: new Date().toLocaleDateString('es-ES'),
                time: new Date().toLocaleTimeString('es-ES')
            };
            
            paeList.unshift(newPAE); // Agregar al inicio de la lista
            savePAEList();
            renderPAEList();
            
            // Limpiar el formulario
            document.getElementById('paePatient').value = '';
            document.getElementById('paeDiagnosis').value = '';
            document.getElementById('paeObjectives').value = '';
            document.getElementById('paeInterventions').value = '';
            document.getElementById('paeEvaluation').value = '';
            
            alert('PAE guardado correctamente.');
        }

        function deletePAE(id) {
            if (confirm('¬øEst√° seguro de que desea eliminar este PAE?')) {
                paeList = paeList.filter(pae => pae.id !== id);
                savePAEList();
                renderPAEList();
            }
        }

        function exportPAE() {
            if (paeList.length === 0) {
                alert('No hay PAEs para exportar.');
                return;
            }
            
            const exportData = JSON.stringify(paeList, null, 2);
            const blob = new Blob([exportData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `PAEs_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function renderPAEList() {
            const paeListContainer = document.getElementById('paeList');
            
            if (paeList.length === 0) {
                paeListContainer.innerHTML = `
                    <div class="no-results">
                        <span class="no-results-icon">üìã</span>
                        <h3>No hay PAEs guardados</h3>
                        <p>Cree un nuevo PAE para comenzar a documentar sus planes de cuidados.</p>
                    </div>
                `;
                return;
            }
            
            paeListContainer.innerHTML = paeList.map(pae => `
                <div class="pae-item">
                    <div class="pae-header">
                        <div>
                            <div class="pae-title">${pae.patient}</div>
                            <div class="pae-date">${pae.date} a las ${pae.time}</div>
                        </div>
                        <div class="pae-actions">
                            <button class="btn btn-sm btn-outline" onclick="deletePAE(${pae.id})">
                                <span>üóëÔ∏è</span> Eliminar
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Diagn√≥stico:</label>
                        <p>${pae.diagnosis}</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Objetivos:</label>
                        <p>${pae.objectives}</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Intervenciones:</label>
                        <p>${pae.interventions}</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Evaluaci√≥n:</label>
                        <p>${pae.evaluation}</p>
                    </div>
                </div>
            `).join('');
        }

        function savePAEList() {
            localStorage.setItem('mediguide-pae', JSON.stringify(paeList));
        }

        function loadPAEList() {
            const saved = localStorage.getItem('mediguide-pae');
            if (saved) {
                try {
                    paeList = JSON.parse(saved);
                    renderPAEList();
                } catch (e) {
                    console.error('Error al cargar PAEs:', e);
                }
            }
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('mediguide-theme');
            if (savedTheme) {
                currentTheme = savedTheme;
                if (currentTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                    document.querySelector('.theme-icon').textContent = 'üåô';
                }
            }
        }

        function globalSearch() {
            const query = document.getElementById('globalSearch').value.trim();
            if (!query) {
                alert('Por favor, ingrese un t√©rmino de b√∫squeda.');
                return;
            }
            
            // Buscar en todas las categor√≠as
            const diseaseResults = searchItems(query, diseases, ['name', 'symptoms', 'diagnosis', 'treatment', 'category']);
            const medicationResults = searchItems(query, medications, ['name', 'indications', 'dosage', 'contraindications', 'sideEffects', 'interactions', 'category']);
            const protocolResults = searchItems(query, protocols, ['name', 'steps', 'notes', 'category']);
            
            // Mostrar resultados
            if (diseaseResults.length > 0 || medicationResults.length > 0 || protocolResults.length > 0) {
                let resultsHtml = `<h2>Resultados de b√∫squeda para "${query}"</h2>`;
                
                if (diseaseResults.length > 0) {
                    resultsHtml += '<h3 style="margin-top: 1.5rem; color: var(--primary-color);">Enfermedades</h3>';
                    resultsHtml += '<div class="grid">';
                    resultsHtml += diseaseResults.slice(0, 3).map(disease => `
                        <div class="content-card">
                            <div class="card-body">
                                <h3 class="card-title-sm">${disease.name}</h3>
                                <p class="card-text"><strong>S√≠ntomas:</strong> ${disease.symptoms.slice(0, 3).join(', ')}${disease.symptoms.length > 3 ? '...' : ''}</p>
                                <p class="card-text"><strong>Diagn√≥stico:</strong> ${disease.diagnosis.substring(0, 100)}${disease.diagnosis.length > 100 ? '...' : ''}</p>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
                                    <span class="badge badge-primary">${disease.category}</span>
                                    <span class="badge badge-${disease.severity === 'Alto' ? 'danger' : disease.severity === 'Moderado' ? 'warning' : 'success'}">
                                        ${disease.severity}
                                    </span>
                                </div>
                            </div>
                        </div>
                    `).join('');
                    resultsHtml += '</div>';
                }
                
                if (medicationResults.length > 0) {
                    resultsHtml += '<h3 style="margin-top: 2rem; color: var(--primary-color);">Medicamentos</h3>';
                    resultsHtml += '<div class="grid">';
                    resultsHtml += medicationResults.slice(0, 3).map(medication => `
                        <div class="content-card">
                            <div class="card-body">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                                    <h3 class="card-title-sm">${medication.name}</h3>
                                    ${medication.controlledSubstance ? 
                                        '<span class="badge badge-danger">Controlado</span>' : 
                                        `<span class="badge badge-success">Cat. ${medication.pregnancyCategory}</span>`
                                    }
                                </div>
                                <p class="card-text"><strong>Categor√≠a:</strong> ${medication.category}</p>
                                <p class="card-text"><strong>Indicaciones:</strong> ${medication.indications.slice(0, 2).join(', ')}${medication.indications.length > 2 ? '...' : ''}</p>
                                <p class="card-text"><strong>Dosificaci√≥n:</strong> ${medication.dosage}</p>
                                <span class="badge badge-primary">${medication.category}</span>
                            </div>
                        </div>
                    `).join('');
                    resultsHtml += '</div>';
                }
                
                if (protocolResults.length > 0) {
                    resultsHtml += '<h3 style="margin-top: 2rem; color: var(--primary-color);">Protocolos</h3>';
                    resultsHtml += '<div class="grid">';
                    resultsHtml += protocolResults.slice(0, 3).map(protocol => `
                        <div class="content-card">
                            <div class="card-body">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                                    <h3 class="card-title-sm">${protocol.name}</h3>
                                    <span class="badge badge-${protocol.severity === 'Cr√≠tico' ? 'danger' : 'warning'}">
                                        ${protocol.severity}
                                    </span>
                                </div>
                                <p class="card-text"><strong>Categor√≠a:</strong> ${protocol.category}</p>
                                <p class="card-text"><strong>Pasos:</strong></p>
                                <ol style="margin-left: 1.5rem; margin-bottom: 1rem;">
                                    ${protocol.steps.slice(0, 2).map(step => `<li>${step.substring(0, 50)}${step.length > 50 ? '...' : ''}</li>`).join('')}
                                    ${protocol.steps.length > 2 ? '<li>...</li>' : ''}
                                </ol>
                                <span class="badge badge-primary">${protocol.category}</span>
                            </div>
                        </div>
                    `).join('');
                    resultsHtml += '</div>';
                }
                
                // Crear un modal para mostrar los resultados
                const modal = document.createElement('div');
                modal.style.position = 'fixed';
                modal.style.top = '0';
                modal.style.left = '0';
                modal.style.width = '100%';
                modal.style.height = '100%';
                modal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
                modal.style.display = 'flex';
                modal.style.justifyContent = 'center';
                modal.style.alignItems = 'center';
                modal.style.zIndex = '1000';
                modal.style.overflowY = 'auto';
                modal.style.padding = '1rem';
                
                modal.innerHTML = `
                    <div style="background: var(--card-bg); border-radius: 12px; padding: 2rem; max-width: 900px; max-height: 90vh; overflow-y: auto; width: 90%; box-shadow: var(--shadow-lg);">
                        ${resultsHtml}
                        <div style="text-align: center; margin-top: 1.5rem;">
                            <button id="closeSearchModal" class="btn btn-primary">Cerrar</button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                document.getElementById('closeSearchModal').addEventListener('click', () => {
                    document.body.removeChild(modal);
                });
            } else {
                alert('No se encontraron resultados para su b√∫squeda.');
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Cargar datos iniciales
            renderDiseaseResults(diseases);
            renderMedicationResults(medications);
            renderProtocolResults(protocols);
            loadPAEList();
            loadTheme();
            
            // Navegaci√≥n
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);
                });
            });
            
            // Men√∫ m√≥vil
            document.querySelector('#mobileMenuBtn').addEventListener('click', toggleMobileMenu);
            
            // Alternar tema
            document.querySelector('#themeToggle').addEventListener('click', toggleTheme);
            
            // B√∫squeda global
            document.getElementById('searchBtn').addEventListener('click', globalSearch);
            document.getElementById('globalSearch').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    globalSearch();
                }
            });
            
            // B√∫squeda en secciones espec√≠ficas
            document.getElementById('diseaseSearch').addEventListener('input', function() {
                const query = this.value;
                const results = searchItems(query, diseases, ['name', 'symptoms', 'diagnosis', 'treatment', 'category']);
                renderDiseaseResults(results);
            });
            
            document.getElementById('medicationSearch').addEventListener('input', function() {
                const query = this.value;
                const results = searchItems(query, medications, ['name', 'indications', 'dosage', 'contraindications', 'sideEffects', 'interactions', 'category']);
                renderMedicationResults(results);
            });
            
            document.getElementById('protocolSearch').addEventListener('input', function() {
                const query = this.value;
                const results = searchItems(query, protocols, ['name', 'steps', 'notes', 'category']);
                renderProtocolResults(results);
            });
            
            // Calculadoras
            document.getElementById('calculateBMI').addEventListener('click', calculateBMI);
            document.getElementById('calculateDose').addEventListener('click', calculateDose);
            document.getElementById('calculateGCS').addEventListener('click', calculateGCS);
            document.getElementById('calculateApgar').addEventListener('click', calculateApgar);
            document.getElementById('calculateVitals').addEventListener('click', calculateVitals);
            
            // Conversi√≥n de unidades
            document.getElementById('convertWeight').addEventListener('click', convertWeight);
            document.getElementById('convertLength').addEventListener('click', convertLength);
            document.getElementById('convertVolume').addEventListener('click', convertVolume);
            
            // PAE
            document.getElementById('savePAE').addEventListener('click', savePAE);
            document.getElementById('exportPAE').addEventListener('click', exportPAE);
            
            // Tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remover clase active de todos los tabs y contenidos
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // A√±adir clase active al tab clickeado
                    this.classList.add('active');
                    
                    // Mostrar el contenido correspondiente
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Manejo del historial del navegador
            window.addEventListener('popstate', function() {
                const hash = window.location.hash.substring(1);
                if (hash) {
                    showSection(hash);
                }
            });
            
            // Mostrar secci√≥n inicial basada en el hash
            const hash = window.location.hash.substring(1);
            if (hash) {
                showSection(hash);
            }
            
            // Inicializar con la primera secci√≥n activa si no hay hash
            if (!hash) {
                showSection('dashboard');
            }
        });

        // Manejo de errores
        window.addEventListener('error', function(e) {
            console.error('Error en la aplicaci√≥n:', e.error);
        });
    </script>
</body>
</html>
