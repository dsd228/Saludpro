<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Plataforma Educativa Médica Avanzada - Curaciones, Especialidades Clínicas y Simulaciones">
    <title>EduMed · Plataforma Avanzada de Educación Clínica</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary: #059669;
            --secondary-dark: #047857;
            --accent: #f97316;
            --accent-dark: #ea580c;
            --text: #1e293b;
            --text-light: #64748b;
            --text-lighter: #94a3b8;
            --bg: #f8fafc;
            --bg-light: #ffffff;
            --bg-dark: #0f172a;
            --glass: rgba(255, 255, 255, 0.8);
            --glass-2: rgba(255, 255, 255, 0.9);
            --border: #e2e8f0;
            --border-light: #cbd5e1;
            --border-dark: #1e293b;
            --muted: #64748b;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --gradient-primary: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            --gradient-secondary: linear-gradient(135deg, #059669 0%, #047857 100%);
            --gradient-accent: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --radius: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;
            --spacing: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 2.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Roboto', 'Open Sans', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            transition: var(--transition);
        }

        body.dark-theme {
            --text: #e2e8f0;
            --text-light: #94a3b8;
            --text-lighter: #64748b;
            --bg: #0f172a;
            --bg-light: #1e293b;
            --bg-dark: #0f172a;
            --glass: rgba(30, 41, 59, 0.8);
            --glass-2: rgba(30, 41, 59, 0.9);
            --border: #334155;
            --border-light: #475569;
            --border-dark: #1e293b;
            --muted: #94a3b8;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Header Styles */
        header {
            background-color: var(--bg-light);
            padding: 1rem 2rem;
            box-shadow: var(--shadow-sm);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: 700;
            text-decoration: none;
        }

        .brand-icon {
            color: var(--primary);
        }

        /* Search Styles */
        .search-container {
            flex: 1;
            max-width: 500px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem;
            padding-left: 2.5rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background-color: var(--bg-light);
            color: var(--text);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            margin-top: 0.25rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .suggestion-item {
            padding: 16px 24px;
            cursor: pointer;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-light);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .suggestion-item:hover {
            background: var(--accent-2);
            color: white;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .suggestion-item i {
            color: var(--muted);
            font-size: 1.1rem;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background-color: var(--bg-light);
            border-right: 1px solid var(--border);
            padding: 1rem;
            position: fixed;
            top: 70px;
            left: 0;
            bottom: 0;
            overflow-y: auto;
            transform: translateX(0);
            transition: var(--transition);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-right: 1px solid var(--border);
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0;
            margin-bottom: 1rem;
            color: var(--primary);
            font-weight: 600;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 0.5rem;
        }

        .cat-btn {
            width: 100%;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border: none;
            border-radius: var(--radius);
            background-color: var(--bg-light);
            border: 1px solid var(--border);
            text-align: left;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text);
        }

        .cat-btn:hover {
            background-color: rgba(37, 99, 235, 0.1);
            border-color: var(--primary);
        }

        .cat-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .cat-btn i {
            font-size: 1.2rem;
        }

        .cat-btn span {
            font-weight: 500;
        }

        /* Main Content */
        main {
            flex: 1;
            margin-left: 280px;
            margin-top: 70px;
            padding: 2rem;
            min-height: calc(100vh - 70px);
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .page-description {
            color: var(--text-light);
            font-size: 1rem;
        }

        /* Content Cards */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            padding: 1.25rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-icon {
            font-size: 1.5rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .card-body {
            padding: 1.5rem;
        }

        .card-content {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .steps-list {
            list-style: none;
        }

        .steps-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .steps-list li:before {
            content: "";
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
            margin-top: 0.6rem;
        }

        .notes {
            background-color: rgba(249, 115, 22, 0.1);
            border-left: 4px solid var(--accent);
            padding: 1rem;
            border-radius: 0 4px 4px 0;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .notes i {
            color: var(--accent);
            margin-right: 0.5rem;
        }

        /* Chatbot Styles */
        .chatbot-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transition: var(--transition);
            font-size: 1.5rem;
            border: none;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
        }

        .chatbot-container {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            display: none;
            z-index: 999;
            border: 1px solid var(--border);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .chatbot-container.open {
            display: flex;
            flex-direction: column;
            transform: translateY(0);
            opacity: 1;
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-title {
            font-weight: 500;
            font-size: 1.1rem;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-chat:hover {
            transform: scale(1.2);
        }

        .chatbot-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 18px;
            line-height: 1.5;
        }

        .message.user {
            align-self: flex-end;
            background-color: var(--primary);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.bot {
            align-self: flex-start;
            background-color: var(--border-light);
            color: var(--text);
            border-bottom-left-radius: 4px;
        }

        .typing-indicator {
            display: none;
            padding: 0.75rem 1rem;
            align-self: flex-start;
        }

        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--text-light);
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }

        .chatbot-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid var(--border);
            background-color: var(--bg-light);
        }

        .chatbot-input input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border);
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
            background-color: var(--bg-light);
            color: var(--text);
        }

        .chatbot-input button {
            margin-left: 0.5rem;
            padding: 0.75rem 1rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: var(--transition);
        }

        .chatbot-input button:hover {
            background-color: var(--primary-dark);
        }

        .disclaimer {
            font-size: 0.75rem;
            color: var(--text-light);
            text-align: center;
            padding: 0.5rem;
            font-style: italic;
        }

        .clear-history {
            width: 100%;
            padding: 0.5rem;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .clear-history:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .sidebar {
                width: 240px;
            }
            main {
                margin-left: 240px;
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            .sidebar.open {
                transform: translateX(0);
            }
            main {
                margin-left: 0;
                padding: 1.5rem;
            }
            .content-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 1rem;
            }
            .search-container {
                flex: 1;
            }
            .brand {
                font-size: 1.2rem;
            }
            .page-title {
                font-size: 1.5rem;
            }
            .chatbot-toggle {
                width: 55px;
                height: 55px;
                bottom: 20px;
                right: 20px;
            }
            .chatbot-container {
                width: 300px;
                bottom: 80px;
                right: 20px;
            }
        }

        @media (max-width: 576px) {
            .container {
                flex-direction: column;
            }
            header {
                flex-wrap: wrap;
            }
            .search-container {
                width: 100%;
            }
            main {
                padding: 1rem;
            }
            .content-grid {
                grid-template-columns: 1fr;
            }
            .chatbot-toggle {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            .chatbot-container {
                width: 280px;
            }
        }

        /* User Profile */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .user-profile:hover {
            background-color: rgba(37, 99, 235, 0.1);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-info {
            display: none;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .user-role {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: 1px solid var(--border);
            padding: 0.5rem;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background-color: var(--border-light);
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: 1px solid var(--border);
            padding: 0.5rem;
            border-radius: var(--radius);
            cursor: pointer;
        }

        .mobile-menu-btn:hover {
            background-color: var(--border-light);
        }

        @media (max-width: 992px) {
            .mobile-menu-btn {
                display: block;
            }
            .user-profile, .theme-toggle {
                display: none;
            }
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 80px;
            right: 30px;
            padding: 1rem 1.5rem;
            background-color: var(--secondary);
            color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateX(120%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background-color: var(--secondary);
        }

        .notification.error {
            background-color: #d32f2f;
        }

        .notification.warning {
            background-color: var(--accent);
        }

        .notification-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 0.5rem;
        }

        /* Loading Spinner */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-light);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--border);
        }

        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        /* Procedure Detail */
        .procedure-detail {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .procedure-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .procedure-icon {
            font-size: 2rem;
            color: var(--primary);
        }

        .procedure-title {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 700;
        }

        .procedure-summary {
            font-style: italic;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-size: 1.2rem;
            color: var(--primary);
            margin: 1.5rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .materials-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .material-tag {
            background-color: rgba(37, 99, 235, 0.1);
            color: var(--primary);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .visual-references {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .visual-item {
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .visual-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .visual-caption {
            padding: 0.75rem;
            background-color: var(--bg-light);
            font-size: 0.9rem;
        }

        .source-reference {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .source-reference a {
            color: var(--primary);
            text-decoration: none;
        }

        .source-reference a:hover {
            text-decoration: underline;
        }

        /* Medication Card */
        .medication-card {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .medication-header {
            padding: 1.25rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .medication-name {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .medication-class {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .medication-body {
            padding: 1.5rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-weight: 500;
        }

        .interaction-warning {
            padding: 1rem;
            border-radius: var(--radius);
            margin-bottom: 1rem;
            border: 1px solid;
            display: flex;
            gap: 0.75rem;
        }

        .interaction-warning.severe {
            background-color: rgba(249, 115, 22, 0.1);
            border-color: var(--accent);
            color: var(--accent);
        }

        .interaction-warning.moderate {
            background-color: rgba(255, 193, 7, 0.1);
            border-color: #ffc107;
            color: #ffc107;
        }

        .interaction-warning.minor {
            background-color: rgba(16, 185, 129, 0.1);
            border-color: var(--secondary);
            color: var(--secondary);
        }

        /* Resource Grid */
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .resource-card {
            background-color: var(--bg-light);
            border-radius: var(--radius);
            padding: 1rem;
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .resource-card h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .resource-card p {
            color: var(--text-light);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .resource-card a {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .resource-card a:hover {
            text-decoration: underline;
        }

        /* Simulator */
        .simulator-container {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .vitals-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .vital-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1.5rem;
            border-radius: var(--radius);
            text-align: center;
        }

        .vital-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }

        .vital-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .simulator-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .simulator-btn {
            padding: 0.75rem 1.5rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .simulator-btn:hover {
            background-color: var(--primary-dark);
        }

        .simulator-btn.secondary {
            background-color: var(--secondary);
        }

        .simulator-btn.secondary:hover {
            background-color: var(--secondary-dark);
        }

        /* Category Cards */
        .category-card {
            background: var(--glass-2);
            border-radius: 24px;
            padding: 32px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .category-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 16px;
        }

        .category-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .category-description {
            color: var(--text-light);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Protocol Styles */
        .protocol-container {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .protocol-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .protocol-icon {
            font-size: 2rem;
            color: var(--primary);
        }

        .protocol-title {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 700;
        }

        .protocol-summary {
            font-style: italic;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .protocol-steps {
            margin: 1.5rem 0;
        }

        .protocol-step {
            padding: 12px 16px;
            margin-bottom: 8px;
            background: var(--glass);
            border-radius: 8px;
            border: 1px solid var(--border-light);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .step-number {
            background: var(--primary);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .protocol-evidence {
            margin: 16px 0;
            padding: 16px;
            background: rgba(5, 150, 105, 0.1);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
        }

        .evidence-item {
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .evidence-item:last-child {
            margin-bottom: 0;
        }

        .evidence-item i {
            color: var(--accent);
            margin-top: 4px;
            font-size: 0.9rem;
        }

        /* Disease Card */
        .disease-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }

        .disease-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .disease-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }

        .disease-prevalence {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(37, 99, 235, 0.1);
            padding: 4px 8px;
            border-radius: 8px;
        }

        .disease-description {
            color: var(--text-light);
            margin-bottom: 16px;
        }

        .disease-symptoms {
            margin: 16px 0;
            padding: 16px;
            background: rgba(37, 99, 235, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .disease-treatment {
            margin: 16px 0;
            padding: 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .disease-prognosis {
            margin: 16px 0;
            padding: 16px;
            background: rgba(220, 38, 38, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }

        .disease-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
        }

        /* Image Gallery */
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .image-item {
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border-light);
        }

        .image-caption {
            padding: 12px;
            background-color: var(--bg-light);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-light);
        }

        .image-subtitle {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-top: 4px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-light);
            margin-bottom: 24px;
        }

        .tab {
            padding: 16px 24px;
            cursor: pointer;
            color: var(--muted);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* External Links */
        .external-links {
            margin: 20px 0;
            padding: 16px;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }

        .external-links h3 {
            color: var(--primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .external-links a {
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .external-links a:hover {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
        }

        .external-links i {
            font-size: 1.1rem;
        }

        /* Interaction Warnings */
        .interaction-warning {
            margin: 16px 0;
            padding: 16px;
            border-radius: 16px;
            font-size: 1.05rem;
            border: 1px solid;
            box-shadow: var(--shadow-sm);
        }

        .interaction-warning.severe {
            background: rgba(220, 38, 38, 0.15);
            border-color: rgba(220, 38, 38, 0.3);
            color: #dc2626;
        }

        .interaction-warning.moderate {
            background: rgba(251, 146, 60, 0.15);
            border-color: rgba(251, 146, 60, 0.3);
            color: #fb923c;
        }

        .interaction-warning.minor {
            background: rgba(16, 185, 129, 0.15);
            border-color: rgba(16, 185, 129, 0.3);
            color: #10b981;
        }

        .interaction-mechanism {
            margin: 8px 0;
            padding-left: 24px;
            position: relative;
        }

        .interaction-mechanism:before {
            content: "•";
            position: absolute;
            left: 8px;
            color: var(--muted);
        }

        .interaction-recommendation {
            margin: 8px 0;
            padding-left: 24px;
            position: relative;
            font-weight: 500;
        }

        .interaction-recommendation:before {
            content: "→";
            position: absolute;
            left: 8px;
            color: var(--primary);
        }

        /* RCP Styles */
        .rcp-container {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .rcp-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .rcp-step {
            background: var(--glass);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid var(--border-light);
            text-align: center;
        }

        .rcp-step-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .rcp-step-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .rcp-step-description {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .rcp-visuals {
            margin: 20px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .rcp-visuals img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 8px 0;
        }

        /* Infection Card */
        .infection-card {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 20px;
            margin: 16px 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }

        .infection-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .infection-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--accent);
        }

        .infection-type {
            font-size: 0.9rem;
            color: var(--muted);
            background: rgba(220, 38, 38, 0.1);
            padding: 4px 8px;
            border-radius: 8px;
        }

        .infection-symptoms {
            margin: 16px 0;
            padding: 16px;
            background: rgba(220, 38, 38, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }

        .infection-treatment {
            margin: 16px 0;
            padding: 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        /* Evaluation Styles */
        .quiz-container {
            background-color: var(--bg-light);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .quiz-header {
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .quiz-title {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .quiz-info {
            color: var(--text-light);
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .quiz-meta {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.9rem;
        }

        .quiz-question {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.5rem;
        }

        .option {
            padding: 0.75rem 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .option:hover {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.05);
        }

        .option.selected {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.1);
        }

        .option.correct {
            border-color: var(--secondary);
            background-color: rgba(5, 150, 105, 0.1);
        }

        .option.incorrect {
            border-color: #dc2626;
            background-color: rgba(220, 38, 38, 0.1);
        }

        .option-letter {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .option.selected .option-letter {
            background-color: var(--primary);
            color: white;
        }

        .option.correct .option-letter {
            background-color: var(--secondary);
            color: white;
        }

        .option.incorrect .option-letter {
            background-color: #dc2626;
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }

        .quiz-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .quiz-btn.primary {
            background-color: var(--primary);
            color: white;
        }

        .quiz-btn.primary:hover {
            background-color: var(--primary-dark);
        }

        .quiz-btn.secondary {
            background-color: var(--border-light);
            color: var(--text);
        }

        .quiz-btn.secondary:hover {
            background-color: var(--border);
        }

        .progress-container {
            margin: 1rem 0;
            padding: 1rem;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--border-light);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .results-container {
            text-align: center;
            padding: 2rem;
        }

        .results-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .score-display {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            margin: 1rem 0;
        }

        .results-feedback {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .results-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Loading Styles */
        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
            text-align: center;
        }

        .loading-text {
            margin-top: 1rem;
            color: var(--text-light);
            font-size: 1.1rem;
        }

        /* Visual Content */
        .visual-content {
            margin: 20px 0;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border-light);
        }

        .visual-content img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .visual-caption {
            padding: 12px;
            background-color: var(--bg-light);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-light);
        }

        .visual-subtitle {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-top: 4px;
        }

        /* Resource Links */
        .resource-links {
            margin: 20px 0;
        }

        .resource-link {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            margin-bottom: 8px;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            text-decoration: none;
            color: var(--text);
            transition: var(--transition);
        }

        .resource-link:hover {
            transform: translateX(4px);
            border-color: var(--primary);
            background: var(--glass-2);
        }

        .resource-link-icon {
            color: var(--primary);
            font-size: 1.2rem;
            margin-right: 12px;
            min-width: 24px;
            text-align: center;
        }

        .resource-link-text {
            flex: 1;
        }

        .resource-link-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .resource-link-org {
            font-size: 0.85rem;
            color: var(--muted);
        }

        .resource-link-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .resource-link-type {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Login Modal */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: modalFadeIn 0.4s ease;
        }

        .login-content {
            background: var(--glass);
            border-radius: 24px;
            padding: 40px;
            width: 100%;
            max-width: 500px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
        }

        .login-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .login-header h2 {
            color: var(--primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .login-header p {
            color: var(--text-light);
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .login-form label {
            color: var(--text-light);
            font-weight: 500;
        }

        .login-form input {
            padding: 16px 20px;
            border: 1px solid var(--border-light);
            border-radius: 16px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.08);
            color: var(--text);
        }

        .login-form button {
            margin-top: 8px;
            padding: 16px 24px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            box-shadow: var(--shadow-md);
        }

        .login-form button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Notification Styles */
        .notification-container {
            position: fixed;
            top: 80px;
            right: 30px;
            z-index: 1000;
        }

        .notification {
            position: relative;
            padding: 16px 24px;
            margin-bottom: 8px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            transform: translateX(120%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: rgba(5, 150, 105, 0.22);
            border: 1px solid rgba(5, 150, 105, 0.38);
            color: var(--secondary);
        }

        .notification.error {
            background: rgba(220, 38, 38, 0.22);
            border: 1px solid rgba(220, 38, 38, 0.38);
            color: #dc2626;
        }

        .notification.warning {
            background: rgba(249, 115, 22, 0.22);
            border: 1px solid rgba(249, 115, 22, 0.38);
            color: var(--accent);
        }

        .notification.info {
            background: rgba(37, 99, 235, 0.22);
            border: 1px solid rgba(37, 99, 235, 0.38);
            color: var(--primary);
        }

        .notification-icon {
            font-size: 1.5rem;
        }

        .notification-content {
            flex: 1;
        }

        .close-notification {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--muted);
            padding: 4px;
        }

        .close-notification:hover {
            color: white;
        }

        /* Simulator Styles */
        .simulator-container {
            background: var(--glass-2);
            border-radius: 18px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-md);
        }

        .simulator-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .simulator-icon {
            font-size: 1.8rem;
            color: var(--primary);
        }

        .simulator-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .vitals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .vital-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 16px;
            border-radius: 12px;
            text-align: center;
        }

        .vital-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 4px;
        }

        .vital-value {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .vital-unit {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .simulator-controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 24px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .control-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .control-btn.secondary {
            background: var(--secondary);
        }

        .control-btn.secondary:hover {
            background: var(--secondary-dark);
        }

        .scenario-selector {
            margin: 16px 0;
            padding: 16px;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }

        .scenario-title {
            font-weight: 500;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .scenario-options {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .scenario-btn {
            padding: 8px 16px;
            background: var(--border-light);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .scenario-btn:hover {
            background: var(--border);
        }

        .scenario-btn.active {
            background: var(--primary);
            color: white;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .vitals-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }
            
            .simulator-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (max-width: 480px) {
            .vitals-grid {
                grid-template-columns: 1fr;
            }
            
            .simulator-controls {
                flex-direction: column;
            }
            
            .control-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="brand">
            <i class="fas fa-heartbeat brand-icon"></i>
            <span>EduMed</span>
        </div>
        
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="searchInput" class="search-input" placeholder="Buscar procedimientos, medicamentos, enfermedades, protocolos...">
            <div id="searchSuggestions" class="search-suggestions"></div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <button id="mobileMenuBtn" class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <div class="user-profile">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <div class="user-name">Dr. Juan Díaz</div>
                    <div class="user-role">Médico Residente</div>
                </div>
            </div>
            <button id="themeToggle" class="theme-toggle">
                <i class="fas fa-palette"></i>
            </button>
        </div>
    </header>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-th-large"></i>
                <h3>Funcionalidades</h3>
            </div>
            
            <button class="cat-btn active" data-cat="emergencias">
                <i class="fas fa-ambulance"></i>
                <span>Emergencias Médicas</span>
            </button>
            <button class="cat-btn" data-cat="farmacologia">
                <i class="fas fa-pills"></i>
                <span>Farmacología</span>
            </button>
            <button class="cat-btn" data-cat="cardiologia">
                <i class="fas fa-heart-pulse"></i>
                <span>Cardiología</span>
            </button>
            <button class="cat-btn" data-cat="neumologia">
                <i class="fas fa-lungs"></i>
                <span>Neumología</span>
            </button>
            <button class="cat-btn" data-cat="endocrinologia">
                <i class="fas fa-brain"></i>
                <span>Endocrinología</span>
            </button>
            <button class="cat-btn" data-cat="neurologia">
                <i class="fas fa-head-side-brain"></i>
                <span>Neurología</span>
            </button>
            <button class="cat-btn" data-cat="oncologia">
                <i class="fas fa-dna"></i>
                <span>Oncología</span>
            </button>
            <button class="cat-btn" data-cat="nephrologia">
                <i class="fas fa-kidneys"></i>
                <span>Nefrología</span>
            </button>
            <button class="cat-btn" data-cat="gastroenterologia">
                <i class="fas fa-stomach"></i>
                <span>Gastroenterología</span>
            </button>
            <button class="cat-btn" data-cat="reumatologia">
                <i class="fas fa-bone"></i>
                <span>Reumatología</span>
            </button>
            <button class="cat-btn" data-cat="nutricion">
                <i class="fas fa-apple-alt"></i>
                <span>Nutrición Clínica</span>
            </button>
            <button class="cat-btn" data-cat="infecciones">
                <i class="fas fa-virus"></i>
                <span>Control de Infecciones</span>
            </button>
            <button class="cat-btn" data-cat="movilizacion">
                <i class="fas fa-wheelchair"></i>
                <span>Movilización Pacientes</span>
            </button>
            <button class="cat-btn" data-cat="rcp">
                <i class="fas fa-heartbeat"></i>
                <span>RCP Integral</span>
            </button>
            <button class="cat-btn" data-cat="recursos">
                <i class="fas fa-book-open"></i>
                <span>Recursos Educativos</span>
            </button>
            <button class="cat-btn" data-cat="simulador">
                <i class="fas fa-vr-cardboard"></i>
                <span>Simulador de Signos Vitales</span>
            </button>
            <button class="cat-btn" data-cat="evaluacion">
                <i class="fas fa-clipboard-check"></i>
                <span>Evaluación y Exámenes</span>
            </button>
        </aside>

        <!-- Main Content -->
        <main id="mainContent">
            <div class="page-header">
                <h1 class="page-title">
                    <i class="fas fa-ambulance"></i>
                    Emergencias Médicas
                </h1>
                <p class="page-description">Protocolos y procedimientos para manejo de emergencias médicas</p>
            </div>

            <div id="loading" class="loading">
                <div class="spinner"></div>
                <div class="loading-text">Cargando contenido médico...</div>
            </div>

            <div id="contentArea">
                <!-- Emergency Content -->
                <div class="content-grid">
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-heart-pulse card-icon"></i>
                            <h3 class="card-title">Infarto Agudo de Miocardio</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-content">Protocolo de manejo del infarto agudo de miocardio con elevación del segmento ST (IAMCEST).</p>
                            <ul class="steps-list">
                                <li>Confirmación diagnóstica con ECG de 12 derivaciones</li>
                                <li>Establecer acceso venoso periférico</li>
                                <li>Administrar aspirina 162-325 mg masticable</li>
                                <li>Administrar clopidogrel 600 mg o ticagrelor 180 mg</li>
                                <li>Activación del código infarto</li>
                            </ul>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Nota:</strong> El tiempo es músculo. El objetivo es puerta-balón &lt;90 minutos.
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-bolt card-icon"></i>
                            <h3 class="card-title">Manejo de Convulsiones</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-content">Protocolo para el manejo de convulsiones agudas.</p>
                            <ul class="steps-list">
                                <li>Protección del paciente durante la convulsión</li>
                                <li>Soporte de vía aérea</li>
                                <li>Monitorización de signos vitales</li>
                                <li>Acceso venoso</li>
                                <li>Administración de benzodiacepinas (lorazepam)</li>
                            </ul>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Nota:</strong> No colocar objetos en la boca. Posición lateral de seguridad después de la convulsión.
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-procedures card-icon"></i>
                            <h3 class="card-title">Asma Aguda</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-content">Protocolo para el manejo del asma aguda en el servicio de urgencias.</p>
                            <ul class="steps-list">
                                <li>Evaluación inicial de la severidad del ataque</li>
                                <li>Administrar broncodilatadores de acción rápida (salbutamol)</li>
                                <li>Administrar corticosteroides sistémicos (prednisona)</li>
                                <li>Oxigenoterapia para mantener saturación >90%</li>
                                <li>Monitoreo continuo de signos vitales</li>
                            </ul>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Nota:</strong> Escalar tratamiento según respuesta. Evaluar necesidad de hospitalización.
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-user-injured card-icon"></i>
                            <h3 class="card-title">Sepsis</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-content">Respuesta sistémica desregulada a la infección.</p>
                            <ul class="steps-list">
                                <li>Antibióticos empíricos inmediatos</li>
                                <li>Reanimación con fluidos</li>
                                <li>Soporte hemodinámico</li>
                                <li>Fuente control</li>
                                <li>Soporte de órganos</li>
                            </ul>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Nota:</strong> Mortalidad 15-30%. Mejora con intervención temprana (&lt;1 hora).
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-brain card-icon"></i>
                            <h3 class="card-title">Ictus Isquémico</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-content">Manejo agudo del ictus isquémico con ventana terapéutica.</p>
                            <ul class="steps-list">
                                <li>Confirmación diagnóstica con TC cerebral</li>
                                <li>Evaluar ventana terapéutica para trombólisis</li>
                                <li>Monitorización neurológica continua</li>
                                <li>Control de factores de riesgo</li>
                                <li>Prevención de complicaciones</li>
                            </ul>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Nota:</strong> Tiempo es cerebro. Evaluación inmediata y manejo agresivo.
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-lungs card-icon"></i>
                            <h3 class="card-title">EPOC Aguda</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-content">Manejo de la exacerbación aguda de la enfermedad pulmonar obstructiva crónica.</p>
                            <ul class="steps-list">
                                <li>Evaluación inicial de la severidad</li>
                                <li>Terapia broncodilatadora</li>
                                <li>Terapia con corticosteroides</li>
                                <li>Terapia antimicrobiana si indicado</li>
                                <li>Soporte ventilatorio si necesario</li>
                            </ul>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Nota:</strong> Evitar hiperoxia. Monitorear gases arteriales.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Procedure -->
                <div class="procedure-detail">
                    <div class="procedure-header">
                        <i class="fas fa-heart-pulse procedure-icon"></i>
                        <h2 class="procedure-title">Infarto Agudo de Miocardio</h2>
                    </div>
                    <p class="procedure-summary">Protocolo de manejo del infarto agudo de miocardio con elevación del segmento ST (IAMCEST).</p>
                    
                    <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                    <div class="materials-list">
                        <span class="material-tag">Monitor cardíaco</span>
                        <span class="material-tag">Desfibrilador</span>
                        <span class="material-tag">Medicamentos antiagregantes</span>
                        <span class="material-tag">Anticoagulantes</span>
                        <span class="material-tag">Analgesia</span>
                        <span class="material-tag">Oxígeno</span>
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                    <ol class="steps-list">
                        <li><strong>Paso 1:</strong> Confirmación diagnóstica con ECG de 12 derivaciones</li>
                        <li><strong>Paso 2:</strong> Establecer acceso venoso periférico</li>
                        <li><strong>Paso 3:</strong> Administrar aspirina 162-325 mg masticable</li>
                        <li><strong>Paso 4:</strong> Administrar clopidogrel 600 mg o ticagrelor 180 mg</li>
                        <li><strong>Paso 5:</strong> Administrar heparina no fraccionada</li>
                        <li><strong>Paso 6:</strong> Administrar analgesia (morfina)</li>
                        <li><strong>Paso 7:</strong> Oxigenoterapia si saturación <90%</li>
                        <li><strong>Paso 8:</strong> Activación del código infarto</li>
                        <li><strong>Paso 9:</strong> Intervención coronaria percutánea de urgencia</li>
                    </ol>
                    
                    <div class="notes">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Recomendaciones Clave:</strong> El tiempo es músculo. El objetivo es puerta-balón <90 minutos. Monitoreo continuo de signos vitales y arritmias. Manejo agresivo de factores de riesgo cardiovascular.
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                    <div class="visual-references">
                        <div class="visual-item">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/STEMI_ECG.jpg/800px-STEMI_ECG.jpg" alt="ECG de Infarto Agudo de Miocardio" class="visual-image">
                            <div class="visual-caption">ECG de Infarto Agudo de Miocardio</div>
                        </div>
                        <div class="visual-item">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Coronary_anatomy.svg/800px-Coronary_anatomy.svg.png" alt="Anatomía Coronaria" class="visual-image">
                            <div class="visual-caption">Anatomía Coronaria</div>
                        </div>
                    </div>
                    
                    <div class="source-reference">
                        <i class="fas fa-book"></i>
                        Fuente: <a href="https://www.heart.org" target="_blank">American Heart Association / American College of Cardiology</a>
                        <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: 15 de noviembre de 2023</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-toggle" id="chatbotToggle">
        <i class="fas fa-robot fa-lg"></i>
    </div>

    <div class="chatbot-container" id="chatbot">
        <div class="chatbot-header">
            <h3 class="chatbot-title">Asistente Médico Virtual</h3>
            <button id="closeChatbot" class="close-chat">&times;</button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                ¡Hola! Soy tu asistente médico virtual. ¿En qué puedo ayudarte hoy?
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <span></span>
            <span></span>
            <span></span>
        </div>
        
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Escribe tu pregunta...">
            <button id="sendMessage"><i class="fas fa-paper-plane"></i></button>
        </div>
        
        <div class="disclaimer">
            Este asistente no proporciona diagnósticos. Consulta a un médico para problemas de salud.
        </div>
        
        <button id="clearHistory" class="clear-history">Borrar historial</button>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer">
        <!-- Notifications will be added here dynamically -->
    </div>

    <script>
        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const searchInput = document.getElementById('searchInput');
        const searchSuggestions = document.getElementById('searchSuggestions');
        const categoryButtons = document.querySelectorAll('.cat-btn');
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbot = document.getElementById('chatbot');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        const sendMessage = document.getElementById('sendMessage');
        const typingIndicator = document.getElementById('typingIndicator');
        const clearHistory = document.getElementById('clearHistory');
        const closeChatbot = document.getElementById('closeChatbot');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const themeToggle = document.getElementById('themeToggle');
        const notificationContainer = document.getElementById('notificationContainer');
        const loading = document.getElementById('loading');
        const contentArea = document.getElementById('contentArea');

        // Recent categories (for quick access)
        let recentCategories = [];

        // Medical Data
        const medicalData = {
            emergencias: {
                title: "Emergencias Médicas",
                icon: "fa-ambulance",
                description: "Protocolos y procedimientos para manejo de emergencias médicas",
                procedures: [
                    {
                        id: "iam",
                        title: "Infarto Agudo de Miocardio",
                        icon: "fa-heart-pulse",
                        summary: "Protocolo de manejo del infarto agudo de miocardio con elevación del segmento ST (IAMCEST).",
                        materials: ["Monitor cardíaco", "Desfibrilador", "Medicamentos antiagregantes", "Anticoagulantes", "Analgesia", "Oxígeno"],
                        steps: [
                            "Confirmación diagnóstica con ECG de 12 derivaciones",
                            "Establecer acceso venoso periférico",
                            "Administrar aspirina 162-325 mg masticable",
                            "Administrar clopidogrel 600 mg o ticagrelor 180 mg",
                            "Administrar heparina no fraccionada",
                            "Administrar analgesia (morfina)",
                            "Oxigenoterapia si saturación <90%",
                            "Activación del código infarto",
                            "Intervención coronaria percutánea de urgencia"
                        ],
                        notes: "El tiempo es músculo. El objetivo es puerta-balón <90 minutos. Monitoreo continuo de signos vitales y arritmias. Manejo agresivo de factores de riesgo cardiovascular.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/STEMI_ECG.jpg/800px-STEMI_ECG.jpg",
                                title: "ECG de Infarto Agudo de Miocardio",
                                description: "Patrón típico de elevación del ST en derivaciones precordiales"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Coronary_anatomy.svg/800px-Coronary_anatomy.svg.png",
                                title: "Anatomía Coronaria",
                                description: "Distribución de las arterias coronarias y áreas que irrigan"
                            }
                        ],
                        source: {
                            name: "AHA",
                            type: "who",
                            description: "American Heart Association Guidelines for STEMI Management",
                            url: "https://www.heart.org/en/professional/get-with-the-guidelines/heart-failure-guidelines"
                        },
                        lastUpdated: "2023-10-05"
                    },
                    {
                        id: "ictus",
                        title: "Ictus Isquémico",
                        icon: "fa-brain",
                        summary: "Manejo agudo del ictus isquémico con ventana terapéutica.",
                        materials: ["TC cerebral", "Monitor neurológico", "Trombolítico", "Equipo de soporte vital"],
                        steps: [
                            "Confirmación diagnóstica con TC cerebral",
                            "Evaluar ventana terapéutica para trombólisis (0-4.5 horas)",
                            "Monitorización neurológica continua",
                            "Control de factores de riesgo (PA, glucemia)",
                            "Prevención de complicaciones (aspiración, úlceras)"
                        ],
                        notes: "Tiempo es cerebro. Evaluación inmediata y manejo agresivo. Considerar trombectomía mecánica si indicado.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Stroke_pathophysiology.jpg/800px-Stroke_pathophysiology.jpg",
                                title: "Fisiopatología del Ictus",
                                description: "Mecanismos de daño cerebral en el ictus"
                            }
                        ],
                        source: {
                            name: "AHA/ASA",
                            description: "American Heart Association/American Stroke Association Guidelines",
                            url: "https://www.stroke.org"
                        },
                        lastUpdated: "2023-11-05"
                    },
                    {
                        id: "asma",
                        title: "Asma Aguda",
                        icon: "fa-lungs",
                        summary: "Protocolo para el manejo del asma aguda en el servicio de urgencias.",
                        materials: ["Broncodilatadores de acción rápida", "Corticosteroides sistémicos", "Oxígeno terapia", "Monitorización de saturación de oxígeno", "Esquema de escala de asma"],
                        steps: [
                            "Evaluación inicial de la severidad del ataque",
                            "Administrar broncodilatadores de acción rápida (salbutamol) por nebulización",
                            "Administrar corticosteroides sistémicos (prednisona)",
                            "Oxigenoterapia para mantener saturación >90%",
                            "Monitoreo continuo de signos vitales y respuesta al tratamiento",
                            "Evaluación de necesidad de hospitalización"
                        ],
                        notes: "Escalada terapéutica según respuesta. Evaluar factores desencadenantes. Educación del paciente.",
                        source: {
                            name: "GINA",
                            description: "Global Initiative for Asthma",
                            url: "https://ginasthma.org"
                        },
                        lastUpdated: "2023-10-20"
                    },
                    {
                        id: "epilepsia",
                        title: "Manejo de Convulsiones",
                        icon: "fa-bolt",
                        summary: "Protocolo para el manejo de convulsiones agudas.",
                        materials: ["Monitor cardíaco", "Oxígeno", "Medicamentos antiepilépticos intravenosos", "Protección de vía aérea", "Laboratorio de emergencia"],
                        steps: [
                            "Protección del paciente durante la convulsión",
                            "Soporte de vía aérea",
                            "Monitorización de signos vitales",
                            "Acceso venoso",
                            "Administración de benzodiacepinas (lorazepam)",
                            "Si persiste, administrar antiepiléptico de segunda línea",
                            "Investigación de causa subyacente"
                        ],
                        notes: "No colocar objetos en la boca. Posición lateral de seguridad después de la convulsión. Evaluar necesidad de intubación. Investigar causa metabólica, infecciosa o estructural.",
                        source: {
                            name: "ILAE",
                            description: "International League Against Epilepsy",
                            url: "https://ilae.org"
                        },
                        lastUpdated: "2023-09-15"
                    },
                    {
                        id: "sepsis",
                        title: "Manejo de Sepsis",
                        icon: "fa-user-injured",
                        summary: "Respuesta sistémica desregulada a la infección",
                        materials: ["Antibióticos", "Soluciones intravenosas", "Vasopresores", "Monitorización hemodinámica", "Equipo de laboratorio"],
                        steps: [
                            "Identificación temprana de criterios de sepsis",
                            "Obtención de cultivos antes de antibióticos",
                            "Antibióticos empíricos intravenosos dentro de la primera hora",
                            "Reanimación con fluidos cristaloides (30ml/kg)",
                            "Uso de vasopresores si hipotensión persistente",
                            "Soporte de órganos según necesidad"
                        ],
                        notes: "Paquete de una hora de sepsis. Monitoreo de lactato sérico. Identificación y control de fuente infecciosa.",
                        source: {
                            name: "Surviving Sepsis Campaign",
                            description: "Guías internacionales para el manejo de sepsis",
                            url: "https://www.sccm.org"
                        },
                        lastUpdated: "2023-11-10"
                    },
                    {
                        id: "epoc",
                        title: "EPOC Aguda",
                        icon: "fa-lungs",
                        summary: "Manejo de la exacerbación aguda de la enfermedad pulmonar obstructiva crónica.",
                        materials: ["Broncodilatadores", "Corticosteroides", "Antibióticos", "Oxígeno terapia", "Ventilación no invasiva"],
                        steps: [
                            "Evaluación inicial de la severidad",
                            "Terapia broncodilatadora (beta-2 agonistas, anticolinérgicos)",
                            "Terapia con corticosteroides sistémicos",
                            "Terapia antimicrobiana si indicado",
                            "Oxigenoterapia controlada (mantener SpO2 88-92%)",
                            "Soporte ventilatorio no invasivo si indicado"
                        ],
                        notes: "Evitar hiperoxia. Monitorear gases arteriales. Evaluar necesidad de ventilación mecánica.",
                        source: {
                            name: "GOLD",
                            description: "Global Initiative for Chronic Obstructive Lung Disease",
                            url: "https://goldcopd.org"
                        },
                        lastUpdated: "2023-10-05"
                    },
                    {
                        id: "paro",
                        title: "Paro Cardiorrespiratorio",
                        icon: "fa-heartbeat",
                        summary: "Manejo del paro cardiorrespiratorio según las guías más recientes.",
                        materials: ["Desfibrilador", "Equipo de intubación", "Medicamentos de paro", "Equipo de soporte vital"],
                        steps: [
                            "Verificar ausencia de respuesta y respiración",
                            "Activar código paro",
                            "Iniciar RCP con compresiones torácicas",
                            "Ventilación con balón y máscara",
                            "Desfibrilación según ritmo",
                            "Acceso venoso y administración de medicamentos",
                            "Identificar y tratar causas reversibles"
                        ],
                        notes: "Calidad de las compresiones es crucial. Evitar interrupciones. Rotar equipo cada 2 minutos.",
                        source: {
                            name: "AHA",
                            description: "American Heart Association Guidelines for CPR",
                            url: "https://cpr.heart.org"
                        },
                        lastUpdated: "2023-11-20"
                    },
                    {
                        id: "trauma",
                        title: "Trauma Mayor",
                        icon: "fa-hospital-user",
                        summary: "Algoritmo de manejo del paciente con trauma mayor.",
                        materials: ["Equipo de intubación", "Acceso venoso de gran calibre", "Equipo de toracostomía", "Equipo de fijación externa"],
                        steps: [
                            "Evaluación primaria (ABCDE)",
                            "Control de vía aérea con protección cervical",
                            "Soporte ventilatorio",
                            "Control hemodinámico",
                            "Evaluación secundaria completa",
                            "Imágenes diagnósticas (FAST, TC)",
                            "Tratamiento quirúrgico si indicado"
                        ],
                        notes: "Priorizar lesiones que amenazan la vida. Tratamiento simultáneo de múltiples lesiones. Coordinación con equipo multidisciplinario.",
                        source: {
                            name: "ATLS",
                            description: "Advanced Trauma Life Support Guidelines",
                            url: "https://www.facs.org"
                        },
                        lastUpdated: "2023-09-30"
                    }
                ],
                diseases: [
                    {
                        name: "Sepsis",
                        prevalence: "Se estima que afecta a 49 millones de personas al año a nivel mundial",
                        description: "Respuesta sistémica desregulada a la infección",
                        symptoms: ["Fiebre o hipotermia", "Taquicardia", "Taquipnea", "Leucocitosis o leucopenia", "Hipotensión"],
                        treatment: ["Antibióticos empíricos inmediatos", "Reanimación con fluidos", "Soporte hemodinámico", "Fuente control", "Soporte de órganos"],
                        prognosis: "Mortalidad 15-30%. Mejora con intervención temprana (<1 hora)."
                    },
                    {
                        name: "Anafilaxia",
                        prevalence: "Entre 0.05% y 2% de la población general",
                        description: "Reacción alérgica sistémica grave y potencialmente mortal",
                        symptoms: ["Urticaria", "Angioedema", "Dificultad respiratoria", "Hipotensión", "Náuseas/vómitos"],
                        treatment: ["Adrenalina intramuscular inmediata", "Oxigenoterapia", "Fluidos intravenosos", "Antihistamínicos", "Corticosteroides"],
                        prognosis: "Buena con tratamiento inmediato. Mortalidad baja si se trata adecuadamente."
                    },
                    {
                        name: "Intoxicación por opioides",
                        prevalence: "Un problema creciente en muchos países",
                        description: "Sobredosis de opioides con depresión respiratoria",
                        symptoms: ["Depresión respiratoria", "Miosis", "Somnolencia", "Bradipnea", "Cianosis"],
                        treatment: ["Naloxona intravenosa", "Soporte ventilatorio", "Monitoreo continuo", "Tratamiento de complicaciones"],
                        prognosis: "Bueno con tratamiento oportuno. Alto riesgo de recurrencia sin tratamiento de adicción."
                    }
                ],
                resources: [
                    {
                        title: "ACLS Guidelines",
                        description: "Guías avanzadas de vida cardíaca",
                        url: "https://cpr.heart.org/en/resuscitation-science/cpr-and-ecc-guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Emergency Medicine Cases",
                        description: "Podcast educativo de medicina de emergencias",
                        url: "https://emergencymedicinecases.com",
                        icon: "fa-podcast",
                        category: "Educación"
                    },
                    {
                        title: "EMCrit",
                        description: "Enfoque crítico en medicina de emergencias",
                        url: "https://emcrit.org",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "CDC Emergency Preparedness",
                        description: "Preparación para emergencias médicas",
                        url: "https://www.cdc.gov/emergencies",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            farmacologia: {
                title: "Farmacología",
                icon: "fa-pills",
                description: "Información completa sobre medicamentos, dosificaciones, interacciones y farmacocinética",
                medications: [
                    {
                        id: "aspirina",
                        name: "Aspirina",
                        class: "Antiagregante plaquetario",
                        indications: "Infarto agudo de miocardio, prevención secundaria cardiovascular, dolor leve a moderado",
                        dosage: "75-325 mg/día para profilaxis, 162-325 mg masticable en IAM",
                        sideEffects: ["Hemorragia gastrointestinal", "Úlcera péptica", "Asma inducida por AINE", "Tinnitus"],
                        pharmacokinetics: "Absorción rápida en tracto gastrointestinal, metabolismo hepático, vida media de 15-20 minutos (efecto antiplaquetario dura 7-10 días)",
                        warnings: "Evitar en niños con infecciones virales (síndrome de Reye), precaución en pacientes con úlcera péptica, hemorragia activa",
                        storage: "Conservar a temperatura ambiente, protegido de la humedad",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Aspirin_200mg_tablet.jpg/800px-Aspirin_200mg_tablet.jpg"
                        ],
                        sources: [
                            {
                                name: "FDA",
                                url: "https://www.fda.gov"
                            },
                            {
                                name: "UpToDate",
                                url: "https://www.uptodate.com"
                            }
                        ],
                        lastUpdated: "2023-11-20"
                    },
                    {
                        id: "clopidogrel",
                        name: "Clopidogrel",
                        class: "Antiagregante plaquetario",
                        indications: "Prevención de eventos isquémicos en pacientes con IAM, ACV, enfermedad arterial periférica",
                        dosage: "75 mg/día, carga de 300-600 mg en situaciones agudas",
                        sideEffects: ["Hemorragia", "Diarrea", "Rash", "Neutropenia"],
                        pharmacokinetics: "Pro-fármaco que requiere activación hepática por CYP2C19, efecto máximo a las 3-7 horas, vida media de 6 horas",
                        warnings: "Efectividad reducida en metabolizadores pobres de CYP2C19, precaución con otros antiagregantes/anticoagulantes",
                        storage: "Conservar a temperatura ambiente, protegido de la luz",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Clopidogrel_tablet.jpg/800px-Clopidogrel_tablet.jpg"
                        ],
                        sources: [
                            {
                                name: "FDA",
                                url: "https://www.fda.gov"
                            },
                            {
                                name: "Lexicomp",
                                url: "https://www.lexicomp.com"
                            }
                        ],
                        lastUpdated: "2023-11-18"
                    },
                    {
                        id: "metformina",
                        name: "Metformina",
                        class: "Biguanida",
                        indications: "Diabetes mellitus tipo 2, síndrome de ovario poliquístico",
                        dosage: "500-2550 mg/día en dosis divididas, inicio con 500 mg/día",
                        sideEffects: ["Náuseas", "Diarrea", "Dolor abdominal", "Pérdida de apetito", "Riesgo de acidosis láctica (raro)"],
                        pharmacokinetics: "No metabolizada, excreción renal, vida media de 6.2 horas",
                        warnings: "Contraindicada en insuficiencia renal (TFG <30 ml/min), evitar en situaciones de riesgo de acidosis láctica (shock, sepsis, insuficiencia hepática)",
                        storage: "Conservar a temperatura ambiente",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Metformin_tablets.jpg/800px-Metformin_tablets.jpg"
                        ],
                        sources: [
                            {
                                name: "FDA",
                                url: "https://www.fda.gov"
                            },
                            {
                                name: "Micromedex",
                                url: "https://www.micromedex.com"
                            }
                        ],
                        lastUpdated: "2023-11-15"
                    },
                    {
                        id: "atorvastatina",
                        name: "Atorvastatina",
                        class: "Estatinas",
                        indications: "Dislipidemia, prevención cardiovascular",
                        dosage: "10-80 mg/día",
                        contraindications: "Hipersensibilidad, enfermedad hepática activa",
                        interactions: ["Itraconazol", "Eritromicina", "Ciclosporina"],
                        sideEffects: ["Mialgia", "Elevación de transaminasas", "Diabetes"],
                        source: "FDA"
                    },
                    {
                        id: "metoprolol",
                        name: "Metoprolol",
                        class: "Betabloqueantes",
                        indications: "HTA, insuficiencia cardíaca, angina",
                        dosage: "25-200 mg/día",
                        contraindications: "Bloqueo AV grado 2-3, shock cardiogénico",
                        interactions: ["Verapamilo", "Diltiazem", "Insulina"],
                        sideEffects: ["Bradicardia", "Fatiga", "Depresión"],
                        source: "FDA"
                    }
                ],
                interactions: [
                    {
                        drugs: ["Warfarina", "Aspirina"],
                        severity: "Severe",
                        mechanism: "Aumento del riesgo de hemorragia por efectos antiplaquetarios y anticoagulantes combinados",
                        recommendation: "Evitar la combinación si es posible. Si es necesaria, monitorear INR de cerca y considerar profilaxis de protección gástrica.",
                        evidence: "Estudios clínicos han demostrado un aumento significativo del riesgo de hemorragia gastrointestinal cuando se combinan."
                    },
                    {
                        drugs: ["Simvastatina", "Itraconazol"],
                        severity: "Severe",
                        mechanism: "Itraconazol inhibe el CYP3A4, aumentando significativamente los niveles de simvastatina y el riesgo de rabdomiólisis",
                        recommendation: "Evitar la combinación. Considerar estatinas que no dependan principalmente del CYP3A4 (por ejemplo, pravastatina, rosuvastatina) si es necesario.",
                        evidence: "Reportes de casos y estudios farmacocinéticos demuestran aumentos de hasta 10 veces en las concentraciones de simvastatina."
                    },
                    {
                        drugs: ["Lorazepam", "Oxycodona"],
                        severity: "Moderate",
                        mechanism: "Efectos depresores centrales aditivos que pueden llevar a sedación excesiva, depresión respiratoria y hipotensión",
                        recommendation: "Usar con precaución y en dosis bajas. Monitorear estrechamente la función respiratoria y la sedación. Evitar en pacientes con apnea del sueño.",
                        evidence: "Estudios farmacocinéticos y clínicos muestran efectos depresores centrales aditivos cuando se combinan benzodiacepinas y opioides."
                    }
                ],
                resources: [
                    {
                        title: "Micromedex",
                        description: "Base de datos farmacológica completa",
                        url: "https://www.micromedex.com",
                        icon: "fa-database",
                        category: "Referencia"
                    },
                    {
                        title: "Lexicomp",
                        description: "Recursos farmacológicos para profesionales de la salud",
                        url: "https://www.lexicomp.com",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "DailyMed",
                        description: "Información de etiquetado de medicamentos aprobados por la FDA",
                        url: "https://dailymed.nlm.nih.gov",
                        icon: "fa-capsules",
                        category: "Pacientes"
                    },
                    {
                        title: "Epocrates",
                        description: "Aplicación de referencia farmacológica",
                        url: "https://www.epocrates.com",
                        icon: "fa-mobile-alt",
                        category: "Profesionales"
                    }
                ]
            },
            cardiologia: {
                title: "Cardiología",
                icon: "fa-heart-pulse",
                description: "Diagnóstico y tratamiento de enfermedades cardiovasculares",
                procedures: [
                    {
                        id: "iam",
                        title: "Infarto Agudo de Miocardio",
                        icon: "fa-heart-pulse",
                        summary: "Protocolo de manejo del infarto agudo de miocardio con elevación del segmento ST (IAMCEST).",
                        materials: ["Monitor cardíaco", "Desfibrilador", "Medicamentos antiagregantes", "Anticoagulantes", "Analgesia", "Oxígeno"],
                        steps: [
                            "Confirmación diagnóstica con ECG de 12 derivaciones",
                            "Establecer acceso venoso periférico",
                            "Administrar aspirina 162-325 mg masticable",
                            "Administrar clopidogrel 600 mg o ticagrelor 180 mg",
                            "Administrar heparina no fraccionada",
                            "Administrar analgesia (morfina)",
                            "Oxigenoterapia si saturación <90%",
                            "Activación del código infarto",
                            "Intervención coronaria percutánea de urgencia"
                        ],
                        notes: "El tiempo es músculo. El objetivo es puerta-balón <90 minutos. Monitoreo continuo de signos vitales y arritmias. Manejo agresivo de factores de riesgo cardiovascular.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/STEMI_ECG.jpg/800px-STEMI_ECG.jpg",
                                title: "ECG de Infarto Agudo de Miocardio",
                                description: "Patrón típico de elevación del ST en derivaciones precordiales"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Coronary_anatomy.svg/800px-Coronary_anatomy.svg.png",
                                title: "Anatomía Coronaria",
                                description: "Distribución de las arterias coronarias y áreas que irrigan"
                            }
                        ],
                        source: {
                            name: "AHA",
                            type: "who",
                            description: "American Heart Association Guidelines for STEMI Management",
                            url: "https://www.heart.org/en/professional/get-with-the-guidelines/heart-failure-guidelines"
                        },
                        lastUpdated: "2023-10-05"
                    },
                    {
                        id: "insuficiencia_cardiaca",
                        title: "Insuficiencia Cardiaca Aguda",
                        icon: "fa-procedures",
                        summary: "Manejo del paciente después de la reanimación exitosa.",
                        materials: ["Monitorización neurológica", "Ventilación mecánica", "Terapia de hipotermia", "Soporte hemodinámico", "Evaluación de causa"],
                        steps: [
                            "Optimizar ventilación y oxigenación",
                            "Mantener perfusión cerebral adecuada",
                            "Terapia de hipotermia terapéutica",
                            "Control de glucemia",
                            "Manejo de convulsiones",
                            "Evaluación neurológica serial",
                            "Investigación de causa del paro"
                        ],
                        notes: "La prevención es clave. Evaluar el riesgo con escalas validadas (Escala de Braden). Mantener la piel seca y libre de humedad. Nutrición adecuada es esencial para la cicatrización.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Bedsore_ulcer_IMG-20190219-WA0003.jpg/640px-Bedsore_ulcer_IMG-20190219-WA0003.jpg",
                                title: "Úlceras por Presión",
                                description: "Estadios de úlceras por presión"
                            }
                        ],
                        source: {
                            name: "AHA",
                            type: "who",
                            description: "American Heart Association Guidelines for Post-Cardiac Arrest Care",
                            url: "https://www.heart.org"
                        },
                        lastUpdated: "2023-11-15"
                    }
                ],
                diseases: [
                    {
                        id: "hipertension",
                        name: "Hipertensión Arterial",
                        prevalence: "Afecta al 25-30% de la población adulta mundial",
                        description: "Elevación sostenida de la presión arterial",
                        symptoms: ["Generalmente asintomática", "Cefalea", "Mareos", "Epistaxis", "Visión borrosa"],
                        treatment: ["Modificación del estilo de vida", "Diuréticos", "IECA", "ARA II", "Calcioantagonistas", "Betabloqueantes"],
                        prognosis: "Excelente con control adecuado. Reduce significativamente el riesgo de eventos cardiovasculares.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Hypertension_lifestyle_changes.jpg/800px-Hypertension_lifestyle_changes.jpg"
                        ],
                        sources: [
                            {
                                name: "WHO",
                                url: "https://www.who.int/news-room/fact-sheets/detail/hypertension"
                            },
                            {
                                name: "AHA",
                                url: "https://www.heart.org/en/health-topics/high-blood-pressure"
                            }
                        ],
                        lastUpdated: "2023-11-01"
                    },
                    {
                        id: "fibrilacion_auricular",
                        name: "Fibrilación Auricular",
                        prevalence: "La arritmia sostenida más común, afecta al 1-2% de la población",
                        description: "Arritmia cardíaca caracterizada por una contracción auricular caótica",
                        symptoms: ["Palpitaciones", "Disnea", "Fatiga", "Mareos", "Dolor torácico"],
                        treatment: ["Control de frecuencia", "Control de ritmo", "Anticoagulación", "Ablación"],
                        prognosis: "Riesgo aumentado de accidente cerebrovascular. Buen control reduce significativamente el riesgo de complicaciones.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Atrial_fibrillation_ECG_tracing.jpg/800px-Atrial_fibrillation_ECG_tracing.jpg"
                        ],
                        sources: [
                            {
                                name: "AHA",
                                url: "https://www.heart.org/en/health-topics/atrial-fibrillation"
                            },
                            {
                                name: "ESC",
                                url: "https://www.escardio.org/Guidelines/Clinical-Practice-Guidelines/Atrial-Fibrillation-Guidelines"
                            }
                        ],
                        lastUpdated: "2023-10-15"
                    }
                ],
                resources: [
                    {
                        title: "AHA Guidelines",
                        description: "Guías de la Asociación Americana del Corazón",
                        url: "https://www.heart.org/en/professional/get-with-the-guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "ESC Guidelines",
                        description: "Guías de la Sociedad Europea de Cardiología",
                        url: "https://www.escardio.org/Guidelines/Clinical-Practice-Guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "EchoEd",
                        description: "Educación en ecocardiografía",
                        url: "https://www.echoed.org",
                        icon: "fa-heart-pulse",
                        category: "Educación"
                    }
                ]
            },
            neumologia: {
                title: "Neumología",
                icon: "fa-lungs",
                description: "Diagnóstico y tratamiento de enfermedades respiratorias",
                procedures: [
                    {
                        id: "asma",
                        title: "Manejo de Asma Aguda",
                        icon: "fa-lungs-virus",
                        summary: "Manejo de la descompensación aguda de asma.",
                        materials: ["Salbutamol", "Corticosteroides", "Oxígeno", "Monitorización"],
                        steps: [
                            "Evaluación inicial de la severidad",
                            "Terapia broncodilatadora (salbutamol)",
                            "Terapia con corticosteroides sistémicos",
                            "Oxigenoterapia según necesidad",
                            "Monitoreo continuo de respuesta",
                            "Decisión de hospitalización"
                        ],
                        notes: "Utilizar escalas de evaluación objetiva. Considerar intubación si empeora.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Asthma_attack_management.jpg/800px-Asthma_attack_management.jpg",
                                title: "Manejo de Asma Aguda",
                                description: "Algoritmo de manejo"
                            }
                        ],
                        source: {
                            name: "GINA",
                            description: "Global Initiative for Asthma Guidelines",
                            url: "https://ginasthma.org"
                        },
                        lastUpdated: "2023-11-10"
                    },
                    {
                        id: "epoc",
                        title: "EPOC Aguda",
                        icon: "fa-lungs",
                        summary: "Manejo de la exacerbación aguda de la enfermedad pulmonar obstructiva crónica.",
                        materials: ["Broncodilatadores", "Corticosteroides", "Antibióticos", "Oxígeno terapia", "Ventilación no invasiva"],
                        steps: [
                            "Evaluación inicial de la severidad",
                            "Terapia broncodilatadora (beta-2 agonistas, anticolinérgicos)",
                            "Terapia con corticosteroides sistémicos",
                            "Terapia antimicrobiana si indicado",
                            "Oxigenoterapia controlada (mantener SpO2 88-92%)",
                            "Soporte ventilatorio no invasivo si indicado"
                        ],
                        notes: "Evitar hiperoxia. Monitorear gases arteriales. Evaluar necesidad de ventilación mecánica.",
                        source: {
                            name: "GOLD",
                            description: "Global Initiative for Chronic Obstructive Lung Disease",
                            url: "https://goldcopd.org"
                        },
                        lastUpdated: "2023-10-05"
                    }
                ],
                diseases: [
                    {
                        id: "tb",
                        name: "Tuberculosis",
                        prevalence: "Afecta a 10 millones de personas al año, causa 1.5 millones de muertes",
                        description: "Enfermedad infecciosa causada por Mycobacterium tuberculosis",
                        symptoms: ["Tos crónica >3 semanas", "Hemoptisis", "Fiebre vespertina", "Sudores nocturnos", "Pérdida de peso"],
                        treatment: ["Regimen cuádruple inicial (isoniacida, rifampicina, pirazinamida, etambutol)", "Tratamiento de 6 meses", "Terapia directamente observada", "Control de contactos"],
                        prognosis: "Curación >85% con tratamiento completo. Resistencia a medicamentos es un problema creciente.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Tuberculosis_chest_x_ray.jpg/800px-Tuberculosis_chest_x_ray.jpg",
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Acid_fast_stain_of_M._tuberculosis.jpg/800px-Acid_fast_stain_of_M._tuberculosis.jpg"
                        ],
                        sources: [
                            {
                                name: "OMS",
                                url: "https://www.who.int/teams/global-tuberculosis-programme"
                            },
                            {
                                name: "CDC",
                                url: "https://www.cdc.gov/tb"
                            }
                        ],
                        lastUpdated: "2023-08-30"
                    }
                ],
                resources: [
                    {
                        title: "GINA Guidelines",
                        description: "Guías globales para el manejo del asma",
                        url: "https://ginasthma.org",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "GOLD Guidelines",
                        description: "Guías para el manejo de la EPOC",
                        url: "https://goldcopd.org",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "ATS Resources",
                        description: "Recursos de la Sociedad Americana de Neumología",
                        url: "https://www.thoracic.org",
                        icon: "fa-lungs",
                        category: "Educación"
                    }
                ]
            },
            endocrinologia: {
                title: "Endocrinología",
                icon: "fa-brain",
                description: "Diagnóstico y tratamiento de enfermedades endocrinas",
                procedures: [
                    {
                        id: "tiroides",
                        title: "Evaluación de Nódulo Tiroideo",
                        icon: "fa-thyroid",
                        summary: "Algoritmo para la evaluación de nódulos tiroideos.",
                        materials: ["Ecógrafo", "Agujas para biopsia", "Laboratorio de hormonas tiroideas", "Escáner nuclear"],
                        steps: [
                            "Palpación tiroidea",
                            "Determinación de TSH",
                            "Ecografía tiroidea",
                            "Biopsia por aspiración con aguja fina si indicado",
                            "Evaluación citológica",
                            "Decisión terapéutica basada en resultados"
                        ],
                        notes: "La mayoría de los nódulos son benignos. El cáncer de tiroides tiene buen pronóstico con tratamiento adecuado.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Thyroid_nodule_ultrasound.jpg/800px-Thyroid_nodule_ultrasound.jpg",
                                title: "Ecografía de Nódulo Tiroideo",
                                description: "Características ecográficas de nódulos tiroideos"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Thyroid_scan.jpg/800px-Thyroid_scan.jpg",
                                title: "Gammagrafía Tiroidea",
                                description: "Distribución de captación de yodo radiactivo"
                            }
                        ],
                        source: {
                            name: "ATA",
                            type: "fda",
                            description: "American Thyroid Association Guidelines",
                            url: "https://www.thyroid.org"
                        },
                        lastUpdated: "2023-11-15"
                    },
                    {
                        id: "diabetes",
                        title: "Manejo de Diabetes Tipo 2",
                        icon: "fa-syringe",
                        summary: "Enfoque integral para el manejo de la diabetes mellitus tipo 2.",
                        materials: ["Glucómetro", "Insulina", "Medicamentos orales", "Educación diabetológica"],
                        steps: [
                            "Evaluación inicial del control glucémico",
                            "Educación del paciente",
                            "Modificación del estilo de vida",
                            "Farmacoterapia según necesidad",
                            "Monitoreo de complicaciones",
                            "Control de factores de riesgo cardiovascular"
                        ],
                        notes: "El objetivo es prevenir complicaciones a largo plazo. El enfoque debe ser individualizado.",
                        source: {
                            name: "ADA",
                            description: "American Diabetes Association Standards of Care",
                            url: "https://diabetes.org"
                        },
                        lastUpdated: "2023-12-01"
                    }
                ],
                diseases: [
                    {
                        id: "hipotiroidismo",
                        name: "Hipotiroidismo",
                        prevalence: "4-5% de la población general",
                        description: "Deficiencia de hormonas tiroideas",
                        symptoms: ["Fatiga", "Aumento de peso", "Intolerancia al frío", "Piel seca", "Constipación", "Depresión"],
                        treatment: ["Levotiroxina sódica", "Ajuste de dosis según TSH", "Control regular", "Educación al paciente"],
                        prognosis: "Excelente con tratamiento adecuado. La mayoría de los pacientes requieren tratamiento de por vida.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Myxedema_face.jpg/800px-Myxedema_face.jpg"
                        ],
                        sources: [
                            {
                                name: "ATA",
                                url: "https://www.thyroid.org"
                            },
                            {
                                name: "AACE",
                                url: "https://www.aace.com"
                            }
                        ],
                        lastUpdated: "2023-11-20"
                    }
                ],
                resources: [
                    {
                        title: "ADA Standards of Care",
                        description: "Estándares de atención para diabetes",
                        url: "https://diabetes.org/standards-of-care",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Endocrine Society Guidelines",
                        description: "Guías de la Sociedad de Endocrinología",
                        url: "https://www.endocrine.org/clinical-practice-guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Thyroid Manager",
                        description: "Recursos para el manejo de enfermedades tiroideas",
                        url: "https://www.thyroidmanager.org",
                        icon: "fa-thyroid",
                        category: "Educación"
                    }
                ]
            },
            neurologia: {
                title: "Neurología",
                icon: "fa-head-side-brain",
                description: "Diagnóstico y tratamiento de enfermedades neurológicas",
                procedures: [
                    {
                        id: "lumbar_puncture",
                        title: "Punción Lumbar",
                        icon: "fa-bed",
                        summary: "Procedimiento para obtener líquido cefalorraquídeo.",
                        materials: ["Juego de punción lumbar", "Tubos para muestras", "Equipo estéril", "Anestesia local"],
                        steps: [
                            "Posición adecuada (lateral fetal o sentado)",
                            "Identificación del espacio intervertebral",
                            "Anestesia local",
                            "Inserción de la aguja",
                            "Recolección de muestras",
                            "Retiro de la aguja y apósito"
                        ],
                        notes: "Indicado para diagnóstico de meningitis, hemorragia subaracnoidea, entre otros. Complicación más común: cefalea post-punción.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Lumbar_puncture_position.jpg/800px-Lumbar_puncture_position.jpg",
                                title: "Posición para Punción Lumbar",
                                description: "Posición lateral fetal"
                            }
                        ],
                        source: {
                            name: "AAN",
                            description: "American Academy of Neurology Guidelines",
                            url: "https://www.aan.com"
                        },
                        lastUpdated: "2023-10-15"
                    },
                    {
                        id: "arthrocentesis",
                        title: "Artrocentesis",
                        icon: "fa-bone",
                        summary: "Procedimiento para obtener líquido sinovial de una articulación.",
                        materials: ["Juego de artrocentesis", "Agua oxigenada", "Gasas", "Anestesia local", "Tubos para muestras"],
                        steps: [
                            "Identificación de la articulación",
                            "Preparación antiséptica",
                            "Anestesia local",
                            "Inserción de la aguja",
                            "Aspiración del líquido",
                            "Retiro de la aguja y apósito"
                        ],
                        notes: "Indicado para diagnóstico de artritis séptica, gota, pseudogota. La técnica debe ser estrictamente aséptica.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Knee_arthrocentesis.jpg/800px-Knee_arthrocentesis.jpg",
                                title: "Artrocentesis de Rodilla",
                                description: "Procedimiento de artrocentesis"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Synovial_fluid_analysis.jpg/800px-Synovial_fluid_analysis.jpg",
                                title: "Análisis de Líquido Sinovial",
                                description: "Evaluación del líquido obtenido"
                            }
                        ],
                        source: {
                            name: "ACR",
                            type: "fda",
                            description: "American College of Rheumatology Guidelines",
                            url: "https://www.rheumatology.org"
                        },
                        lastUpdated: "2023-11-30"
                    }
                ],
                diseases: [
                    {
                        id: "migraine",
                        name: "Migraña",
                        prevalence: "Afecta al 12-15% de la población, más común en mujeres",
                        description: "Cefalea primaria caracterizada por episodios recurrentes",
                        symptoms: ["Cefalea pulsátil", "Náuseas", "Vómitos", "Fotofobia", "Fonofobia", "Aura en algunos casos"],
                        treatment: ["Tratamiento agudo (triptanes, AINE)", "Tratamiento preventivo", "Modificación de factores desencadenantes", "Terapias no farmacológicas"],
                        prognosis: "Buena con manejo adecuado. Puede ser discapacitante si no se trata.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Migraine_pathophysiology.jpg/800px-Migraine_pathophysiology.jpg"
                        ],
                        sources: [
                            {
                                name: "AAN",
                                url: "https://www.aan.com/Guidelines/Home/ByTopic/79"
                            },
                            {
                                name: "IHS",
                                url: "https://ichd-3.org"
                            }
                        ],
                        lastUpdated: "2023-09-20"
                    }
                ],
                resources: [
                    {
                        title: "AAN Guidelines",
                        description: "Guías de la Academia Americana de Neurología",
                        url: "https://www.aan.com/Guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Neurology.org",
                        description: "Publicaciones de la Academia Americana de Neurología",
                        url: "https://www.neurology.org",
                        icon: "fa-newspaper",
                        category: "Investigación"
                    },
                    {
                        title: "Migraine Trust",
                        description: "Recursos sobre migraña",
                        url: "https://migrainetrust.org",
                        icon: "fa-head-side-brain",
                        category: "Pacientes"
                    }
                ]
            },
            oncologia: {
                title: "Oncología",
                icon: "fa-dna",
                description: "Diagnóstico y tratamiento de enfermedades oncológicas",
                procedures: [
                    {
                        id: "biopsia",
                        title: "Biopsia de Tejidos",
                        icon: "fa-microscope",
                        summary: "Procedimiento para obtener muestra de tejido para diagnóstico histopatológico.",
                        materials: ["Juego de biopsia", "Equipo estéril", "Anestesia local", "Recipientes para muestras"],
                        steps: [
                            "Identificación de la lesión",
                            "Preparación antiséptica",
                            "Anestesia local",
                            "Obtención de la muestra",
                            "Hemostasia",
                            "Apósito"
                        ],
                        notes: "Fundamental para el diagnóstico de cáncer. La técnica varía según el sitio y tipo de biopsia.",
                        source: {
                            name: "ASCO",
                            description: "American Society of Clinical Oncology Guidelines",
                            url: "https://www.asco.org"
                        },
                        lastUpdated: "2023-11-10"
                    }
                ],
                diseases: [
                    {
                        id: "breast_cancer",
                        name: "Cáncer de Mama",
                        prevalence: "La neoplasia más común en mujeres, 2.3 millones de casos/año",
                        description: "Neoplasia maligna que se origina en las células de la mama",
                        symptoms: ["Masa palpable", "Cambios en la piel", "Retracción del pezón", "Secreción por el pezón", "Dolor"],
                        treatment: ["Cirugía", "Radioterapia", "Quimioterapia", "Terapia hormonal", "Terapia dirigida"],
                        prognosis: "Varía según el estadio y subtipo. Supervivencia a 5 años >90% en estadios iniciales.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Breast_cancer_mammogram.jpg/800px-Breast_cancer_mammogram.jpg"
                        ],
                        sources: [
                            {
                                name: "ASCO",
                                url: "https://www.asco.org/practice-policy/cancer-care-initiatives/breast-cancer-guidelines"
                            },
                            {
                                name: "NCCN",
                                url: "https://www.nccn.org/guidelines/guidelines-detail?category=1&id=1420"
                            }
                        ],
                        lastUpdated: "2023-10-05"
                    }
                ],
                resources: [
                    {
                        title: "ASCO Guidelines",
                        description: "Guías de la Sociedad Americana de Oncología Clínica",
                        url: "https://www.asco.org/guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "NCCN Guidelines",
                        description: "Guías del National Comprehensive Cancer Network",
                        url: "https://www.nccn.org/patients/guidelines/content/",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Cancer.gov",
                        description: "Recursos del National Cancer Institute",
                        url: "https://www.cancer.gov",
                        icon: "fa-dna",
                        category: "Pacientes"
                    }
                ]
            },
            nephrologia: {
                title: "Nefrología",
                icon: "fa-kidneys",
                description: "Diagnóstico y tratamiento de enfermedades renales",
                procedures: [
                    {
                        id: "dialisis",
                        title: "Diálisis Peritoneal",
                        icon: "fa-procedures",
                        summary: "Técnica de depuración extrarrenal que utiliza la membrana peritoneal.",
                        materials: ["Solución de diálisis", "Catéter peritoneal", "Equipo de intercambio", "Báscula"],
                        steps: [
                            "Evaluación del catéter",
                            "Lavado de manos y uso de mascarilla",
                            "Preparación del equipo",
                            "Drenaje del líquido anterior",
                            "Infusión de solución nueva",
                            "Cierre del sistema"
                        ],
                        notes: "Requiere entrenamiento del paciente. Prevenir infecciones del catéter y peritonitis.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Peritoneal_dialysis_exchange.jpg/800px-Peritoneal_dialysis_exchange.jpg",
                                title: "Intercambio de Diálisis Peritoneal",
                                description: "Procedimiento de intercambio de solución"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Peritoneal_dialysis_catheter.jpg/800px-Peritoneal_dialysis_catheter.jpg",
                                title: "Catéter de Diálisis Peritoneal",
                                description: "Colocación del catéter peritoneal"
                            }
                        ],
                        source: {
                            name: "ISPD",
                            type: "fda",
                            description: "International Society for Peritoneal Dialysis Guidelines",
                            url: "https://www.ispd.org"
                        },
                        lastUpdated: "2023-10-28"
                    }
                ],
                diseases: [
                    {
                        id: "irc",
                        name: "Insuficiencia Renal Crónica",
                        prevalence: "10-15% de la población adulta",
                        description: "Pérdida progresiva de la función renal",
                        symptoms: ["Fatiga", "Náuseas", "Edema", "Prurito", "Alteraciones del sueño", "Hipertensión"],
                        treatment: ["Control de factores de riesgo", "Dieta renal", "Tratamiento de complicaciones", "Diálisis", "Trasplante"],
                        prognosis: "Progresiva hacia la diálisis. Buen pronóstico con tratamiento adecuado y trasplante.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Chronic_kidney_disease_stages.jpg/800px-Chronic_kidney_disease_stages.jpg"
                        ],
                        sources: [
                            {
                                name: "KDIGO",
                                url: "https://kdigo.org"
                            },
                            {
                                name: "NKF",
                                url: "https://www.kidney.org"
                            }
                        ],
                        lastUpdated: "2023-11-15"
                    }
                ],
                resources: [
                    {
                        title: "KDIGO Guidelines",
                        description: "Guías para enfermedades renales",
                        url: "https://kdigo.org",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "NKF Resources",
                        description: "Recursos de la Fundación Nacional del Riñón",
                        url: "https://www.kidney.org",
                        icon: "fa-stethoscope",
                        category: "Pacientes"
                    },
                    {
                        title: "ASN Journals",
                        description: "Revistas de la Sociedad de Nefrología",
                        url: "https://www.jasn.org",
                        icon: "fa-newspaper",
                        category: "Investigación"
                    }
                ]
            },
            gastroenterologia: {
                title: "Gastroenterología",
                icon: "fa-stomach",
                description: "Diagnóstico y tratamiento de enfermedades digestivas",
                procedures: [
                    {
                        id: "endoscopia",
                        title: "Endoscopia Digestiva Alta",
                        icon: "fa-procedures",
                        summary: "Examen endoscópico del tracto digestivo superior.",
                        materials: ["Endoscopio", "Equipo de sedación", "Instrumentos terapéuticos", "Monitorización"],
                        steps: [
                            "Evaluación pre-endoscópica",
                            "Sedación",
                            "Introducción del endoscopio",
                            "Examen sistemático",
                            "Procedimientos terapéuticos si indicado",
                            "Retiro del endoscopio",
                            "Recuperación"
                        ],
                        notes: "Indicado para dispepsia, hematemesis, disfagia, entre otros. Complicaciones raras pero graves.",
                        source: {
                            name: "ASGE",
                            description: "American Society for Gastrointestinal Endoscopy Guidelines",
                            url: "https://www.asge.org"
                        },
                        lastUpdated: "2023-10-20"
                    }
                ],
                diseases: [
                    {
                        id: "ulcera_peptica",
                        name: "Úlcera Péptica",
                        prevalence: "Afecta al 5-10% de la población en algún momento de la vida",
                        description: "Lesión en la mucosa del estómago o duodeno",
                        symptoms: ["Dolor epigástrico", "Pirosis", "Náuseas", "Hematemesis", "Melena"],
                        treatment: ["Supresión de ácido", "Erradicación de H. pylori", "Suspensión de AINE", "Tratamiento de complicaciones"],
                        prognosis: "Excelente con tratamiento adecuado. Recurrencia si no se trata la causa.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Peptic_ulcer_endoscopy.jpg/800px-Peptic_ulcer_endoscopy.jpg"
                        ],
                        sources: [
                            {
                                name: "ACG",
                                url: "https://gi.org/guidelines/management-of-patients-with-peptic-ulcer-disease/"
                            },
                            {
                                name: "Maastricht",
                                url: "https://www.maastricht-v-maastricht-v-f-v-report-2017"
                            }
                        ],
                        lastUpdated: "2023-09-15"
                    }
                ],
                resources: [
                    {
                        title: "ACG Guidelines",
                        description: "Guías de la American College of Gastroenterology",
                        url: "https://gi.org/guidelines/",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "Gastroenterology.org",
                        description: "Publicaciones de la American Gastroenterological Association",
                        url: "https://www.gastro.org",
                        icon: "fa-newspaper",
                        category: "Investigación"
                    },
                    {
                        title: "IBDrelief",
                        description: "Recursos sobre enfermedad inflamatoria intestinal",
                        url: "https://ibdrelief.com",
                        icon: "fa-stomach",
                        category: "Pacientes"
                    }
                ]
            },
            reumatologia: {
                title: "Reumatología",
                icon: "fa-bone",
                description: "Diagnóstico y tratamiento de enfermedades reumáticas",
                procedures: [
                    {
                        id: "arthrocentesis",
                        title: "Artrocentesis",
                        icon: "fa-bone",
                        summary: "Procedimiento para obtener líquido sinovial de una articulación.",
                        materials: ["Juego de artrocentesis", "Agua oxigenada", "Gasas", "Anestesia local", "Tubos para muestras"],
                        steps: [
                            "Identificación de la articulación",
                            "Preparación antiséptica",
                            "Anestesia local",
                            "Inserción de la aguja",
                            "Aspiración del líquido",
                            "Retiro de la aguja y apósito"
                        ],
                        notes: "Indicado para diagnóstico de artritis séptica, gota, pseudogota. La técnica debe ser estrictamente aséptica.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Knee_arthrocentesis.jpg/800px-Knee_arthrocentesis.jpg",
                                title: "Artrocentesis de Rodilla",
                                description: "Procedimiento de artrocentesis"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Synovial_fluid_analysis.jpg/800px-Synovial_fluid_analysis.jpg",
                                title: "Análisis de Líquido Sinovial",
                                description: "Evaluación del líquido obtenido"
                            }
                        ],
                        source: {
                            name: "ACR",
                            type: "fda",
                            description: "American College of Rheumatology Guidelines",
                            url: "https://www.rheumatology.org"
                        },
                        lastUpdated: "2023-11-30"
                    }
                ],
                diseases: [
                    {
                        id: "artritis_reumatoide",
                        name: "Artritis Reumatoide",
                        prevalence: "0.5-1% de la población mundial",
                        description: "Enfermedad autoinmune que afecta principalmente las articulaciones",
                        symptoms: ["Dolor articular", "Hinchazón", "Rigidez matutina >1 hora", "Afectación simétrica", "Nódulos reumatoides"],
                        treatment: ["DMARDs", "Corticosteroides", "Biológicos", "Terapia física", "Cirugía si indicado"],
                        prognosis: "Variable. El tratamiento temprano mejora significativamente el pronóstico.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Rheumatoid_arthritis_hand_xray.jpg/800px-Rheumatoid_arthritis_hand_xray.jpg"
                        ],
                        sources: [
                            {
                                name: "ACR",
                                url: "https://www.rheumatology.org/Practice-Quality/Clinical-Support/Clinical-Practice-Guidelines"
                            },
                            {
                                name: "EULAR",
                                url: "https://www.eular.org/eular_recommendations.cfm"
                            }
                        ],
                        lastUpdated: "2023-10-10"
                    }
                ],
                resources: [
                    {
                        title: "ACR Guidelines",
                        description: "Guías de la American College of Rheumatology",
                        url: "https://www.rheumatology.org/Practice-Quality/Clinical-Support/Clinical-Practice-Guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "EULAR Recommendations",
                        description: "Recomendaciones de la Alianza Europea de Reumatología",
                        url: "https://www.eular.org/eular_recommendations.cfm",
                        icon: "fa-stethoscope",
                        category: "Educación"
                    },
                    {
                        title: "Lupus.org",
                        description: "Recursos sobre lupus eritematoso sistémico",
                        url: "https://www.lupus.org",
                        icon: "fa-clinic-medical",
                        category: "Pacientes"
                    }
                ]
            },
            nutricion: {
                title: "Nutrición Clínica",
                icon: "fa-apple-alt",
                description: "Evaluación y manejo nutricional de pacientes hospitalizados",
                procedures: [
                    {
                        id: "evaluacion",
                        title: "Evaluación Nutricional",
                        icon: "fa-clipboard-list",
                        summary: "Evaluación integral del estado nutricional del paciente.",
                        materials: ["Historia clínica", "Examen físico", "Antropometría", "Laboratorio", "Escalas de evaluación"],
                        steps: [
                            "Recopilación de historia dietética",
                            "Evaluación antropométrica (peso, talla, pliegues)",
                            "Examen físico para signos de deficiencia",
                            "Evaluación de laboratorio relevante",
                            "Aplicación de escalas (MUST, NRS-2002)",
                            "Diagnóstico nutricional",
                            "Plan nutricional individualizado"
                        ],
                        notes: "Identificar riesgo de malnutrición. Considerar factores sociales y psicológicos. Reevaluar regularmente. Enfoque multidisciplinario.",
                        source: {
                            name: "ESPEN",
                            description: "European Society for Clinical Nutrition and Metabolism Guidelines",
                            url: "https://www.espen.org"
                        },
                        lastUpdated: "2023-11-05"
                    }
                ],
                diseases: [
                    {
                        id: "desnutricion",
                        name: "Desnutrición Hospitalaria",
                        prevalence: "Afecta al 20-50% de los pacientes hospitalizados",
                        description: "Estado de deficiencia de nutrientes esenciales",
                        symptoms: ["Pérdida de peso", "Debilidad", "Edema", "Alteraciones cutáneas", "Retraso en la cicatrización"],
                        treatment: ["Nutrición oral", "Suplementos", "Nutrición enteral", "Nutrición parenteral", "Tratamiento de la causa subyacente"],
                        prognosis: "Mejora con intervención nutricional oportuna. La desnutrición aumenta complicaciones y mortalidad.",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Malnutrition_child.jpg/800px-Malnutrition_child.jpg"
                        ],
                        sources: [
                            {
                                name: "ESPEN",
                                url: "https://www.espen.org/guidelines"
                            },
                            {
                                name: "ASPEN",
                                url: "https://www.nutritioncare.org"
                            }
                        ],
                        lastUpdated: "2023-10-20"
                    }
                ],
                resources: [
                    {
                        title: "ESPEN Guidelines",
                        description: "Guías de la Sociedad Europea de Nutrición Clínica y Metabolismo",
                        url: "https://www.espen.org/guidelines",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "ASPEN Resources",
                        description: "Recursos de la Sociedad Americana de Nutrición Parenteral y Enteral",
                        url: "https://www.nutritioncare.org",
                        icon: "fa-apple-alt",
                        category: "Educación"
                    },
                    {
                        title: "NutritionFacts.org",
                        description: "Recursos sobre nutrición basados en evidencia",
                        url: "https://nutritionfacts.org",
                        icon: "fa-apple-alt",
                        category: "Pacientes"
                    }
                ]
            },
            infecciones: {
                title: "Control de Infecciones",
                icon: "fa-virus",
                description: "Prevención y manejo de infecciones nosocomiales y comunitarias",
                procedures: [
                    {
                        id: "ppe",
                        title: "Uso de Equipos de Protección Personal",
                        icon: "fa-shield-virus",
                        summary: "Protocolo para el uso adecuado de EPP en situaciones de riesgo infeccioso.",
                        materials: ["Mascarilla N95", "Bata", "Guantes", "Gafas protectoras", "Careta"],
                        steps: [
                            "Lavado de manos",
                            "Colocación de bata",
                            "Colocación de mascarilla",
                            "Colocación de gafas/careta",
                            "Colocación de guantes",
                            "Retiro secuencial del EPP",
                            "Lavado de manos"
                        ],
                        notes: "La secuencia de colocación y retiro es crucial para prevenir la contaminación. Entrenamiento regular es esencial.",
                        visualReferences: [
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/PPE_donning_sequence.jpg/800px-PPE_donning_sequence.jpg",
                                title: "Colocación de EPP",
                                description: "Secuencia correcta para poner equipo de protección"
                            },
                            {
                                url: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/PPE_doffing_sequence.jpg/800px-PPE_doffing_sequence.jpg",
                                title: "Retirada de EPP",
                                description: "Secuencia correcta para quitar equipo de protección"
                            }
                        ],
                        source: {
                            name: "CDC",
                            type: "fda",
                            description: "Centers for Disease Control and Prevention Guidelines",
                            url: "https://www.cdc.gov/infectioncontrol/guidelines/index.html"
                        },
                        lastUpdated: "2023-11-28"
                    }
                ],
                diseases: [
                    {
                        id: "sepsis",
                        name: "Sepsis",
                        prevalence: "27 millones de casos/año globalmente",
                        description: "Respuesta sistémica desregulada a la infección",
                        symptoms: ["Fiebre o hipotermia", "Taquicardia", "Taquipnea", "Leucocitosis o leucopenia", "Hipotensión"],
                        treatment: ["Antibióticos empíricos inmediatos", "Reanimación con fluidos", "Soporte hemodinámico", "Fuente control", "Soporte de órganos"],
                        prognosis: "Mortalidad 15-30%. Mejora con intervención temprana (<1 hora).",
                        images: [
                            "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Sepsis_pathophysiology.jpg/800px-Sepsis_pathophysiology.jpg"
                        ],
                        sources: [
                            {
                                name: "Surviving Sepsis Campaign",
                                url: "https://www.sccm.org/Guidelines/Guidelines-for-the-Management-of-Severe-Sepsis-and-Septic-Shock"
                            },
                            {
                                name: "CDC",
                                url: "https://www.cdc.gov/sepsis/index.html"
                            }
                        ],
                        lastUpdated: "2023-11-10"
                    }
                ],
                resources: [
                    {
                        title: "CDC Infection Control",
                        description: "Guías de control de infecciones",
                        url: "https://www.cdc.gov/infectioncontrol",
                        icon: "fa-book-medical",
                        category: "Referencia"
                    },
                    {
                        title: "WHO Infection Prevention",
                        description: "Prevención de infecciones de la Organización Mundial de la Salud",
                        url: "https://www.who.int/teams/integrated-health-services/infection-prevention-control",
                        icon: "fa-globe",
                        category: "Referencia"
                    },
                    {
                        title: "IDSA Guidelines",
                        description: "Guías de la Sociedad de Enfermedades Infecciosas de América",
                        url: "https://www.idsociety.org/practice-guideline",
                        icon: "fa-virus",
                        category: "Referencia"
                    }
                ]
            },
            movilizacion: {
                title: "Movilización Pacientes",
                icon: "fa-wheelchair",
                description: "Técnicas seguras para la movilización de pacientes",
                procedures: [
                    {
                        id: "traslado",
                        title: "Traslado de Paciente",
                        icon: "fa-procedures",
                        summary: "Técnica segura para el traslado de pacientes entre camas, camillas y sillas de ruedas.",
                        materials: ["Sábana", "Tablilla de transferencia", "Silla de ruedas", "Personal capacitado"],
                        steps: [
                            "Evaluación del paciente",
                            "Explicación del procedimiento",
                            "Posicionamiento adecuado",
                            "Técnica de transferencia",
                            "Verificación de seguridad",
                            "Documentación"
                        ],
                        notes: "Prevenir caídas y lesiones. Usar equipo adecuado. Trabajo en equipo coordinado.",
                        source: {
                            name: "AHA",
                            description: "American Heart Association Patient Safety Guidelines",
                            url: "https://www.heart.org"
                        },
                        lastUpdated: "2023-10-15"
                    }
                ],
                resources: [
                    {
                        title: "Patient Safety Network",
                        description: "Recursos sobre seguridad del paciente",
                        url: "https://psnet.ahrq.gov",
                        icon: "fa-shield-alt",
                        category: "Seguridad"
                    },
                    {
                        title: "Safe Patient Handling",
                        description: "Programas de manipulación segura de pacientes",
                        url: "https://www.cdc.gov/niosh/topics/safepatients/",
                        icon: "fa-wheelchair",
                        category: "Formación"
                    }
                ]
            },
            rcp: {
                title: "RCP Integral",
                icon: "fa-heartbeat",
                description: "Protocolos avanzados de reanimación cardiopulmonar",
                procedures: [
                    {
                        id: "basic_life_support",
                        title: "Soporte Básico de Vida",
                        icon: "fa-heart-pulse",
                        summary: "Manejo inicial del paro cardiorrespiratorio.",
                        materials: ["Desfibrilador", "Equipo de ventilación", "Medicamentos de paro"],
                        steps: [
                            "Verificar ausencia de respuesta",
                            "Activar código paro",
                            "Iniciar compresiones torácicas",
                            "Ventilación con balón y máscara",
                            "Desfibrilación según ritmo",
                            "Acceso venoso",
                            "Administración de medicamentos"
                        ],
                        notes: "Calidad de las compresiones es crucial. Evitar interrupciones. Rotar equipo cada 2 minutos.",
                        source: {
                            name: "AHA",
                            description: "American Heart Association Guidelines for CPR",
                            url: "https://cpr.heart.org"
                        },
                        lastUpdated: "2023-11-20"
                    },
                    {
                        id: "post_cardiac_arrest",
                        title: "Cuidado Post Paro",
                        icon: "fa-procedures",
                        summary: "Manejo del paciente después de la reanimación exitosa.",
                        materials: ["Monitorización neurológica", "Ventilación mecánica", "Terapia de hipotermia", "Soporte hemodinámico", "Evaluación de causa"],
                        steps: [
                            "Optimizar ventilación y oxigenación",
                            "Mantener perfusión cerebral adecuada",
                            "Terapia de hipotermia terapéutica",
                            "Control de glucemia",
                            "Manejo de convulsiones",
                            "Evaluación neurológica serial",
                            "Investigación de causa del paro"
                        ],
                        notes: "La hipotermia terapéutica mejora la supervivencia y el pronóstico neurológico. Monitoreo neurológico es esencial.",
                        source: {
                            name: "AHA",
                            description: "American Heart Association Guidelines for Post-Cardiac Arrest Care",
                            url: "https://www.heart.org"
                        },
                        lastUpdated: "2023-11-15"
                    }
                ],
                protocols: [
                    {
                        name: "Manejo de la TA en IAM",
                        level: 1,
                        steps: [
                            "Si TA >140 mmHg, iniciar nitroglicerina sublingual",
                            "Si persiste TA >140 mmHg, iniciar infusión de nitroglicerina",
                            "Objetivo TA: 140 mmHg sin hipotensión",
                            "Evitar hipotensión (TA <90 mmHg)"
                        ],
                        evidence: [
                            "AHA Guidelines 2023",
                            "ESC Revascularization Guidelines 2022"
                        ]
                    }
                ],
                resources: [
                    {
                        title: "AHA Training",
                        description: "Capacitación en soporte vital avanzado",
                        url: "https://cpr.heart.org/en/training",
                        icon: "fa-graduation-cap",
                        category: "Curso",
                        type: "course",
                        duration: "8 horas",
                        enrolled: 3420,
                        rating: 4.7,
                        published: "2023-09-05"
                    },
                    {
                        title: "ATLS Course",
                        description: "Curso avanzado de vida en trauma",
                        url: "https://www.facs.org/quality-programs/trauma/atls",
                        icon: "fa-graduation-cap",
                        category: "Curso",
                        type: "course",
                        duration: "2 días",
                        enrolled: 2890,
                        rating: 4.8,
                        published: "2023-08-20"
                    }
                ]
            },
            recursos: {
                title: "Recursos Educativos",
                icon: "fa-book-open",
                description: "Biblioteca completa de materiales educativos médicos",
                resources: [
                    {
                        id: "guia_oms",
                        title: "Guía de Práctica Clínica de la OMS",
                        description: "Recomendaciones basadas en evidencia para el manejo de enfermedades infecciosas",
                        url: "https://www.who.int/publications/guidelines",
                        type: "pdf",
                        size: "4.2 MB",
                        category: "Infecciones",
                        image: "https://placehold.co/300x200?text=Guía+OMS",
                        downloads: 1250,
                        rating: 4.8,
                        published: "2023-11-15"
                    },
                    {
                        id: "video_eco",
                        title: "Video Tutorial: Ecocardiografía Básica",
                        description: "Demonstración paso a paso de la técnica de ecocardiografía transtorácica",
                        url: "https://www.youtube.com/watch?v=example",
                        type: "video",
                        duration: "28:45",
                        category: "Cardiología",
                        image: "https://placehold.co/300x200?text=Ecocardiografía",
                        views: 8900,
                        rating: 4.9,
                        published: "2023-10-20"
                    },
                    {
                        id: "curso_rcep",
                        title: "Curso de Reanimación Cardiovascular Avanzada",
                        description: "Curso completo de RCP avanzada con evaluación y certificación",
                        url: "https://cpr.heart.org/en/training",
                        type: "course",
                        duration: "8 horas",
                        category: "Emergencias",
                        image: "https://placehold.co/300x200?text=RCP+Avanzada",
                        enrolled: 3420,
                        rating: 4.7,
                        published: "2023-09-05"
                    },
                    {
                        id: "atlas_derm",
                        title: "Atlas de Dermatología",
                        description: "Colección de imágenes de alta calidad de condiciones dermatológicas",
                        url: "https://dermatlas.com",
                        type: "interactive",
                        category: "Dermatología",
                        image: "https://placehold.co/300x200?text=Atlas+Dermatológico",
                        views: 15600,
                        rating: 4.9,
                        published: "2023-08-12"
                    }
                ],
                externalLinks: [
                    {
                        title: "PubMed",
                        description: "Base de datos de literatura biomédica",
                        url: "https://pubmed.ncbi.nlm.nih.gov",
                        icon: "fa-search",
                        category: "Investigación"
                    },
                    {
                        title: "UpToDate",
                        description: "Recurso clínico basado en evidencia",
                        url: "https://www.uptodate.com",
                        icon: "fa-book-medical",
                        category: "Clínico"
                    },
                    {
                        title: "Cochrane Library",
                        description: "Revisiones sistemáticas de intervenciones de salud",
                        url: "https://www.cochranelibrary.com",
                        icon: "fa-book",
                        category: "Evidencia"
                    }
                ]
            },
            simulador: {
                title: "Simulador de Signos Vitales",
                icon: "fa-vr-cardboard",
                description: "Simulador interactivo de signos vitales para práctica y entrenamiento médico",
                vitals: [
                    { id: "heartRate", label: "Frecuencia Cardíaca", value: 75, unit: "lpm", normalRange: [60, 100] },
                    { id: "bloodPressure", label: "Presión Arterial", value: "120/80", unit: "mmHg", normalRange: [90, 140] },
                    { id: "oxygenSaturation", label: "Sat. Oxígeno", value: 98, unit: "%", normalRange: [95, 100] },
                    { id: "respiratoryRate", label: "Frecuencia Respiratoria", value: 16, unit: "rpm", normalRange: [12, 20] },
                    { id: "temperature", label: "Temperatura", value: 36.8, unit: "°C", normalRange: [36.1, 37.2] }
                ],
                scenarios: [
                    { id: "normal", name: "Normal", values: { heartRate: 75, bloodPressure: "120/80", oxygenSaturation: 98, respiratoryRate: 16, temperature: 36.8 } },
                    { id: "hypertension", name: "Hipertensión", values: { heartRate: 85, bloodPressure: "170/100", oxygenSaturation: 97, respiratoryRate: 18, temperature: 36.9 } },
                    { id: "hypotension", name: "Hipotensión", values: { heartRate: 110, bloodPressure: "85/55", oxygenSaturation: 93, respiratoryRate: 24, temperature: 36.7 } },
                    { id: "fever", name: "Fiebre", values: { heartRate: 95, bloodPressure: "125/80", oxygenSaturation: 96, respiratoryRate: 20, temperature: 38.9 } }
                ]
            },
            evaluacion: {
                title: "Evaluación y Progreso",
                icon: "fa-graduation-cap",
                description: "Sistema de evaluación y seguimiento de tu progreso en el aprendizaje",
                quizzes: {
                    curaciones: [
                        {
                            question: "¿Cuál es el primer paso en la curación de una herida quirúrgica?",
                            options: [
                                "Aplicar el antiséptico",
                                "Lavado de manos y colocación de guantes",
                                "Retirar el apósito anterior",
                                "Evaluar características de la herida"
                            ],
                            correct: 1
                        },
                        {
                            question: "¿Qué solución se recomienda para limpiar la mayoría de las heridas?",
                            options: [
                                "Agua oxigenada",
                                "Solución salina fisiológica",
                                "Alcohol etílico",
                                "Povidona yodada"
                            ],
                            correct: 1
                        }
                    ],
                    cardiologia: [
                        {
                            question: "¿Cuál es el primer paso en el manejo del IAMCEST?",
                            options: [
                                "Administrar aspirina",
                                "Confirmación diagnóstica con ECG",
                                "Establecer acceso venoso",
                                "Administrar clopidogrel"
                            ],
                            correct: 1
                        },
                        {
                            question: "¿Cuál es el objetivo de puerta-balón en IAMCEST?",
                            options: [
                                "<30 minutos",
                                "<60 minutos",
                                "<90 minutos",
                                "<120 minutos"
                            ],
                            correct: 2
                        }
                    ]
                },
                progress: {
                    scores: {},
                    completedQuizzes: []
                }
            }
        };

        // Current state
        let currentCategory = 'emergencias';
        let chatHistory = [];

        // Initialize the app
        function initApp() {
            // Load user preferences
            loadPreferences();
            
            // Initialize event listeners
            initEventListeners();
            
            // Show initial content
            renderContent(currentCategory);
            
            // Initialize chatbot
            initChatbot();
        }

        // Load user preferences
        function loadPreferences() {
            const savedPreferences = localStorage.getItem('edumed_preferences');
            if (savedPreferences) {
                try {
                    const preferences = JSON.parse(savedPreferences);
                    if (preferences.theme) {
                        document.body.className = preferences.theme;
                    }
                    if (preferences.recentCategories) {
                        recentCategories = preferences.recentCategories;
                    }
                } catch (e) {
                    console.log('No preferences found');
                }
            }
        }

        // Save user preferences
        function savePreferences() {
            const preferences = {
                theme: document.body.className,
                recentCategories: recentCategories
            };
            localStorage.setItem('edumed_preferences', JSON.stringify(preferences));
        }

        // Initialize event listeners
        function initEventListeners() {
            // Category buttons
            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.getAttribute('data-cat');
                    activateCategory(category);
                });
            });

            // Search functionality
            searchInput.addEventListener('input', debounce(handleSearch, 300));
            searchInput.addEventListener('focus', handleSearchFocus);
            searchInput.addEventListener('blur', handleSearchBlur);

            // Chatbot functionality
            chatbotToggle.addEventListener('click', toggleChatbot);
            closeChatbot.addEventListener('click', closeChatbotHandler);
            sendMessage.addEventListener('click', sendMessageHandler);
            chatbotInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessageHandler();
                }
            });
            clearHistory.addEventListener('click', clearChatHistory);

            // Mobile menu
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);

            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
        }

        // Activate category
        function activateCategory(category) {
            // Update UI
            categoryButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-cat') === category) {
                    btn.classList.add('active');
                }
            });

            // Update state
            currentCategory = category;
            
            // Close mobile menu on mobile
            if (window.innerWidth <= 992) {
                sidebar.classList.remove('open');
            }

            // Render content
            renderContent(category);
            
            // Save to recent categories
            addToRecentCategories(category);
        }

        // Add to recent categories
        function addToRecentCategories(category) {
            if (!recentCategories.includes(category)) {
                recentCategories.unshift(category);
                if (recentCategories.length > 5) {
                    recentCategories.pop();
                }
                savePreferences();
            }
        }

        // Render content based on category
        function renderContent(category) {
            const contentArea = document.getElementById('contentArea');
            const loading = document.getElementById('loading');
            
            // Show loading
            loading.style.display = 'block';
            contentArea.innerHTML = '';
            
            // Simulate loading delay
            setTimeout(() => {
                let content = '';
                
                if (medicalData[category]) {
                    const data = medicalData[category];
                    
                    if (category === 'emergencias') {
                        content = renderEmergenciasContent(data);
                    } else if (category === 'farmacologia') {
                        content = renderFarmacologiaContent(data);
                    } else if (category === 'cardiologia') {
                        content = renderCardiologiaContent(data);
                    } else if (category === 'neumologia') {
                        content = renderNeumologiaContent(data);
                    } else if (category === 'endocrinologia') {
                        content = renderEndocrinologiaContent(data);
                    } else if (category === 'neurologia') {
                        content = renderNeurologiaContent(data);
                    } else if (category === 'oncologia') {
                        content = renderOncologiaContent(data);
                    } else if (category === 'nephrologia') {
                        content = renderNephrologiaContent(data);
                    } else if (category === 'gastroenterologia') {
                        content = renderGastroenterologiaContent(data);
                    } else if (category === 'reumatologia') {
                        content = renderReumatologiaContent(data);
                    } else if (category === 'nutricion') {
                        content = renderNutricionContent(data);
                    } else if (category === 'infecciones') {
                        content = renderInfeccionesContent(data);
                    } else if (category === 'movilizacion') {
                        content = renderMovilizacionContent(data);
                    } else if (category === 'rcp') {
                        content = renderRcpContent(data);
                    } else if (category === 'recursos') {
                        content = renderRecursosContent(data);
                    } else if (category === 'simulador') {
                        content = renderSimuladorContent(data);
                    } else if (category === 'evaluacion') {
                        content = renderEvaluacionContent(data);
                    } else {
                        content = renderDefaultContent(data);
                    }
                } else {
                    content = `
                        <div class="empty-state">
                            <i class="fas fa-exclamation-circle"></i>
                            <h3>Contenido no disponible</h3>
                            <p>Lo sentimos, el contenido para esta categoría aún está en desarrollo.</p>
                        </div>
                    `;
                }
                
                // Update page header
                const pageHeader = document.querySelector('.page-header');
                pageHeader.innerHTML = `
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                `;
                
                // Set content
                contentArea.innerHTML = content;
                loading.style.display = 'none';
            }, 500);
        }

        // Render emergencias content
        function renderEmergenciasContent(data) {
            return `
                <div class="content-grid">
                    ${data.procedures.map(procedure => `
                        <div class="card">
                            <div class="card-header">
                                <i class="fas ${procedure.icon} card-icon"></i>
                                <h3 class="card-title">${procedure.title}</h3>
                            </div>
                            <div class="card-body">
                                <p class="card-content">${procedure.summary}</p>
                                <ul class="steps-list">
                                    ${procedure.steps.slice(0, 5).map(step => `<li>${step}</li>`).join('')}
                                </ul>
                                <div class="notes">
                                    <i class="fas fa-lightbulb"></i>
                                    <strong>Nota:</strong> ${procedure.notes.split('.')[0]}.
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="procedure-detail">
                    <div class="procedure-header">
                        <i class="fas fa-heart-pulse procedure-icon"></i>
                        <h2 class="procedure-title">Infarto Agudo de Miocardio</h2>
                    </div>
                    <p class="procedure-summary">Protocolo de manejo del infarto agudo de miocardio con elevación del segmento ST (IAMCEST).</p>
                    
                    <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                    <div class="materials-list">
                        ${data.procedures[0].materials.map(material => `
                            <span class="material-tag">${material}</span>
                        `).join('')}
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                    <ol class="steps-list">
                        ${data.procedures[0].steps.map((step, index) => `
                            <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                        `).join('')}
                    </ol>
                    
                    <div class="notes">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Recomendaciones Clave:</strong> ${data.procedures[0].notes}
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                    <div class="visual-references">
                        ${data.procedures[0].visualReferences.map(ref => `
                            <div class="visual-item">
                                <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                <div class="visual-caption">${ref.title}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="source-reference">
                        <i class="fas fa-book"></i>
                        Fuente: <a href="${data.procedures[0].source.url}" target="_blank">${data.procedures[0].source.name}</a>
                        <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(data.procedures[0].lastUpdated)}</span>
                    </div>
                </div>
            `;
        }

        // Render farmacologia content
        function renderFarmacologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                ${data.medications.map(medication => `
                    <div class="medication-card">
                        <div class="medication-header">
                            <div>
                                <div class="medication-name">${medication.name}</div>
                                <div class="medication-class">${medication.class}</div>
                            </div>
                        </div>
                        <div class="medication-body">
                            <div class="info-grid">
                                <div class="info-item">
                                    <div class="info-label">Indicaciones</div>
                                    <div class="info-value">${medication.indications}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Dosificación</div>
                                    <div class="info-value">${medication.dosage}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Efectos Secundarios</div>
                                    <div class="info-value">${medication.sideEffects.join(', ')}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Farmacocinética</div>
                                    <div class="info-value">${medication.pharmacokinetics}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Precauciones</div>
                                    <div class="info-value">${medication.warnings}</div>
                                </div>
                                <div class="info-item">
                                    <div class="info-label">Almacenamiento</div>
                                    <div class="info-value">${medication.storage}</div>
                                </div>
                            </div>
                            
                            <div class="image-gallery">
                                ${medication.images.map(img => `
                                    <div class="image-item">
                                        <img src="${img}" alt="${medication.name}" style="max-width: 200px; border-radius: 8px;">
                                        <div class="image-caption"><strong>${medication.name}</strong></div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${medication.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(medication.lastUpdated)}</span>
                            </div>
                        </div>
                    </div>
                `).join('')}
                
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-exchange-alt card-icon"></i>
                        <h3 class="card-title">Interacciones Medicamentosas</h3>
                    </div>
                    <div class="card-body">
                        <p>Advertencias importantes sobre combinaciones de medicamentos que pueden ser peligrosas.</p>
                        ${data.interactions.map(interaction => `
                            <div class="interaction-warning ${interaction.severity.toLowerCase()}">
                                <i class="fas ${interaction.severity === 'Severe' ? 'fa-exclamation-triangle' : 'fa-exclamation-circle'}"></i>
                                <div>
                                    <strong>Interacción: ${interaction.drugs.join(' y ')}</strong><br>
                                    <small>Mecanismo: ${interaction.mechanism}</small>
                                </div>
                            </div>
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendación:</strong> ${interaction.recommendation}
                            </div>
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Evidencia: ${interaction.evidence}
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-link card-icon"></i>
                        <h3 class="card-title">Recursos de Farmacología</h3>
                    </div>
                    <div class="card-body">
                        <div class="resource-grid">
                            ${data.resources.map(resource => `
                                <div class="resource-card">
                                    <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                    <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                    <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                    <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // Render cardiologia content
        function renderCardiologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render neumologia content
        function renderNeumologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-lungs"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render endocrinologia content
        function renderEndocrinologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-brain"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render neurologia content
        function renderNeurologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-head-side-brain"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render oncologia content
        function renderOncologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-dna"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render nephrologia content
        function renderNephrologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-kidneys"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render gastroenterologia content
        function renderGastroenterologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-stomach"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render reumatologia content
        function renderReumatologiaContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-bone"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render nutricion content
        function renderNutricionContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-apple-alt"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render infecciones content
        function renderInfeccionesContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="diseases">Enfermedades</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-image"></i>Referencias Visuales</h3>
                            <div class="visual-references">
                                ${procedure.visualReferences.map(ref => `
                                    <div class="visual-item">
                                        <img src="${ref.url}" alt="${ref.title}" class="visual-image">
                                        <div class="visual-caption">${ref.title}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="diseases">
                    ${data.diseases.map(disease => `
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-title">${disease.name}</div>
                                <div class="disease-prevalence">${disease.prevalence}</div>
                            </div>
                            <p class="disease-description">${disease.description}</p>
                            
                            <div class="disease-symptoms">
                                <i class="fas fa-virus"></i>
                                <strong>Síntomas:</strong>
                                <ul>
                                    ${disease.symptoms.map(symptom => `<li>${symptom}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-treatment">
                                <i class="fas fa-pills"></i>
                                <strong>Tratamiento:</strong>
                                <ul>
                                    ${disease.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="disease-prognosis">
                                <i class="fas fa-heartbeat"></i>
                                <strong>Prognóstico:</strong> ${disease.prognosis}
                            </div>
                            
                            <img src="${disease.images[0]}" alt="${disease.name}" class="disease-image">
                            
                            <div class="source-reference">
                                <i class="fas fa-link"></i>
                                Fuentes: ${disease.sources.map(source => `<a href="${source.url}" target="_blank">${source.name}</a>`).join(' • ')}
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(disease.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render movilizacion content
        function renderMovilizacionContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Visitar Recurso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render rcp content
        function renderRcpContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="procedures">Procedimientos</div>
                    <div class="tab" data-tab="protocols">Protocolos</div>
                    <div class="tab" data-tab="resources">Recursos</div>
                </div>
                
                <div class="tab-content active" id="procedures">
                    ${data.procedures.map(procedure => `
                        <div class="procedure-detail">
                            <div class="procedure-header">
                                <i class="fas ${procedure.icon} procedure-icon"></i>
                                <h2 class="procedure-title">${procedure.title}</h2>
                            </div>
                            <p class="procedure-summary">${procedure.summary}</p>
                            
                            <h3 class="section-title"><i class="fas fa-box-open"></i>Materiales</h3>
                            <div class="materials-list">
                                ${procedure.materials.map(material => `
                                    <span class="material-tag">${material}</span>
                                `).join('')}
                            </div>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Procedimiento</h3>
                            <ol class="steps-list">
                                ${procedure.steps.map((step, index) => `
                                    <li><strong>Paso ${index + 1}:</strong> ${step}</li>
                                `).join('')}
                            </ol>
                            
                            <div class="notes">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Recomendaciones Clave:</strong> ${procedure.notes}
                            </div>
                            
                            <div class="source-reference">
                                <i class="fas fa-book"></i>
                                Fuente: <a href="${procedure.source.url}" target="_blank">${procedure.source.name}</a>
                                <span style="margin-left: 8px; font-size: 0.8rem; color: var(--text-light);">Actualizado: ${formatDate(procedure.lastUpdated)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="protocols">
                    ${data.protocols.map(protocol => `
                        <div class="protocol-container">
                            <div class="protocol-header">
                                <i class="fas fa-clipboard-check protocol-icon"></i>
                                <h2 class="protocol-title">${protocol.name}</h2>
                            </div>
                            <p class="protocol-summary">Nivel de evidencia: ${protocol.level}</p>
                            
                            <h3 class="section-title"><i class="fas fa-list-ol"></i>Pasos del Protocolo</h3>
                            <div class="protocol-steps">
                                ${protocol.steps.map((step, index) => `
                                    <div class="protocol-step">
                                        <div class="step-number">${index + 1}</div>
                                        <div class="step-content">${step}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="protocol-evidence">
                                <i class="fas fa-book"></i>
                                <strong>Evidencia:</strong>
                                <ul>
                                    ${protocol.evidence.map(evidence => `<li>${evidence}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <p><i class="fas fa-clock"></i>Duración: ${resource.duration}</p>
                                <p><i class="fas fa-user-graduate"></i>Inscritos: ${resource.enrolled}</p>
                                <p><i class="fas fa-star" style="color: gold;"></i> Calificación: ${resource.rating}/5</p>
                                <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i>Acceder al Curso</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render recursos content
        function renderRecursosContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="resources">Recursos</div>
                    <div class="tab" data-tab="external">Enlaces Externos</div>
                </div>
                
                <div class="tab-content active" id="resources">
                    <div class="resource-grid">
                        ${data.resources.map(resource => `
                            <div class="resource-card">
                                <h3><i class="fas ${resource.icon}"></i>${resource.title}</h3>
                                <p><i class="fas fa-info-circle"></i>${resource.description}</p>
                                <p><i class="fas fa-tags"></i>Categoría: ${resource.category}</p>
                                <p><i class="fas fa-file"></i>Tipo: ${resource.type}</p>
                                ${resource.type === 'pdf' ? `<p><i class="fas fa-download"></i>Tamaño: ${resource.size}</p>` : ''}
                                ${resource.type === 'video' ? `<p><i class="fas fa-clock"></i>Duración: ${resource.duration}</p>` : ''}
                                ${resource.type === 'course' ? `<p><i class="fas fa-user-graduate"></i>Inscritos: ${resource.enrolled}</p>` : ''}
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
                                    <span><i class="fas fa-star" style="color: gold;"></i> ${resource.rating}/5</span>
                                    <a href="${resource.url}" target="_blank"><i class="fas fa-external-link-alt"></i> Acceder</a>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="tab-content" id="external">
                    <div class="external-links">
                        <h3><i class="fas fa-link"></i>Enlaces Externos Recomendados</h3>
                        ${data.externalLinks.map(link => `
                            <a href="${link.url}" target="_blank">
                                <i class="fas ${link.icon}"></i>
                                <div>
                                    <div>${link.title}</div>
                                    <div style="color: var(--text-light); font-size: 0.9rem;">${link.description}</div>
                                </div>
                            </a>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Render simulador content
        function renderSimuladorContent(data) {
            return `
                <div class="simulator-container">
                    <div class="simulator-header">
                        <i class="fas ${data.icon} simulator-icon"></i>
                        <h2 class="simulator-title">${data.title}</h2>
                    </div>
                    <p class="page-description">${data.description}</p>
                    
                    <div class="vitals-grid">
                        ${data.vitals.map(vital => `
                            <div class="vital-card">
                                <div class="vital-label">${vital.label}</div>
                                <div class="vital-value">${vital.value}</div>
                                <div class="vital-unit">${vital.unit}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="scenario-selector">
                        <div class="scenario-title">Seleccionar Escenario Clínico:</div>
                        <div class="scenario-options">
                            ${data.scenarios.map(scenario => `
                                <button class="scenario-btn ${scenario.id === 'normal' ? 'active' : ''}" data-scenario="${scenario.id}">
                                    ${scenario.name}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="simulator-controls">
                        <button class="control-btn" onclick="randomizeVitals()">Valores Aleatorios</button>
                        <button class="control-btn secondary" onclick="resetVitals()">Restablecer</button>
                    </div>
                </div>
            `;
        }

        // Render evaluacion content
        function renderEvaluacionContent(data) {
            return `
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas ${data.icon}"></i>
                        ${data.title}
                    </h1>
                    <p class="page-description">${data.description}</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="quizzes">Evaluaciones</div>
                    <div class="tab" data-tab="progress">Progreso</div>
                </div>
                
                <div class="tab-content active" id="quizzes">
                    ${Object.keys(data.quizzes).map(category => `
                        <div class="quiz-container">
                            <div class="quiz-header">
                                <h2 class="quiz-title">${medicalData[category]?.title || category}</h2>
                                <div class="quiz-info">
                                    <div class="quiz-meta">
                                        <i class="fas fa-question-circle"></i>
                                        ${data.quizzes[category].length} preguntas
                                    </div>
                                </div>
                            </div>
                            
                            <div id="quiz-${category}">
                                <div class="loading-container">
                                    <div class="spinner"></div>
                                    <div class="loading-text">Cargando evaluación...</div>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tab-content" id="progress">
                    <div class="progress-container">
                        <div class="progress-header">
                            <h3>Resumen de Progreso</h3>
                            <div class="quiz-meta">
                                <i class="fas fa-check-circle"></i>
                                ${Object.keys(data.progress.scores).length} evaluaciones completadas
                            </div>
                        </div>
                        
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${calculateOverallProgress()}%"></div>
                        </div>
                        
                        <div class="quiz-meta" style="margin-top: 8px;">
                            Progreso general: ${calculateOverallProgress()}%
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-chart-bar card-icon"></i>
                            <h3 class="card-title">Detalles de Evaluaciones</h3>
                        </div>
                        <div class="card-body">
                            ${Object.keys(data.progress.scores).length > 0 ? 
                                Object.keys(data.progress.scores).map(category => `
                                    <div style="margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid var(--border-light);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <strong>${medicalData[category]?.title || category}</strong>
                                            <span style="color: ${getScoreColor(data.progress.scores[category])}; font-weight: 600;">
                                                ${data.progress.scores[category]}%
                                            </span>
                                        </div>
                                        <div class="progress-bar" style="height: 6px;">
                                            <div class="progress-fill" style="width: ${data.progress.scores[category]}%; background-color: ${getScoreColor(data.progress.scores[category])};"></div>
                                        </div>
                                    </div>
                                `).join('') : 
                                '<p>No has completado ninguna evaluación aún. ¡Empieza ahora!</p>'
                            }
                        </div>
                    </div>
                </div>
            `;
        }

        // Render default content
        function renderDefaultContent(data) {
            return `
                <div class="empty-state">
                    <i class="fas fa-info-circle"></i>
                    <h3>Contenido en Desarrollo</h3>
                    <p>El contenido para ${data.title} está actualmente en desarrollo. Por favor, revisite más tarde.</p>
                </div>
            `;
        }

        // Handle search
        function handleSearch() {
            const query = searchInput.value.trim().toLowerCase();
            
            if (query.length < 2) {
                searchSuggestions.style.display = 'none';
                return;
            }
            
            const suggestions = [];
            
            // Search across all categories
            Object.keys(medicalData).forEach(categoryKey => {
                const category = medicalData[categoryKey];
                const categoryTitle = category.title;
                
                // Search in procedures
                if (category.procedures) {
                    category.procedures.forEach(procedure => {
                        if (procedure.title.toLowerCase().includes(query) || 
                            procedure.summary.toLowerCase().includes(query)) {
                            suggestions.push({
                                type: 'procedure',
                                title: procedure.title,
                                summary: procedure.summary,
                                category: categoryTitle,
                                categoryKey: categoryKey,
                                icon: procedure.icon
                            });
                        }
                    });
                }
                
                // Search in medications
                if (category.medications) {
                    category.medications.forEach(medication => {
                        if (medication.name.toLowerCase().includes(query) ||
                            medication.class.toLowerCase().includes(query) ||
                            medication.indications.toLowerCase().includes(query)) {
                            suggestions.push({
                                type: 'medication',
                                title: medication.name,
                                summary: `${medication.class} - ${medication.indications}`,
                                category: categoryTitle,
                                categoryKey: categoryKey,
                                icon: 'fa-pills'
                            });
                        }
                    });
                }
                
                // Search in diseases
                if (category.diseases) {
                    category.diseases.forEach(disease => {
                        if (disease.name.toLowerCase().includes(query) ||
                            disease.description.toLowerCase().includes(query)) {
                            suggestions.push({
                                type: 'disease',
                                title: disease.name,
                                summary: disease.description,
                                category: categoryTitle,
                                categoryKey: categoryKey,
                                icon: 'fa-user-injured'
                            });
                        }
                    });
                }
                
                // Search in resources
                if (category.resources) {
                    category.resources.forEach(resource => {
                        if (resource.title.toLowerCase().includes(query) ||
                            resource.description.toLowerCase().includes(query)) {
                            suggestions.push({
                                type: 'resource',
                                title: resource.title,
                                summary: resource.description,
                                category: categoryTitle,
                                categoryKey: categoryKey,
                                icon: resource.icon
                            });
                        }
                    });
                }
            });
            
            // Display suggestions
            if (suggestions.length > 0) {
                searchSuggestions.style.display = 'block';
                searchSuggestions.innerHTML = suggestions.slice(0, 8).map(suggestion => `
                    <div class="suggestion-item" onclick="selectSuggestion('${suggestion.categoryKey}')">
                        <i class="fas ${suggestion.icon} suggestion-icon"></i>
                        <div>
                            <div class="suggestion-title">${suggestion.title}</div>
                            <div class="suggestion-category">${suggestion.category} • ${suggestion.type}</div>
                        </div>
                    </div>
                `).join('');
            } else {
                searchSuggestions.style.display = 'none';
            }
        }

        // Handle search focus
        function handleSearchFocus() {
            if (searchSuggestions.style.display !== 'none' && searchInput.value.trim().length >= 2) {
                searchSuggestions.style.display = 'block';
            }
        }

        // Handle search blur
        function handleSearchBlur() {
            setTimeout(() => {
                searchSuggestions.style.display = 'none';
            }, 200);
        }

        // Select suggestion
        function selectSuggestion(category) {
            activateCategory(category);
            searchInput.value = '';
            searchSuggestions.style.display = 'none';
        }

        // Debounce function
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Format date
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('es-ES', options);
        }

        // Initialize chatbot
        function initChatbot() {
            // Load chat history
            loadChatHistory();
            
            // Setup event listeners are already in initEventListeners
        }

        // Load chat history
        function loadChatHistory() {
            const savedHistory = localStorage.getItem('edumed_chat_history');
            if (savedHistory) {
                try {
                    chatHistory = JSON.parse(savedHistory);
                    renderChatHistory();
                } catch (e) {
                    chatHistory = [];
                }
            }
        }

        // Save chat history
        function saveChatHistory() {
            localStorage.setItem('edumed_chat_history', JSON.stringify(chatHistory));
        }

        // Render chat history
        function renderChatHistory() {
            chatbotMessages.innerHTML = '';
            chatHistory.forEach(message => {
                addMessageToChat(message.text, message.sender);
            });
        }

        // Add message to chat
        function addMessageToChat(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.textContent = text;
            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        // Toggle chatbot
        function toggleChatbot() {
            chatbot.classList.toggle('open');
            if (chatbot.classList.contains('open')) {
                setTimeout(() => chatbotInput.focus(), 300);
            }
        }

        // Close chatbot handler
        function closeChatbotHandler() {
            chatbot.classList.remove('open');
        }

        // Send message handler
        function sendMessageHandler() {
            const message = chatbotInput.value.trim();
            if (message === '') return;
            
            // Add user message
            addMessageToChat(message, 'user');
            chatHistory.push({ text: message, sender: 'user' });
            chatbotInput.value = '';
            
            // Show typing indicator
            typingIndicator.style.display = 'flex';
            
            // Get bot response
            setTimeout(() => {
                typingIndicator.style.display = 'none';
                const response = generateBotResponse(message);
                addMessageToChat(response, 'bot');
                chatHistory.push({ text: response, sender: 'bot' });
                saveChatHistory();
            }, 1500);
        }

        // Generate bot response
        function generateBotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('hola') || lowerMessage.includes('buenos días') || lowerMessage.includes('buenas tardes')) {
                return '¡Hola! Soy tu asistente médico virtual. ¿En qué puedo ayudarte hoy? Puedo proporcionarte información sobre procedimientos médicos, medicamentos, emergencias y más.';
            } else if (lowerMessage.includes('emergencia') || lowerMessage.includes('urgencia') || lowerMessage.includes('paro')) {
                return 'Para emergencias médicas, te recomiendo consultar la sección de "Emergencias Médicas" donde encontrarás protocolos para IAM, ictus, asma aguda, sepsis y más. ¿Hay alguna emergencia específica que te interese?';
            } else if (lowerMessage.includes('fármaco') || lowerMessage.includes('medicamento') || lowerMessage.includes('droga') || lowerMessage.includes('pastilla')) {
                return 'Para información sobre medicamentos, consulta la sección de "Farmacología" donde encontrarás detalles sobre aspirina, clopidogrel, metformina y más, incluyendo dosis, efectos secundarios e interacciones.';
            } else if (lowerMessage.includes('procedimiento') || lowerMessage.includes('protocolo') || lowerMessage.includes('cómo se hace')) {
                return 'Puedo ayudarte a encontrar información sobre procedimientos médicos. ¿Hay algún procedimiento específico que te interese?';
            } else if (lowerMessage.includes('interacción') || lowerMessage.includes('combinación') || lowerMessage.includes('mezcla')) {
                return 'En la sección de Farmacología encontrarás información sobre interacciones medicamentosas peligrosas, como warfarina con aspirina, o simvastatina con itraconazol.';
            } else if (lowerMessage.includes('signo vital') || lowerMessage.includes('presión') || lowerMessage.includes('frecuencia') || lowerMessage.includes('temperatura') || lowerMessage.includes('saturación')) {
                return 'Puedes practicar la interpretación de signos vitales usando nuestro simulador interactivo en la sección "Simulador de Signos Vitales".';
            } else if (lowerMessage.includes('enfermedad') || lowerMessage.includes('patología') || lowerMessage.includes('condición')) {
                return 'Para información sobre enfermedades, consulta la sección de Emergencias Médicas o utiliza la búsqueda. ¿Sobre qué enfermedad necesitas información?';
            } else if (lowerMessage.includes('recurso') || lowerMessage.includes('estudio') || lowerMessage.includes('guía') || lowerMessage.includes('referencia')) {
                return 'Los recursos educativos están disponibles en su sección correspondiente, incluyendo guías de la OMS, videos tutoriales y artículos científicos.';
            } else if (lowerMessage.includes('gracias') || lowerMessage.includes('agrade') || lowerMessage.includes('obrigado')) {
                return '¡De nada! Estoy aquí para ayudarte. ¿Hay algo más en lo que pueda asistirte?';
            } else if (lowerMessage.includes('adiós') || lowerMessage.includes('hasta luego') || lowerMessage.includes('chao')) {
                return '¡Hasta luego! No dudes en volver si tienes más preguntas. Recuerda que este asistente no reemplaza la consulta médica profesional.';
            } else {
                return 'Gracias por tu pregunta. Puedo ayudarte con información sobre emergencias médicas, farmacología, procedimientos y más. Te sugiero explorar las diferentes secciones del menú o especificar tu consulta para obtener información más precisa.';
            }
        }

        // Clear chat history
        function clearChatHistory() {
            if (confirm('¿Estás seguro de que deseas borrar todo el historial de conversación?')) {
                chatHistory = [];
                chatbotMessages.innerHTML = '<div class="message bot">¡Hola! Soy tu asistente médico virtual. ¿En qué puedo ayudarte hoy?</div>';
                localStorage.removeItem('edumed_chat_history');
            }
        }

        // Toggle mobile menu
        function toggleMobileMenu() {
            sidebar.classList.toggle('open');
        }

        // Toggle theme
        function toggleTheme() {
            if (document.body.className === 'dark-theme') {
                document.body.className = '';
                themeToggle.innerHTML = '<i class="fas fa-palette"></i>';
            } else {
                document.body.className = 'dark-theme';
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
            savePreferences();
        }

        // Randomize vitals (for simulator)
        function randomizeVitals() {
            const vitals = medicalData.simulador.vitals;
            vitals.forEach(vital => {
                if (vital.id === 'heartRate') {
                    vital.value = Math.floor(Math.random() * 50) + 60;
                } else if (vital.id === 'bloodPressure') {
                    const systolic = Math.floor(Math.random() * 40) + 110;
                    const diastolic = Math.floor(Math.random() * 20) + 70;
                    vital.value = `${systolic}/${diastolic}`;
                } else if (vital.id === 'oxygenSaturation') {
                    vital.value = Math.floor(Math.random() * 10) + 90;
                } else if (vital.id === 'respiratoryRate') {
                    vital.value = Math.floor(Math.random() * 10) + 12;
                } else if (vital.id === 'temperature') {
                    vital.value = parseFloat((Math.random() * 2 + 36).toFixed(1));
                }
            });
            
            renderSimuladorContent(medicalData.simulador);
        }

        // Reset vitals (for simulator)
        function resetVitals() {
            medicalData.simulador.vitals = [
                { id: "heartRate", label: "Frecuencia Cardíaca", value: 75, unit: "lpm", normalRange: [60, 100] },
                { id: "bloodPressure", label: "Presión Arterial", value: "120/80", unit: "mmHg", normalRange: [90, 140] },
                { id: "oxygenSaturation", label: "Sat. Oxígeno", value: 98, unit: "%", normalRange: [95, 100] },
                { id: "respiratoryRate", label: "Frecuencia Respiratoria", value: 16, unit: "rpm", normalRange: [12, 20] },
                { id: "temperature", label: "Temperatura", value: 36.8, unit: "°C", normalRange: [36.1, 37.2] }
            ];
            
            renderSimuladorContent(medicalData.simulador);
        }

        // Calculate overall progress
        function calculateOverallProgress() {
            const scores = Object.values(medicalData.evaluacion.progress.scores);
            if (scores.length === 0) return 0;
            const total = scores.reduce((sum, score) => sum + score, 0);
            return Math.round(total / scores.length);
        }

        // Get score color
        function getScoreColor(score) {
            if (score >= 80) return '#10b981'; // green
            if (score >= 60) return '#f59e0b'; // yellow
            return '#ef4444'; // red
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'} notification-icon"></i>
                <div class="notification-content">${message}</div>
                <button class="close-notification" onclick="this.parentElement.remove()">&times;</button>
            `;
            notificationContainer.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Initialize app on load
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
